<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dorcas ‚Äì Prospect Funnel (ZAKENDOEN)</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.09);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.65);
      --line: rgba(255,255,255,0.14);
      --good: rgba(70, 220, 140, 0.95);
      --warn: rgba(255, 200, 80, 0.95);
      --bad:  rgba(255, 90, 90, 0.95);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --radius: 14px;
      --radius2: 18px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: var(--font);
      background: radial-gradient(1200px 800px at 20% 10%, rgba(72,120,255,0.25), transparent 60%),
                  radial-gradient(1200px 800px at 90% 30%, rgba(255,120,220,0.18), transparent 55%),
                  radial-gradient(900px 700px at 40% 90%, rgba(90,255,210,0.12), transparent 55%),
                  var(--bg);
      color: var(--text);
    }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: rgba(11,18,32,0.72);
      border-bottom: 1px solid var(--line);
    }
    .bar {
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 12px 14px;
      flex-wrap: wrap;
    }
    .title {
      display: flex;
      align-items: baseline;
      gap: 10px;
      padding-right: 10px;
    }
    .title h1 {
      font-size: 16px;
      margin: 0;
      letter-spacing: 0.2px;
    }
    .title .sub {
      font-size: 12px;
      color: var(--muted);
    }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border: 1px solid var(--line);
      background: var(--panel);
      border-radius: 999px;
      box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset;
    }
    input[type="text"], select {
      background: transparent;
      border: 0;
      outline: none;
      color: var(--text);
      font-size: 13px;
      width: 240px;
    }
    select {
      width: auto;
      cursor: pointer;
    }
    .btn {
      cursor: pointer;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      border-radius: 10px;
      padding: 8px 10px;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform .05s ease, background .15s ease;
      user-select: none;
    }
    .btn:hover { background: var(--panel2); }
    .btn:active { transform: translateY(1px); }
    .btn.danger { border-color: rgba(255,90,90,0.4); }
    .btn.good { border-color: rgba(70,220,140,0.35); }
    .btn.small { padding: 6px 8px; border-radius: 10px; font-size: 12px; }
    .spacer { flex: 1; }
    .board-wrap {
      padding: 10px 12px 18px;
    }
    .board {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(320px, 1fr);
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 8px;
      scroll-snap-type: x mandatory;
    }
    .col {
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--line);
      border-radius: var(--radius2);
      min-height: calc(100vh - 110px);
      display: flex;
      flex-direction: column;
      scroll-snap-align: start;
      box-shadow: var(--shadow);
    }
    .col-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 12px 10px;
      border-bottom: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      border-top-left-radius: var(--radius2);
      border-top-right-radius: var(--radius2);
    }
    .col-title {
      font-size: 13px;
      font-weight: 650;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .count {
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      padding: 3px 8px;
      border-radius: 999px;
      background: var(--panel);
    }
    .col-body {
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      flex: 1;
    }
    .card {
      border: 1px solid var(--line);
      background: var(--panel);
      border-radius: var(--radius);
      padding: 10px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.18);
    }
    .card.dragging {
      opacity: 0.6;
      outline: 2px dashed rgba(255,255,255,0.25);
    }
    .row {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .avatar {
      width: 36px;
      height: 36px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.08);
      display: grid;
      place-items: center;
      overflow: hidden;
      flex: 0 0 auto;
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .initials {
      font-size: 12px;
      color: rgba(255,255,255,0.88);
      font-weight: 700;
      letter-spacing: 0.4px;
    }
    .main {
      flex: 1;
      min-width: 0;
    }
    .name {
      font-size: 13px;
      font-weight: 700;
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .headline {
      font-size: 12px;
      color: var(--muted);
      margin: 2px 0 0;
      line-height: 1.25;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .company {
      font-size: 12px;
      color: rgba(255,255,255,0.78);
      margin: 2px 0 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
.meta {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .badge {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.85);
    }
    .badge.good { border-color: rgba(70,220,140,0.35); }
    .badge.warn { border-color: rgba(255,200,80,0.35); }
    .badge.bad  { border-color: rgba(255,90,90,0.35); }
    .actions {
      margin-top: 10px;
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }
    .left-actions {
      display: inline-flex;
      gap: 6px;
      flex-wrap: wrap;
      align-items: center;
    }
    .right-actions {
      display: inline-flex;
      gap: 6px;
      flex-wrap: wrap;
      align-items: center;
    }
    .tiny-link {
      font-size: 12px;
      color: rgba(255,255,255,0.85);
      text-decoration: none;
      border: 1px solid var(--line);
      padding: 6px 8px;
      border-radius: 10px;
      background: rgba(255,255,255,0.04);
    }
    .tiny-link:hover { background: rgba(255,255,255,0.08); }
    .note-preview {
      margin-top: 8px;
      padding: 8px;
      border-radius: 12px;
      border: 1px dashed rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.12);
      color: rgba(255,255,255,0.82);
      font-size: 12px;
      line-height: 1.3;
      white-space: pre-wrap;
      max-height: 72px;
      overflow: hidden;
    }
    .drop-hint {
      font-size: 12px;
      color: rgba(255,255,255,0.55);
      margin-top: 6px;
    }
    /* modal */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 50;
    }
    .modal.open { display: flex; }
    .sheet {
      width: min(980px, 100%);
      max-height: 92vh;
      overflow: auto;
      border: 1px solid var(--line);
      border-radius: 18px;
      background: rgba(11,18,32,0.92);
      box-shadow: 0 30px 90px rgba(0,0,0,0.55);
      padding: 14px;
    }
    .sheet-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      border-bottom: 1px solid var(--line);
      padding-bottom: 10px;
      margin-bottom: 12px;
    }
    .sheet-head h2 {
      margin: 0;
      font-size: 14px;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .field {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 10px;
      background: rgba(255,255,255,0.04);
    }
    .field label {
      display: block;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .field input, .field textarea, .field select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      color: var(--text);
      font-size: 13px;
      outline: none;
    }
    .field textarea { min-height: 110px; resize: vertical; }
    .grid3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 12px;
    }
    .log {
      margin-top: 12px;
      border-top: 1px solid var(--line);
      padding-top: 12px;
    }
    .log h3 {
      margin: 0 0 10px;
      font-size: 13px;
    }
    .log-item {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 10px;
      background: rgba(255,255,255,0.04);
      margin-bottom: 10px;
    }
    .log-item .when {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .muted { color: var(--muted); }
    .footer-help {
      font-size: 12px;
      color: rgba(255,255,255,0.60);
      padding: 0 14px 16px;
    }
    @media (max-width: 900px) {
      .grid, .grid3 { grid-template-columns: 1fr; }
      input[type="text"] { width: 180px; }
    }
  
    /* viewer (photo carousel) */
    .viewer {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.72);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 60;
    }
    .viewer.open { display: flex; }
    .viewer-sheet{
      width: min(980px, 100%);
      border: 1px solid var(--line);
      border-radius: 20px;
      background: rgba(11,18,32,0.94);
      box-shadow: 0 30px 90px rgba(0,0,0,0.60);
      overflow: hidden;
    }
    .viewer-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
    }
    .viewer-head .counter{
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--panel);
    }
    .viewer-body{
      display:grid;
      grid-template-columns: 420px 1fr;
      gap: 0;
      min-height: 380px;
    }
    .viewer-photo{
      border-right: 1px solid var(--line);
      background: rgba(0,0,0,0.18);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 14px;
    }
    .viewer-photo img{
      width: 100%;
      height: 100%;
      max-height: 520px;
      border-radius: 18px;
      object-fit: cover;
      border: 1px solid rgba(255,255,255,0.16);
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
      display:block;
    }
    .viewer-initials{
      width: 100%;
      max-width: 520px;
      aspect-ratio: 1 / 1;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.08);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 56px;
      font-weight: 800;
      letter-spacing: 1px;
      color: rgba(255,255,255,0.92);
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
      user-select:none;
    }
    .viewer-info{ padding: 14px; }
    .viewer-name{ margin:0; font-size:18px; font-weight:800; letter-spacing:0.2px; }
    .viewer-headline{ margin:6px 0 0; color: var(--muted); font-size: 13px; line-height: 1.3; }
    .viewer-badges{ margin-top:12px; display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
    .chips{ margin-top:12px; display:flex; flex-wrap:wrap; gap:6px; }
    .chip{
      font-size: 11px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.82);
      white-space: nowrap;
    }
    .viewer-contacts{ margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .viewer-notes{
      margin-top: 14px;
      border: 1px dashed rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.12);
      border-radius: 16px;
      padding: 10px;
      color: rgba(255,255,255,0.82);
      font-size: 13px;
      line-height: 1.35;
      white-space: pre-wrap;
      max-height: 180px;
      overflow: auto;
    }
    .viewer-footer{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      border-top: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      flex-wrap: wrap;
    }
    .viewer-hint{ font-size: 12px; color: rgba(255,255,255,0.60); }
    @media (max-width: 900px){
      .viewer-body{ grid-template-columns: 1fr; }
      .viewer-photo{ border-right: 0; border-bottom: 1px solid var(--line); }
      .viewer-photo img{ max-height: 420px; }
      .viewer-initials{ max-width: 420px; }
    }

    /* viewer filter panel */
    .viewer-filter{
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .vf-btn{ border-radius: 999px; padding: 8px 10px; }
    .vf-badge{
      font-size: 12px;
      color: var(--muted);
      border: 1px solid var(--line);
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--panel);
    }
    .vf-panel{
      position: absolute;
      right: 0;
      top: calc(100% + 10px);
      width: min(560px, 92vw);
      border: 1px solid var(--line);
      border-radius: 18px;
      background: rgba(11,18,32,0.98);
      box-shadow: 0 20px 70px rgba(0,0,0,0.60);
      padding: 12px;
      z-index: 70;
      display: none;
    }
    .vf-panel.open{ display:block; }
    .vf-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .vf-section{
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      padding: 10px;
      background: rgba(255,255,255,0.03);
    }
    .vf-title{
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 8px;
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }
    .vf-list{
      display:flex;
      flex-direction: column;
      gap: 8px;
      max-height: 220px;
      overflow: auto;
      padding-right: 4px;
    }
    .vf-item{
      display:flex;
      gap: 10px;
      align-items: center;
      font-size: 13px;
      color: rgba(255,255,255,0.88);
    }
    .vf-item input{ transform: scale(1.05); }
    .vf-actions{
      margin-top: 10px;
      display:flex;
      gap: 8px;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    .vf-note{
      font-size: 12px;
      color: rgba(255,255,255,0.60);
    }
    @media (max-width: 900px){
      .vf-grid{ grid-template-columns: 1fr; }
    }
/* ========== Org + Company Logos & Org Modals ========== */

.org-dd-inner{ padding:10px 10px 12px; }

.org-dd-search{
  width:100%;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.18);
  color: var(--text);
  font-size: 13px;
  outline:none;
  margin-bottom: 10px;
}
.org-dd-search::placeholder{ color: rgba(255,255,255,0.45); }

.logo-strip{
  margin-top: 12px;
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}
.logo-strip.mini{ margin-top: 10px; gap:6px; }

/* Main logo tile (ratio 3:2 = width 3, height 2) */
.logo{
  width: 60px;
  aspect-ratio: 3 / 2;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
  display:grid;
  place-items: center;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,0.22);
  padding: 4px;
  box-sizing: border-box;
}

/* Mini logo tile */
.logo.mini{
  width: 45px;
  aspect-ratio: 3 / 2;
  border-radius: 10px;
  padding: 3px;
}

.logo img{
  width:110%;
  height:110%;
  object-fit:contain;
  display:block;
  transform: scale(1.1);
  transform-origin: center;
}

.logo.fallback{
  font-weight: 900;
  font-size: 12px;
  color: rgba(255,255,255,0.88);
  letter-spacing: 0.4px;
  user-select:none;
}

.org-filter-wrap{ position: relative; display:inline-flex; align-items:center; gap:8px; }

.org-panel{
  position:absolute;
  left: 0;
  top: calc(100% + 10px);
  width: min(560px, 92vw);
  border: 1px solid var(--line);
  border-radius: 18px;
  background: rgba(11,18,32,0.98);
  box-shadow: 0 20px 70px rgba(0,0,0,0.60);
  padding: 12px;
  z-index: 90;
  display:none;
}
.org-panel.open{ display:block; }
.org-panel .org-list{
  display:flex;
  flex-direction:column;
  gap:8px;
  max-height: 260px;
  overflow:auto;
  padding-right:4px;
}
.org-panel .org-item{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:13px;
  color: rgba(255,255,255,0.88);
}
.org-panel .org-item input{ transform: scale(1.05); }
.org-panel .org-actions{
  margin-top:10px;
  display:flex;
  justify-content:space-between;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}

/* Compact org-mini logo (ratio 3:2) */
.org-mini{
  width: 45px;
  aspect-ratio: 3 / 2;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  overflow:hidden;
  display:grid;
  place-items:center;
  flex: 0 0 auto;
}
.org-mini img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.org-mini img.orgLogo{
  object-fit:contain;
  padding:3px;
  box-sizing:border-box;
  transform: scale(1.1);
  transform-origin: center;
}
.org-mini.fallback{
  font-weight:900;
  font-size:11px;
  color: rgba(255,255,255,0.85);
}

/* Fallback voor oude browsers zonder aspect-ratio */
@supports not (aspect-ratio: 1 / 1){
  .logo{ height: 40px; }         /* 60x40 = 3:2 */
  .logo.mini{ height: 30px; }    /* 45x30 = 3:2 */
  .org-mini{ height: 30px; }     /* 45x30 = 3:2 */
}
    
    /* ===== Donaties dashboard ===== */
    .don-modal{
      position: fixed; inset: 0;
      display: none;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(6px);
      z-index: 60;
      padding: 18px;
      overflow: auto;
    }
    .don-modal.open{ display:block; }
    .don-sheet{
      max-width: 1080px;
      margin: 20px auto;
      background: rgba(18,24,40,0.88);
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .don-head{
      display:flex; justify-content:space-between; align-items:center;
      gap: 10px; flex-wrap:wrap;
      padding: 6px 6px 10px 6px;
      border-bottom: 1px solid rgba(255,255,255,0.12);
    }
    .don-title{ display:flex; align-items:center; gap:10px; }
    .don-title h2{ margin:0; font-size:16px; letter-spacing:0.2px; }
    .don-grid{
      display:grid;
      grid-template-columns: 1.4fr 0.8fr 0.8fr;
      gap: 12px;
      margin-top: 12px;
    }
    .don-panels{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 12px;
      margin-top: 12px;
      align-items: start;
    }
    .don-panel{
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 12px;
    }
    .don-panel-head{
      display:flex; justify-content:space-between; align-items:baseline;
      gap: 10px; flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .don-panel-title{ font-weight:700; font-size:13px; }
    .don-panel-sub{ color: var(--muted); font-size:12px; }
    .don-filters{
      margin-top: 12px;
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      color: var(--text);
      font-size: 12px;
      cursor: pointer;
      user-select:none;
    }
    .chip.on{
      border-color: rgba(255,200,80,0.75);
      box-shadow: 0 0 0 1px rgba(255,200,80,0.25) inset;
    }
    .chip small{ color: var(--muted); font-size: 11px; }
    .don-table{
      display:flex; flex-direction:column; gap: 8px;
    }
    .don-row{
      display:flex; justify-content:space-between; gap: 10px;
      padding: 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.18);
    }
    .don-row .a{ font-weight: 650; font-size: 13px; }
    .don-row .b{ color: var(--muted); font-size: 12px; }
    .don-row .c{ font-weight: 750; }
    .don-note{
      margin-top: 12px;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.4;
    }

    .org-modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.70);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 80;
    }
    .org-modal.open{ display:flex; }
    .org-sheet{
      width: min(1100px, 100%);
      max-height: 92vh;
      overflow: auto;
      border: 1px solid var(--line);
      border-radius: 20px;
      background: rgba(11,18,32,0.96);
      box-shadow: 0 30px 90px rgba(0,0,0,0.60);
      padding: 14px;
    }
    .org-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom: 1px solid var(--line);
      padding-bottom: 10px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }
    .org-title{
      display:flex; align-items:center; gap:10px; min-width: 0;
    }
    .org-title h2{
      margin:0; font-size: 15px; letter-spacing:0.2px;
      white-space: nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .org-grid{
      display:grid;
      grid-template-columns: 420px 1fr;
      gap: 12px;
    }
    .org-card{
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 18px;
      background: rgba(255,255,255,0.03);
      padding: 12px;
    }
    .org-kv{ font-size: 12px; color: var(--muted); margin-top: 10px; white-space: pre-wrap; line-height: 1.35; }
    .org-people{ margin-top: 10px; display:flex; flex-direction: column; gap: 10px; }
    .person-row{
      display:flex;
      gap: 10px;
      align-items:center;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.10);
      border-radius: 16px;
      padding: 10px;
      cursor: pointer;
    }
    .person-row:hover{ background: rgba(255,255,255,0.06); }
    .person-meta{ min-width:0; flex:1; }
    .person-name{ font-weight: 800; font-size: 13px; white-space: nowrap; overflow:hidden; text-overflow: ellipsis; }
    .person-sub{ font-size: 12px; color: var(--muted); white-space: nowrap; overflow:hidden; text-overflow: ellipsis; margin-top:2px; }
    .person-badges{ margin-top: 6px; display:flex; gap:6px; flex-wrap:wrap; }

    .org-pick{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }
    .org-pick label{
      display:flex;
      align-items:center;
      gap: 8px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.12);
      padding: 8px 10px;
      border-radius: 14px;
      cursor: pointer;
      font-size: 13px;
      color: rgba(255,255,255,0.88);
    }
    .org-pick input{ transform: scale(1.05); }

    .projects{ margin-top: 8px; display:flex; flex-direction: column; gap: 10px; }
    .proj-row{ border: 1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.10); border-radius: 16px; padding: 10px; }
    .proj-grid{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
    .proj-grid2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
    .proj-row input, .proj-row select, .proj-row textarea{
      width:100%;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      color: var(--text);
      font-size: 13px;
      outline:none;
    }
    .proj-row textarea{ min-height: 70px; resize: vertical; }
    .proj-actions{ margin-top: 10px; display:flex; justify-content: space-between; gap:8px; flex-wrap:wrap; align-items:center; }
    @media (max-width: 900px){
      .org-grid{ grid-template-columns: 1fr; }
      .proj-grid{ grid-template-columns: 1fr; }
      .proj-grid2{ grid-template-columns: 1fr; }
    }

    /* ========== Org Dropdown (multi) & Card Tags ========== */
    .card .card-chips{ margin-top: 10px; display:flex; flex-wrap:wrap; gap:6px; }
    .card .card-chips .chip{ font-size: 10.5px; padding: 4px 9px; }
    details.org-dd{
      margin-top: 10px;
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 14px;
      background: rgba(0,0,0,0.10);
      overflow:hidden;
    }
    details.org-dd summary{
      cursor: pointer;
      list-style:none;
      padding: 8px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color: rgba(255,255,255,0.88);
      font-size: 12px;
      user-select:none;
    }
    details.org-dd summary::-webkit-details-marker{ display:none; }
    .org-dd .caret{ opacity:0.7; font-size: 12px; }
    .org-dd .org-dd-list{
      padding: 10px;
      border-top: 1px solid rgba(255,255,255,0.10);
      display:flex;
      flex-direction: column;
      gap: 8px;
      max-height: 220px;
      overflow:auto;
    }
    .org-dd .org-dd-item{
      display:flex;
      align-items:center;
      gap: 10px;
      font-size: 13px;
      color: rgba(255,255,255,0.86);
    }
    .org-dd .org-dd-item input{ transform: scale(1.05); }

    /* Organization contact cards */
    .org-contacts{
      margin-top: 10px;
      display:flex;
      flex-direction: column;
      gap: 10px;
    }
    .org-contact-card{
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.10);
      border-radius: 18px;
      padding: 10px;
      display:flex;
      gap: 10px;
      align-items:flex-start;
    }
    .org-contact-card .meta{ flex:1; min-width:0; }
    .org-contact-card .name{ font-weight: 900; font-size: 13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .org-contact-card .role{ margin-top: 2px; font-size: 12px; color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .org-contact-card .info{ margin-top: 8px; display:flex; flex-wrap:wrap; gap: 8px; }
    .org-contact-card .actions{ margin-top: 10px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    

    /* Relation/Partner cards: subtle distinct styling */
    .card.relatie{
      border-color: rgba(132, 196, 255, 0.28);
      background: rgba(132, 196, 255, 0.06);
    }
    .card.relatie .badge{
      border-color: rgba(132, 196, 255, 0.28);
    }

</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="title">
      <h1>Prospect Funnel ‚Äì ZAKENDOEN (Dorcas)</h1>
      <div class="sub" id="subCounts">‚Äî</div>
    </div>

    <div class="pill" title="Zoek op naam, headline, tags, telefoon, e-mail">
      üîé <input id="q" type="text" placeholder="Zoeken‚Ä¶"/>
    </div>

    <div class="pill" title="Filter interactiestatus">
      Status:
      <select id="filterInteraction"></select>
    </div>

    <div class="pill" title="Filter connectiegraad">
      Connectie:
      <select id="filterConnection"></select>
    </div>

    
    <div class="org-filter-wrap">
      <button class="btn" id="orgFilterToggle" title="Filter op netwerk/organisatie (meerdere selecties mogelijk)">üè∑ Organisatie-filter</button>
      <div class="vf-badge" id="orgFilterSummary">Alle</div>

      <div class="org-panel" id="orgFilterPanel">
        <div class="vf-title" style="margin:0 0 8px;">
          <span>Selecteer organisaties</span>
          <button class="btn small" id="orgFilterAll">Alle</button>
        </div>
        <div class="org-list" id="orgFilterList"></div>
        <div class="org-actions">
          <div class="vf-note" id="orgFilterCount">‚Äî</div>
          <div style="display:flex; gap:8px; flex-wrap:wrap;">
            <button class="btn small" id="orgFilterApply">Toepassen</button>
            <button class="btn small danger" id="orgFilterClear">Reset</button>
            <button class="btn small danger" id="orgFilterClose">Sluiten</button>
          </div>
        </div>
      </div>
    </div>
<div class="spacer"></div>

    <button class="btn" id="btnOrgs">üè¢ Organisatie-bibliotheek</button>
    <button class="btn good" id="btnAdd">Ôºã Prospect</button>
    <button class="btn" id="btnExport">‚¨á Export (bundle)</button>

    <button class="btn warn" id="btnDonaties" title="Donaties & inkomsten dashboard">üí∂ Donaties</button>

    <label class="btn" for="importFile" title="Importeer JSON export">
      ‚¨Ü Import JSON
      <input id="importFile" type="file" accept="application/json" style="display:none"/>
    </label>

    <button class="btn danger" id="btnReset" title="Zet alles terug naar de originele lijst uit je doc">‚Ü∫ Reset naar seed</button>
  </div>
</header>

<div class="board-wrap">
  <div class="board" id="board"></div>
</div>

<div class="footer-help">
  Tips: je kunt kaarten <b>slepen</b> naar een andere kolom of met <b>‚óÄ ‚ñ∂</b> verplaatsen. Alles wordt lokaal opgeslagen (localStorage). Gebruik Export voor backup.
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="sheet" role="dialog" aria-modal="true">
    <div class="sheet-head">
      <h2 id="modalTitle">Prospect</h2>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" id="btnClose">Sluiten</button>
        <button class="btn good" id="btnSave">Opslaan</button>
      </div>
    </div>

    <div class="grid">
      <div class="field">
        <label>Naam</label>
        <input id="fName" type="text"/>
      </div>
      <div class="field">
        <label>Headline / beschrijving</label>
        <input id="fHeadline" type="text"/>
      </div>
    </div>

    <div class="grid3" style="margin-top:12px;">
      <div class="field">
        <label>Funnel kolom</label>
        <select id="fStage"></select>
      </div>
      <div class="field">
        <label>Interactie status</label>
        <select id="fInteraction"></select>
      </div>
      <div class="field">
        <label>Connectiegraad</label>
        <select id="fConnection"></select>
      </div>
    </div>

    
    <div class="grid3" style="margin-top:12px;">
      <div class="field">
        <label>Relatienr / accountnr</label>
        <input id="fAccountNo" type="text" placeholder="bv. 123456" list="accountList"/>
        <div class="muted" style="font-size:12px; margin-top:6px;">Koppelt deze relatie aan donatiehistorie.</div>
      </div>
      <div class="field">
        <label>Account ‚Äì bedrijfsnaam (optioneel)</label>
        <input id="fAccountCompany" type="text" placeholder="bv. Bedrijfsnaam (voor account)"/>
      </div>
      <div class="field">
        <label>Donaties</label>
        <button class="btn small" id="btnOpenAccountDonations" type="button">Open overzicht ‚Üó</button>
        <div class="muted" style="font-size:12px; margin-top:6px;">Toont 5-jaar overzicht voor dit account.</div>
      </div>
    </div>

<div class="grid" style="margin-top:12px;">
      <div class="field">
        <label>Foto (URL) of upload</label>
        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
          <input id="fPhotoUrl" type="text" placeholder="https://‚Ä¶"/>
          <label class="btn small" for="fPhotoFile">üì∑ Upload</label>
          <input id="fPhotoFile" type="file" accept="image/*" style="display:none"/>
          <button class="btn small danger" id="btnClearPhoto">üóë Verwijder</button>
        </div>
        <div class="drop-hint">Upload wordt opgeslagen in je browser (kan groot worden). URL is het lichtst.</div>
      </div>
      <div class="field">
        <label>Tags (komma gescheiden)</label>
        <input id="fTags" type="text" placeholder="bv. bouw, fintech, warm-intro"/>
      </div>
    </div>

    <div class="grid" style="margin-top:12px;">
      <div class="field">
        <label>Contact ‚Äì LinkedIn URL</label>
        <input id="fLinkedin" type="text" placeholder="https://www.linkedin.com/in/..."/>
      </div>
      <div class="field">
        <label>Contact ‚Äì e-mail</label>
        <input id="fEmail" type="text" placeholder="naam@bedrijf.nl"/>
      </div>
    </div>

    <div class="grid" style="margin-top:12px;">
      <div class="field">
        <label>Contact ‚Äì telefoon</label>
        <input id="fPhone" type="text" placeholder="+31 ‚Ä¶ / 06 ‚Ä¶"/>
      </div>
      <div class="field">
        <label>Website</label>
        <input id="fWebsite" type="text" placeholder="bedrijf.nl"/>
      </div>
    </div>

    <div class="grid" style="margin-top:12px;">
      <div class="field">
        <label>Bedrijf / organisatie (naam)</label>
        <input id="fCompanyName" type="text" placeholder="Bedrijfsnaam"/>
      </div>
      <div class="field">
        <label>Bedrijfslogo (URL) of upload</label>
        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
          <input id="fCompanyLogoUrl" type="text" placeholder="https://‚Ä¶"/>
          <label class="btn small" for="fCompanyLogoFile">üì∑ Upload</label>
          <input id="fCompanyLogoFile" type="file" accept="image/*" style="display:none"/>
          <button class="btn small danger" id="btnClearCompanyLogo">üóë</button>
        </div>
      </div>
    </div>

    <div class="grid" style="margin-top:12px;">
      <div class="field">
        <label>Notitie</label>
        <textarea id="fNotes" placeholder="Wat viel op? Welke haak? Wie kan introduceren?"></textarea>
      </div>
      <div class="field">
        <label>Follow-up</label>
        <div class="grid3" style="grid-template-columns: 1fr 1fr 1fr; gap:10px;">
          <div>
            <label class="muted" style="font-size:12px;">Laatste contact</label>
            <input id="fLastTouchAt" type="date"/>
          </div>
          <div>
            <label class="muted" style="font-size:12px;">Volgende actie</label>
            <input id="fNextActionAt" type="date"/>
          </div>
          <div>
            <label class="muted" style="font-size:12px;">Snel loggen</label>
            <div style="display:flex; gap:8px;">
              <select id="quickLogType" style="flex:1;">
                <option value="DM">DM gestuurd</option>
                <option value="Reactie">Gereageerd</option>
                <option value="Call">Call gedaan</option>
                <option value="Meeting">Meeting</option>
                <option value="Intro">Intro gevraagd</option>
                <option value="Voorstel">Voorstel</option>
                <option value="Donatie">Donatie</option>
              </select>
              <button class="btn small good" id="btnQuickLog">Ôºã</button>
            </div>
            <input id="quickLogNote" type="text" placeholder="korte notitie‚Ä¶" style="margin-top:8px;"/>
          </div>
        </div>
      </div>
    </div>

    
    <div class="grid" style="margin-top:12px;">
<div class="field">
        <label>Projecten (thema / landen / regio / algemeen)</label>
        <div class="muted">Koppel deze prospect/donor aan projecten of thema‚Äôs.</div>
        <div class="projects" id="projList"></div>
        <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn small" id="projAdd">Ôºã Project</button>
          <button class="btn small danger" id="projClear">Reset projecten</button>
        </div>
      </div>
    </div>

<div class="log">
      <h3>Interactie-log</h3>
      <div id="logList" class="muted">‚Äî</div>
    </div>

    <div style="display:flex; gap:10px; justify-content:space-between; margin-top:14px; flex-wrap:wrap;">
      <button class="btn danger" id="btnDelete">üóë Verwijder prospect</button>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" id="btnPrev">‚óÄ Vorige kolom</button>
        <button class="btn" id="btnNext">Volgende kolom ‚ñ∂</button>
      </div>
    </div>
  </div>
</div>

<!-- Viewer (Photo Carousel) -->
<div class="viewer" id="viewer">
  <div class="viewer-sheet" role="dialog" aria-modal="true">
    <div class="viewer-head">
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
        <div class="counter" id="viewerCounter">‚Äî</div>
        <div class="viewer-hint">Tip: ‚Üê ‚Üí om te bladeren</div>
      </div>
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">

      <div class="viewer-filter">
        <button class="btn small vf-btn" id="vfToggle">üéõ Filter</button>
        <div class="vf-badge" id="vfSummary">Alle</div>

        <div class="vf-panel" id="vfPanel">
          <div class="vf-grid">
            <div class="vf-section">
              <div class="vf-title">
                <span>Funnel categorie√´n</span>
                <button class="btn small" id="vfAll">Alle</button>
              </div>
              <div class="vf-list" id="vfStages"></div>
            </div>

            <div class="vf-section">
              <div class="vf-title"><span>Organisaties</span>
                <button class="btn small" id="vfOrgsAll">Alle</button>
              </div>
              <div class="vf-list" id="vfOrgs"></div>
            </div>

            <div class="vf-section">
              <div class="vf-title"><span>Sorteer</span></div>
              <select id="vfSort" style="width:100%; padding:10px 10px; border-radius:14px; border:1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.18); color: var(--text); font-size:13px; outline:none;">
                <option value="name">Naam (A‚ÄìZ)</option>
                <option value="lastTouchDesc">Laatste contact (nieuw‚Üíoud)</option>
                <option value="stageThenName">Funnel volgorde ‚Üí Naam</option>
              </select>
              <div class="vf-note" style="margin-top:10px;">
                Carousel = alleen jouw selectie.
              </div>
            </div>
          </div>

          <div class="vf-actions">
            <div class="vf-note" id="vfCountHint">‚Äî</div>
            <div style="display:flex; gap:8px; flex-wrap:wrap;">
              <button class="btn small" id="vfApply">Toepassen</button>
              <button class="btn small danger" id="vfReset">Reset alles</button>
              <button class="btn small danger" id="vfClose">Sluiten</button>
            </div>
          </div>
        </div>
      </div>
        <button class="btn small" id="viewerEdit">‚úé Bewerken</button>
        <button class="btn small" id="viewerClose">Sluiten ‚úï</button>
      </div>
    </div>

    <div class="viewer-body">
      <div class="viewer-photo">
        <img id="viewerImg" alt="" style="display:none"/>
        <div id="viewerInitials" class="viewer-initials" style="display:none">??</div>
      </div>

      <div class="viewer-info">
        <h3 class="viewer-name" id="viewerName">‚Äî</h3>
        <div class="viewer-headline" id="viewerHeadline">‚Äî</div>

        <div class="viewer-badges" id="viewerBadges"></div>

        <div class="logo-strip" id="viewerLogos"></div>

        <div class="chips" id="viewerTags"></div>

        <div class="viewer-contacts" id="viewerContacts"></div>

        <div class="vf-title" style="margin-top:14px;"><span>Projecten</span></div>
        <div class="org-kv" id="viewerProjects">‚Äî</div>

        <div class="vf-title" style="margin-top:14px;"><span>Donaties (laatste 5 jaar)</span></div>
        <div class="org-kv" id="viewerDonations">‚Äî</div>
        <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;">
          <button class="btn small" id="viewerOpenDonations">üí∂ Open dashboard</button>
          <button class="btn small" id="viewerAddDonation">Ôºã Donatie</button>
        </div>

        <div class="viewer-notes" id="viewerNotes">Geen notities.</div>
      </div>
    </div>

    <div class="viewer-footer">
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" id="viewerPrev">‚óÄ Back</button>
        <button class="btn" id="viewerNext">Next ‚ñ∂</button>
      </div>
      <div class="viewer-hint" id="viewerStageHint">‚Äî</div>
    </div>
  </div>
</div>


<!-- Donaties Dashboard -->
<div class="don-modal" id="donDash">
  <div class="don-sheet" role="dialog" aria-modal="true">
    <div class="don-head">
      <div class="don-title">
        <div class="org-mini fallback">‚Ç¨</div>
        <h2>Donaties & inkomsten</h2>
      </div>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn small" id="btnDonAdd">Ôºã Donatie</button>
        <button class="btn small" id="btnDonExport">‚¨á Export donaties</button>
        <label class="btn small" for="donImportFile" title="Importeer donaties/accounts/labels (bundle of losse JSON)">
          ‚¨Ü Import
          <input id="donImportFile" type="file" accept="application/json" style="display:none"/>
        </label>
        <button class="btn small danger" id="btnDonClose">Sluiten ‚úï</button>
      </div>
    </div>

    <div class="don-grid">
      <div class="field">
        <label>Zoek account / relatie</label>
        <input id="donSearch" type="text" placeholder="accountnr, bedrijfsnaam, contactpersoon‚Ä¶"/>
      </div>
      <div class="field">
        <label>Periode</label>
        <select id="donYearsBack">
          <option value="3">laatste 3 jaar</option>
          <option value="5" selected>laatste 5 jaar</option>
          <option value="7">laatste 7 jaar</option>
          <option value="10">laatste 10 jaar</option>
        </select>
      </div>
      <div class="field">
        <label>Groepering</label>
        <select id="donGroupBy">
          <option value="year" selected>per jaar</option>
          <option value="label">per label</option>
          <option value="account">per account</option>
        </select>
      </div>
    </div>

    <div class="don-filters" id="donLabelFilters"></div>

    <div class="don-panels">
      <div class="don-panel">
        <div class="don-panel-head">
          <div class="don-panel-title">Totaal</div>
          <div class="don-panel-sub" id="donTotal">‚Äî</div>
        </div>
        <canvas id="donChartMain" height="220" style="width:100%; border-radius:14px; background: rgba(0,0,0,0.18); border:1px solid rgba(255,255,255,0.14);"></canvas>
      </div>

      <div class="don-panel">
        <div class="don-panel-head">
          <div class="don-panel-title">Top accounts</div>
          <div class="don-panel-sub" id="donTopHint">‚Äî</div>
        </div>
        <div class="don-table" id="donTopTable"></div>
      </div>
    </div>

    <div class="don-note">
      Tip: als je alleen jaartotalen hebt (Donation 2022..2026), importeer je Excel via de Python converter naar accounts+donations JSON. Daarna kun je later echte transacties importeren (met labels).
    </div>
  </div>
</div>

<!-- Donatie toevoegen -->
<div class="don-modal" id="donAddModal">
  <div class="don-sheet" role="dialog" aria-modal="true">
    <div class="don-head">
      <div class="don-title">
        <div class="org-mini fallback">Ôºã</div>
        <h2>Nieuwe donatie</h2>
      </div>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn small danger" id="btnDonAddClose">Sluiten ‚úï</button>
      </div>
    </div>

    <div class="don-grid" style="grid-template-columns: 1fr 1fr; margin-top:0;">
      <div class="field">
        <label>Accountnr</label>
        <input id="donAccNo" type="text" placeholder="bv. 123456" list="accountList"/>
      </div>
      <div class="field">
        <label>Bedrijfsnaam (optioneel)</label>
        <input id="donAccName" type="text" placeholder="bv. Bedrijfsnaam"/>
      </div>
      <div class="field">
        <label>Datum</label>
        <input id="donDate" type="date"/>
      </div>
      <div class="field">
        <label>Bedrag (EUR)</label>
        <input id="donAmount" type="number" step="0.01" placeholder="0.00"/>
      </div>
    </div>

    <div class="field" style="margin-top:12px;">
      <label>Labels</label>
      <div class="don-filters" id="donAddLabels"></div>
    </div>

    <div class="field" style="margin-top:12px;">
      <label>Notitie</label>
      <textarea id="donNote" placeholder="context / campagne / afspraak..."></textarea>
    </div>

    <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:14px; flex-wrap:wrap;">
      <button class="btn good" id="btnDonSave">Opslaan</button>
    </div>
  </div>
</div>


<!-- Org Directory -->
<div class="org-modal" id="orgDir">
  <div class="org-sheet" role="dialog" aria-modal="true">
    <div class="org-head">
      <div class="org-title">
        <div class="org-mini fallback" id="orgDirIcon">ORG</div>
        <h2>Organisaties</h2>
      </div>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn small" id="orgDirAdd">Ôºã Organisatie</button>
        <button class="btn small" id="orgDirClose">Sluiten ‚úï</button>
      </div>
    </div>

    <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px;">
      <div class="field">
        <label>Zoek organisatie</label>
        <input id="orgDirSearch" type="text" placeholder="naam, tags‚Ä¶"/>
      </div>
      <div class="field">
        <label>Info</label>
        <div class="muted">Klik een organisatie om details te bekijken, logo toe te voegen en metadata vast te leggen.</div>
      </div>
    </div>

    <div id="orgDirList" style="margin-top:12px; display:flex; flex-direction:column; gap:10px;"></div>
  </div>
</div>

<!-- Org Detail -->
<div class="org-modal" id="orgModal">
  <div class="org-sheet" role="dialog" aria-modal="true">
    <div class="org-head">
      <div class="org-title">
        <div class="org-mini" id="orgModalLogo"></div>
        <h2 id="orgModalName">‚Äî</h2>
      </div>
      <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn small" id="orgEdit">‚úé Bewerken</button>
        <button class="btn small" id="orgClose">Sluiten ‚úï</button>
      </div>
    </div>

    <div class="org-grid">
      <div class="org-card">
        <div class="field" style="margin:0;">
          <label>Beschrijving / missie / visie / werkgebied</label>
          <div class="org-kv" id="orgModalDesc">‚Äî</div>
        </div>

        <div class="field" style="margin-top:12px;">
          <div class="vf-title" style="margin:0 0 10px; display:flex; justify-content:space-between; gap:10px; align-items:center;">
            <span>Contactpersonen</span>
            <button class="btn small" id="orgContactAdd">Ôºã Contactpersoon</button>
          </div>
          <div class="org-contacts" id="orgModalContactCards"></div>
          <div class="muted" style="margin-top:10px;">(Legacy vrije tekst ‚Äì optioneel)</div>
          <div class="org-kv" id="orgModalContacts">‚Äî</div>
        </div>
      </div>

      <div class="org-card">
        <div class="vf-title" style="margin:0 0 10px;">
          <span>Prospects & donors verbonden aan deze organisatie</span>
          <span class="vf-badge" id="orgModalCount">‚Äî</span>
        </div>
        <div class="org-people" id="orgModalPeople"></div>
      </div>
    
    <div class="org-card" id="orgContactEditor" style="margin-top:12px; display:none;">
      <div class="vf-title" style="margin:0 0 10px; display:flex; justify-content:space-between; gap:10px; align-items:center;">
        <span id="orgCHeader">Contactpersoon</span>
        <button class="btn small" id="orgCCancel">Sluiten ‚úï</button>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px;">
        <div class="field">
          <label>Naam</label>
          <input id="orgCName" type="text"/>
        </div>
        <div class="field">
          <label>Functie / rol</label>
          <input id="orgCRole" type="text" placeholder="bv. directeur, relatiebeheerder"/>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px;">
        <div class="field">
          <label>Email</label>
          <input id="orgCEmail" type="email" placeholder="naam@organisatie.nl"/>
        </div>
        <div class="field">
          <label>Telefoon</label>
          <input id="orgCPhone" type="text" placeholder="+31 ‚Ä¶"/>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px;">
        <div class="field">
          <label>LinkedIn URL</label>
          <input id="orgCLinkedin" type="text" placeholder="https://linkedin.com/in/..."/>
        </div>
        <div class="field">
          <label>Foto (URL) of upload</label>
          <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
            <input id="orgCPhotoUrl" type="text" placeholder="https://‚Ä¶"/>
            <label class="btn small" for="orgCPhotoFile">üì∑ Upload</label>
            <input id="orgCPhotoFile" type="file" accept="image/*" style="display:none"/>
            <button class="btn small danger" id="orgCPhotoClear">üóë</button>
          </div>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr; gap:12px; margin-top:12px;">
        <div class="field">
          <label>Notitie</label>
          <textarea id="orgCNote" style="width:100%; padding:10px; border-radius:14px; border:1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.18); color: var(--text); font-size:13px; outline:none; min-height:90px;"></textarea>
        </div>
      </div>

      <div style="display:flex; gap:8px; justify-content:space-between; align-items:center; margin-top:12px; flex-wrap:wrap;">
        <button class="btn danger small" id="orgCDelete">üóë Verwijder contact</button>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn small" id="orgCMakePartner">ü§ù Maak relatiekaart</button>
          <button class="btn good small" id="orgCSave">Opslaan</button>
        </div>
      </div>
    </div>

</div>

    <div class="org-card" id="orgEditCard" style="margin-top:12px; display:none;">
      <div class="vf-title" style="margin:0 0 10px;"><span>Organisatie bewerken</span></div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px;">
        <div class="field">
          <label>Naam</label>
          <input id="orgFName" type="text"/>
        </div>
        <div class="field">
          <label>Logo (URL) of upload</label>
          <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
            <input id="orgFLogoUrl" type="text" placeholder="https://‚Ä¶"/>
            <label class="btn small" for="orgFLogoFile">üì∑ Upload</label>
            <input id="orgFLogoFile" type="file" accept="image/*" style="display:none"/>
            <button class="btn small danger" id="orgFLogoClear">üóë</button>
          </div>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px;">
        <div class="field">
          <label>Tags (komma)</label>
          <input id="orgFTags" type="text" placeholder="bv. christelijk, businessclub, NGO"/>
        </div>
        <div class="field">
          <label>Website</label>
          <input id="orgFWebsite" type="text" placeholder="organisatie.nl"/>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr; gap:12px; margin-top:12px;">
        <div class="field">
          <label>Beschrijving / missie / visie / werkgebied</label>
          <textarea id="orgFDesc" style="width:100%; padding:10px; border-radius:14px; border:1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.18); color: var(--text); font-size:13px; outline:none; min-height:110px;"></textarea>
        </div>
      </div>

      <div class="grid" style="grid-template-columns: 1fr 1fr; gap:12px;">
        <div class="field">
          <label>Contactpersoon / directeur / relatiebeheerder (vrije tekst)</label>
          <textarea id="orgFContacts" style="width:100%; padding:10px; border-radius:14px; border:1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.18); color: var(--text); font-size:13px; outline:none; min-height:110px;" placeholder="Naam ‚Äì functie ‚Äì email/telefoon"></textarea>
        </div>
        <div class="field">
          <label>Notitie</label>
          <textarea id="orgFNote" style="width:100%; padding:10px; border-radius:14px; border:1px solid rgba(255,255,255,0.14); background: rgba(0,0,0,0.18); color: var(--text); font-size:13px; outline:none; min-height:110px;"></textarea>
        </div>
      </div>

      <div style="display:flex; gap:8px; justify-content:space-between; align-items:center; margin-top:12px; flex-wrap:wrap;">
        <button class="btn danger small" id="orgDelete">üóë Verwijder organisatie</button>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn small" id="orgEditCancel">Annuleren</button>
          <button class="btn good small" id="orgEditSave">Opslaan</button>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  // ========= Seed data (uit jouw doc) =========
  const SEED_PROSPECTS = [{"id": "astrid-groen-7ec390", "name": "Astrid Groen", "connection": "1ste", "headline": "Relatiebeheerder particulieren en nalatenschappen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wilma-hiller-van-der-pijl-755b50", "name": "Wilma Hiller - van der Pijl", "connection": "1ste", "headline": "Bouwt samen met ondernemers aan de missie van de EO. Bouw je mee? Ga naar eo.nl/ondernemers en sluit je ook aan. Er is altijd een plek voor jou!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "eo.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "lubbert-van-den-heuvel-e5d283", "name": "Lubbert van den Heuvel", "connection": "1ste", "headline": "ERP die werkt zoals jij dat wilt: veilig, efficient en schaalbaar ! | Microsoft Dynamics 365 Business Central | Consultative Selling |", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "dick-goedhart-f8a89f", "name": "Dick Goedhart", "connection": "1ste", "headline": "Oprichter & Eigenaar Onderwijs Inkoop Groep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "roy-vogelaar-774499", "name": "Roy Vogelaar", "connection": "1ste", "headline": "üåø Verbindt om de wereld mooier te maken ‚ãÜ werkt samen met ondernemers aan impact ‚ãÜ let's connect!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "debora-kerssies-de-groot-83971d", "name": "Debora Kerssies - de Groot", "connection": "1ste", "headline": "Marketing & Communicatie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "evert-van-de-kamp-db3de6", "name": "Evert van de Kamp", "connection": "1ste", "headline": "Owner bij Bedrijfshallen.nl", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "Bedrijfshallen.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rene-lobbes-21ad75", "name": "Rene Lobbes", "connection": "2de", "headline": "CEO at Lobbes.nl", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "Lobbes.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "vivian-bokel-754a98", "name": "Vivian Bokel", "connection": "2de", "headline": "Lecturer | Student Talent Coach | Project Manager with head, heart and hands | Preferred setting: education and/or societal impact | multiling. (DE | EN | NL) | empathetic | structured | strategic | analytic | hands on", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "mark-keijzer-6882f0", "name": "mark keijzer", "connection": "2de", "headline": "", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "06 22340004", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "sietze-hess-8c5eda", "name": "Sietze Hess", "connection": "2de", "headline": "Zoekt en beweegt mensen die onderdeel willen zijn van de oplossing - Compassion Nederland", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wilfred-meerkerk-11a379", "name": "Wilfred Meerkerk", "connection": "2de", "headline": "Directeur bij Prestobouw bv", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "thijs-van-dieren-3df4d2", "name": "Thijs van Dieren", "connection": "2de", "headline": "co-owner City Developer-S/directeur Park Strijp Beheer BV hrm360", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "sandra-van-meerveld-ba93e9", "name": "Sandra van Meerveld", "connection": "2de", "headline": "Project- en Relatiemanagement bij Mediahuis Living Image", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "michel-stiller-1d0533", "name": "Michel Stiller", "connection": "2de", "headline": "Data Marketeer bij EO", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "patrick-de-jong-84ce44", "name": "Patrick De Jong", "connection": "2de", "headline": "Controller at Tarkett", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "yvonne-lobbes-a7bae3", "name": "Yvonne Lobbes", "connection": "2de", "headline": "Spelen, Genieten en Ontwikkelen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ralph-segers-8e7c78", "name": "Ralph Segers", "connection": "2de", "headline": "Partner bij Samen Investeren | betrokken beleggen in maatschappelijk vastgoed / Partner Business EQ | het ondernemende investeringsnetwerk", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "klaas-jan-boer-595ae6", "name": "Klaas-Jan Boer", "connection": "2de", "headline": "projectontwikkelaar | projectmanager | ‚ÄúHerkerker‚Äù |adviseur | verbinder", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "mari-lle-v-1a6e72", "name": "Mari√´lle V.", "connection": "2de", "headline": "Verkoop medewerker kerst -en relatiegeschenken bij BeGlobal product media | Promotionele geschenken | kerstpakketten | giveaways", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "henri-cooiman-1394ae", "name": "Henri Cooiman", "connection": "2de", "headline": "Business Raadgever - Mee denken, verbinden & praktisch samen bouwen.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gijsbert-verduijn-81c862", "name": "Gijsbert Verduijn", "connection": "2de", "headline": "Product Owner Salesforce & Digital Platforms l Business Analyst | Inkoopadviseur Enterprise Software projecten", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "eric-graafland-9b10ab", "name": "Eric Graafland", "connection": "2de", "headline": "Ondernemer & Advertising specialist voor bedrijven die willen groeien", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jaap-walhout-e8fe54", "name": "Jaap Walhout", "connection": "2de", "headline": "Mede-eigenaar / Adviseur bij Nedbase Digital Agency & Ivy Digital Marketing | Teamly Social Intranet | Windhoos Hosting | LinkedIn Expert > Nedbase Academy", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "richard-leus-a50778", "name": "Richard Leus", "connection": "2de", "headline": "(International) Key Account Manager | Sales Manager | Business Development Manager | Business Control specialist", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "stanley-neyndorff-9036e8", "name": "Stanley Neyndorff", "connection": "2de", "headline": "(Business/Pastoraal)Counselor/Trainer/Coach/Consultant", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "leon-de-rijke-f4255a", "name": "Leon de Rijke", "connection": "2de", "headline": "AI Business Strategist & Founder at Be Solid", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "deborah-van-geest-5c74db", "name": "Deborah van Geest", "connection": "2de", "headline": "Merk- en communicatieadviseur bij EO", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "frank-engelen-mba-ce2ab9", "name": "Frank Engelen MBA", "connection": "2de", "headline": "Senior Managing Partner & Founder Zarian Intellectual Capital Management Group ‚ñ† Consulting L&D ‚ñ† Board Services ‚ñ† People & Organizational Performance ‚ñ† Personal Growth & Transformation ‚ñ† Capability Training & Building", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martijn-gielkens-11b37e", "name": "Martijn Gielkens", "connection": "2de", "headline": "1e tekenaar bij Geelen Beton zakendoen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "arie-van-vliet-e0c316", "name": "Arie van Vliet", "connection": "2de", "headline": "Enthousiaste ondernemer bij Vakgarage de Kruijf", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "peter-bronkhorst-900f47", "name": "Peter Bronkhorst", "connection": "2de", "headline": "Veilig ondernemen begint hier. @Seyfo - Information- & Cyber Security voor het MKB. CISM CIPP/e", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "marit-toemeungte-e6c622", "name": "Marit Toemeungte", "connection": "2de", "headline": "Leert ambitieuze kinderopvangondernemers een sterk team te bouwen dat v√≥√≥r ze werkt | Leiderschapscoach en trainer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "esther-tims-van-helden-f6bea1", "name": "Esther Tims - Van Helden", "connection": "2de", "headline": "Crossmediaal redacteur bij Evangelische Omroep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gert-boekee-2aa43e", "name": "Gert Boekee", "connection": "2de", "headline": "DKW Group b.v.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "adrienne-vertooren-b5f015", "name": "Adrienne Vertooren", "connection": "2de", "headline": "Kwartiermaker I Toezichthouder I Aandeelhouder", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "koen-maljaars-08cb05", "name": "Koen Maljaars", "connection": "2de", "headline": "Partner WebNL creative studios - Business consultant", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jannes-manderfeld-6a3fe0", "name": "Jannes Manderfeld", "connection": "2de", "headline": "Passie voor Jezus, mensen en de kerk!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "sybe-rintjema-cd22bd", "name": "Sybe Rintjema", "connection": "2de", "headline": "Laten we samen bouwen aan de toekomst van recreatief vastgoed! üèûÔ∏è", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "geralde-schreuder-f53bd6", "name": "Geralde Schreuder", "connection": "2de", "headline": "Is de lol eraf van je leidinggevende functie in de zorg of de publieke sector? Ik coach vrouwen zoals jij om het weer s√°men te doen met je team en je management, zodat plezier en energie terugkomen.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tirza-smit-ea1b03", "name": "Tirza Smit", "connection": "2de", "headline": "Online Business Support | VA & Social Media Manager | Ben jij klaar om weer te werken aan je passie? Laten we connecten!üöÄ", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "koos-van-der-helm-6778f8", "name": "Koos van der Helm", "connection": "2de", "headline": "Manager of Governmental and Corporate Relations Events | Network | Innovation | Strategic collaborations evangelische-omroep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jan-van-der-zwaag-85f242", "name": "Jan van der Zwaag", "connection": "2de", "headline": "Open voor idee√´n", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "sandra-stienstra-c0d000", "name": "Sandra Stienstra", "connection": "2de", "headline": "Marketing | communicatie | CX strateeg", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tineke-wuister-1f585b", "name": "Tineke Wuister", "connection": "2de", "headline": "Ik help ambitieuze christelijke ondernemers naar meer Kingdom Impact, een succesvol bedrijf en rust in het hoofd.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "joas-jongenburger-13c456", "name": "Joas Jongenburger", "connection": "1ste", "headline": "Commercieel en operationeel sterk | Communicatief vaardig en geloof in de kracht van samenwerking | 06-22295754", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "simon-scheepsma-d9284c", "name": "Simon Scheepsma", "connection": "1ste", "headline": "Financial Director at Develing International", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wouter-timmer-071e2b", "name": "Wouter Timmer", "connection": "1ste", "headline": "Make people THRIVE through purpose- and fruitful businesses. Coaching director. EmbrAVe | Officious | Coffee Case | ANDERS", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "erwin-wietses-29aeb5", "name": "Erwin Wietses", "connection": "1ste", "headline": "Yellow Project, developing projects of hope!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "fred-van-der-steen-016f95", "name": "Fred van der Steen", "connection": "1ste", "headline": "Relatiemanager Bedrijven", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "dirk-sijbersma-d720ba", "name": "Dirk Sijbersma", "connection": "1ste", "headline": "Ik help ondernemers met het helpen van de meest kwetsbaren, those in need.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "geert-van-t-veer-5b0a42", "name": "Geert van 't Veer", "connection": "1ste", "headline": "Leidinggeven in de kerk | Training & begeleiding leiderschapsteams", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "marc-jan-segers-5ba8f0", "name": "Marc-Jan Segers", "connection": "1ste", "headline": "Sales & Business developer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "maurits-roose-01fed9", "name": "Maurits Roose", "connection": "1ste", "headline": "Founder & Managing Partner Royalis Investments hrm360", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gert-weerheim-822335", "name": "Gert Weerheim", "connection": "2de", "headline": "Advocaat-partner | Aanbesteding, Bouw & Gebiedsontwikkeling | Brackmann | Litigation | Zingever bij RotterdamRijker", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "isha-p-rez-b23d9b", "name": "Isha P√©rez", "connection": "2de", "headline": "Procesinnovator bij SPIT- Projecten", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "laurentine-van-landeghem-d651a6", "name": "Laurentine Van Landeghem", "connection": "2de", "headline": "Spreekt. Schrijft. Bedenkt. Cre√´ert.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hilb-rt-steen-redeker-1bb857", "name": "Hilb√©rt Steen Redeker", "connection": "2de", "headline": "MVK‚Äôer i.o | preventiemedewerker | blogger | mensenmens | BBQ fanaat | spreker | christen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "felix-govers-d77935", "name": "Felix Govers", "connection": "2de", "headline": "Mede-oprichter Mediahuis Living Image en Move Community.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "simon-fritzsch-e54f08", "name": "Simon Fritzsch", "connection": "2de", "headline": "Directeur SW Elektrotechniek evangelische-omroep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "willem-van-duijn-ra-rc-14cd66", "name": "Willem van Duijn RA RC", "connection": "2de", "headline": "Samen naar duurzame waardecreatie | Corporate Finance | M&A | Financial Management | Restructuring", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tom-van-stokkom-8ccee5", "name": "Tom van Stokkom", "connection": "2de", "headline": "Doendenkers¬Æ ‚Äì Since 1995 | Purpose-driven execution & operational support for charitable organizations", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "andr-maliepaard-9dfaaf", "name": "Andr√© Maliepaard", "connection": "2de", "headline": "Leiderschap ‚Ä¢ Sterk in de menskant van teams leiden ‚Ä¢ Auteur ‚Ä¢ Broed op een nieuw boek", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "chris-bernhard-hoogendoorn-22dfed", "name": "Chris-Bernhard Hoogendoorn", "connection": "2de", "headline": "Owner, Transito", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "thomas-scholtz-b1f540", "name": "Thomas Scholtz", "connection": "2de", "headline": "Ik help MKB-bedrijven gezond groeien met structuur, overzicht en duidelijke richting.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martin-koornstra-2952bc", "name": "Martin Koornstra", "connection": "2de", "headline": "Founder and Director of Royal Mission", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martijn-hoogendoorn-303d16", "name": "Martijn Hoogendoorn", "connection": "2de", "headline": "Versterk je organisatie met MaveoFIT | MaveoINTERIM", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jayleene-culcul-0e9acf", "name": "Jayleene Culcul", "connection": "2de", "headline": "Office Manager @ Whiskybase | Office Operations Management", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "mirjam-roose-verdam-4dacfb", "name": "Mirjam Roose- Verdam", "connection": "2de", "headline": "Raadslid CU/SGP bij gemeente Soest", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "edwin-van-wijngaarden-46c7e5", "name": "Edwin van Wijngaarden", "connection": "2de", "headline": "Member Board of Directors - CFO at Royal Terberg Group", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "sander-vos-360d9a", "name": "Sander Vos", "connection": "2de", "headline": "Co-Owner Valenta International B.V Koen Maljaars ‚Ä¢ 3de+", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "lydia-van-der-meer-boer-ef6ff1", "name": "Lydia van der Meer - Boer", "connection": "2de", "headline": "Programmamanager Kerken bij Nederlands-Vlaams Bijbelgenootschap", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "l-on-bosch-9fb1a2", "name": "L√©on Bosch", "connection": "2de", "headline": "Managing Director", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gijs-peter-kuijpers-bddf49", "name": "Gijs-Peter Kuijpers", "connection": "2de", "headline": "Communicatie- en marketingexpert | Specialist in storytelling & leiderschap | Achtergrond in geestelijke verzorging", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "chiel-fahner-62a50d", "name": "Chiel Fahner", "connection": "2de", "headline": "Ambulanceverpleegkundige bij Ambulance Amsterdam B.V.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jeffrey-hamelink-38c7e0", "name": "Jeffrey Hamelink üî•", "connection": "2de", "headline": "I ignite potential by building growth systems that help people and organisations become Giants.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "pieter-hazelhoff-a10db4", "name": "Pieter Hazelhoff", "connection": "2de", "headline": "Owner Director Riskchanger", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "silvia-brunink-brethouwer-cf454d", "name": "Silvia Brunink-Brethouwer", "connection": "2de", "headline": "Farmaceutisch manager/ Apothekersassistente", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "leo-nieuwenhuis-576f22", "name": "Leo Nieuwenhuis", "connection": "2de", "headline": "Maatschappelijk ondernemer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "henk-hylkema-c09ce5", "name": "Henk Hylkema", "connection": "2de", "headline": "Demand Planning Project Lead at Hazera Seeds baracacapital", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rosh-jeffrey-ganput-5f5324", "name": "Rosh Jeffrey Ganput", "connection": "2de", "headline": "Communiceren met je bedrijfskleding? Laat me je helpen om te laten zien wie jij bent.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "chris-ten-haaken-0472e1", "name": "Chris ten Haaken ¬©Ô∏è", "connection": "2de", "headline": "Ontdek waar jij jezelf tegenhoudt en jouw toekomst in de weg staat; neem verantwoordelijkheid en voer de cruciale gesprekken die je nu nog vermijdt | voor ondernemers, DGA‚Äôs en Teams just-real-estate-b-v", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "harm-hardeman-a0eac7", "name": "Harm Hardeman", "connection": "2de", "headline": "Ondernemer bij o.a. Basiliek Veenendaal BV en H. Hardeman BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "robert-jan-roose-4ce434", "name": "Robert-Jan Roose", "connection": "2de", "headline": "Directeur Just Real Estate B.V.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "peter-van-rijn-ee1f6e", "name": "Peter van Rijn", "connection": "2de", "headline": "Adviseur Van Rijn Products BV, bestuurder, ambassadeur Mozaiek NL, Managing Director Urban Copper BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "richard-wiegers-451d4c", "name": "Richard Wiegers", "connection": "2de", "headline": "Resultaat en welzijn verbinden zodat strategie werkt in de praktijk", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "olaf-ten-thij-msc-rv-fe9411", "name": "Olaf ten Thij MSc RV", "connection": "2de", "headline": "Partner Venturefirm | Partner PIA | adviseur van DGA's en familiebedrijven bij transacties & waarderingen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "louis-diepeveen-65f1ab", "name": "Louis Diepeveen", "connection": "2de", "headline": "Ik breng organisaties verder met strategie, merkpositionering en creatieve concepten.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerard-koudijs-6b9fb6", "name": "Gerard Koudijs", "connection": "2de", "headline": "Projectmanager at Basiliek Veenendaal and Sales at Downtown Veenendaal", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "yaleesa-van-amstel-db3e9c", "name": "Yaleesa Van Amstel", "connection": "2de", "headline": "Contentmaker Zingen en Bidden bij de EO | Social media üöÄ | Conceptdenker | Communicatie | Employer Branding", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "harri-tte-keuning-knol-91b9a7", "name": "Harri√´tte Keuning-Knol üö≤", "connection": "2de", "headline": "De fietsende HR manager | zet de zaak in beweging | HR goed geregeld | omgaan met gedoe | koers bepalen | jaargesprekken professionaliseren | trainingen & workshops", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "john-koevoet-2308e1", "name": "John Koevoet", "connection": "2de", "headline": "Helpt DGA‚Äôs en Familiebedrijven als interim directie of consultant, met visie, daadkracht en ge√Ønspireerd door Bijbelse wijsheid.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jeroen-geelhoed-11dcf3", "name": "Jeroen Geelhoed", "connection": "2de", "headline": "Directeur Strategie en Markt Breman Installatie groep | Toezichthouder | Auteur", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jeroen-vooijs-3f9e52", "name": "Jeroen Vooijs", "connection": "2de", "headline": "Terug in Gods plan voor jouw leven | Rust, richting en roeping geleid door de Heilige Geest", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hanne-scheppink-leeuwdrent-dac1b5", "name": "Hanne Scheppink-Leeuwdrent", "connection": "2de", "headline": "erkend kerntalentenanalist | buitencoach | specialist HSP en HB | trainer persoonlijke ontwikkeling | stress en burnoutcoach | projectleider met passie om mensen tot bloei te brengen | organisatietalent zakendoen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "lucas-reinds-429db7", "name": "Lucas Reinds", "connection": "2de", "headline": "üéØ Maakt vette idee√´n eenvoudig, zichtbaar en opvallend ü¶å Designpartner bij Pankra ¬∑ Ideas & Identity", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "stan-uyland-704af4", "name": "Stan Uyland", "connection": "2de", "headline": "Samen werk maken van een vitale samenleving waarin we elkaar helpen en perspectief bieden!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "bas-waldekker-3c0c91", "name": "Bas Waldekker", "connection": "2de", "headline": "\"Ondernemer in duurzame energie en zorg. Bouwt aan een gezonde en groene toekomst\"", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "joke-vos-e43c74", "name": "Joke Vos", "connection": "2de", "headline": "Leerkracht speciaal basisonderwijs bij 'de Springplank', Harderwijk", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martha-jansen-van-rensburg-jonkers-6547fa", "name": "Martha Jansen van Rensburg-Jonkers", "connection": "2de", "headline": "Strategisch People Partner | Missie Strategist | Procesontwikkelaar", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ronald-visscher-a01d22", "name": "Ronald Visscher", "connection": "2de", "headline": "‚ú® Integratief coach, counselor & herstelcoach | Herstel, groei en leiderschap voor mens en organisatie | Transport & logistiek | Inzicht, verbinding en duurzame ontwikkeling", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tom-van-dorp-0b469b", "name": "Tom van Dorp", "connection": "2de", "headline": "Head of Project Development - The Netherlands at Ampyr Solar Europe", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ernst-jan-kruis-6bbc6c", "name": "Ernst Jan Kruis", "connection": "2de", "headline": "Board Member | Strategic Development | M&A | Cross Border Solutions | Investment Banking", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "peter-vercammen-885311", "name": "Peter Vercammen", "connection": "2de", "headline": "Regiodirecteur MKB Breda/Middelburg", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "reuben-coulter-62a2df", "name": "Reuben Coulter", "connection": "2de", "headline": "Impact investment advisor", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rob-stoffer-68f4ba", "name": "Rob Stoffer", "connection": "2de", "headline": "Owner, TechTron Groep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "marco-landwaart-803ef0", "name": "Marco Landwaart", "connection": "2de", "headline": "Zzp bij Landwaart tuinen-houtbouw", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wilfred-kols-c83427", "name": "Wilfred Kols", "connection": "2de", "headline": "Spreker / Auteur met expertise in storytelling en motivatie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "oswald-broeksema-da42e3", "name": "Oswald Broeksema", "connection": "2de", "headline": "Discovering Significance | Ketenmanager | Reisgids voor ondernemers | Technische Bruggenbouwer @TechConnections", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ard-jol-21b12e", "name": "Ard Jol", "connection": "2de", "headline": "Advisory Board | Venture Builder | CEO | Investor", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jan-bergsma-817528", "name": "Jan Bergsma", "connection": "2de", "headline": "Strategisch adviseur - Programmamanager - Agile transformatie - OGSM - Visie - Strategie - organisatie - dienstverlening", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "nelinda-troost-9b976a", "name": "Nelinda Troost", "connection": "2de", "headline": "Voorganger bij Mozaiek0318", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "matthias-zomer-882a81", "name": "Matthias Zomer", "connection": "2de", "headline": "Kwartiermaker Partnerschappen & Filantropie | Maatschappelijke bewegingen | Versnelt systeemverandering in het sociaal domein | Verbindt filantropie, bedrijven en overheid in √©√©n route naar financi√´le gezondheid ‚úÖ", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "arnout-roose-01c0d3", "name": "Arnout Roose", "connection": "2de", "headline": "Merk- & organisatie-identiteit // Pioneer social entrepreneurship Douwe Visser ‚Ä¢ 3de+", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "steinar-eikeland-19d1d8", "name": "Steinar Eikeland", "connection": "2de", "headline": "sabbatical", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wiger-aantjes-18581f", "name": "Wiger Aantjes", "connection": "2de", "headline": "Carbon Accounting and Transition | ESRS E1 | Sustaining Supply Chains | BijbelsBoeren", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jordan-kuhnemann-a3fee4", "name": "Jordan Kuhnemann", "connection": "2de", "headline": "Partner - Living Hope VC", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "bart-van-der-vis-b028fa", "name": "Bart van der Vis", "connection": "2de", "headline": "Director Germany at Coolblue", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ronald-burgers-279005", "name": "Ronald Burgers", "connection": "2de", "headline": "Founder Catering Groep Nederland, Event-locatie: BOSQUE Vier & Ontmoet", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "erik-in-t-groen-4e5fb5", "name": "Erik in 't Groen", "connection": "2de", "headline": "Royalis Investments | M&A | Business Improvement | Healthcare | Valuation royalis-investments", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "harry-dijkema-e91d7d", "name": "Harry Dijkema", "connection": "2de", "headline": "Teamcoach + Dagvoorzitter @ Groei op Sneakers", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "thijs-van-vliet-1c2d49", "name": "Thijs van Vliet", "connection": "2de", "headline": "Timmerman en Assistent medewerker bij Landelijke Bouwstijl B.V.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "dineke-hartman-8c45f2", "name": "Dineke Hartman", "connection": "2de", "headline": "autisme | kinderen & jongeren | Initiatiefneemster autismehuis | Ervaringsdeskundige | Vergroot inzicht in autisme", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "patty-rietveld-2e829d", "name": "Patty Rietveld", "connection": "2de", "headline": "Virtual Assistant | Interim Juridisch Secretaresse | NVDM Lid Bestuursteam Regio Utrecht tlm-netherlands", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "annette-van-den-berg-8a5b3b", "name": "Annette van den Berg", "connection": "2de", "headline": "Life-Changing Mentor voor vrouwen 50+ | CEO Livin‚ÄôFlow & Academie Intu√Øtie Practitioner | Expert in praktische spiritualiteit en innerlijk leiderschap", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "willemien-reinds-fikse-511f53", "name": "Willemien Reinds-Fikse", "connection": "2de", "headline": "regieverpleegkundige Hartcentrum, Isala, Zwolle red-een-kind", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "de4emusketier.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jeanet-couwenberg-ce3cda", "name": "Jeanet Couwenberg", "connection": "2de", "headline": "Secretaresse at Evangelische Omroep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "laura-hindriks-1b2438", "name": "Laura Hindriks", "connection": "2de", "headline": "Interieurontwerper voor exclusieve en karakteristieke panden en huizenflipper", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jurjen-ten-brinke-2332a8", "name": "Jurjen ten Brinke", "connection": "2de", "headline": "Presentator & kerkverbinder Amsterdam & spreker", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerrit-goossens-ed3e1e", "name": "Gerrit Goossens", "connection": "2de", "headline": "Gepensioneerd Controller bij Thoma Assurantie en Pensioensadviseurs", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "johannes-mattiesing-6ca3a8", "name": "Johannes Mattiesing", "connection": "2de", "headline": "Partner FlexxInvestments", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "huib-hartog-6f0a00", "name": "Huib Hartog", "connection": "1ste", "headline": "Directeur | Verbinder | Marketplace Ambassador | Fakkeldrager | Netwerker", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "johan-den-hartogh-86c678", "name": "Johan den Hartogh", "connection": "1ste", "headline": "Spreker, schrijver, zanger, Consultant bij Shift Business, accountmanager Uitgeverij Public Transformation", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "klaas-hogenhout-590e7a", "name": "Klaas Hogenhout", "connection": "1ste", "headline": "Ondernemer | Financi√´le rust & zorgeloos leasen voor zzp‚Äôers en ondernemers | FactoFlex & Ontzorglease Intermediair", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "robert-reinbergen-114500", "name": "Robert Reinbergen", "connection": "1ste", "headline": "Eigenaar VeluweVaren", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "timon-rammeloo-111a65", "name": "Timon Rammeloo", "connection": "2de", "headline": "Adviseur recruitment & employer branding | Verbindt mensen met organisaties die laten zien wie ze zijn", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jon-porter-eab813", "name": "Jon Porter", "connection": "2de", "headline": "Building a multi-frontier market holding company ü§ü", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "joan-heetebrij-ec5b2a", "name": "Joan Heetebrij", "connection": "2de", "headline": "Floorer at VC Automotive Group", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "harry-van-der-linden-d706ec", "name": "Harry van der Linden", "connection": "2de", "headline": "CEO | CFO | RA | RC | M&A | Financi√´le herstructureringen | Business control | Governance | Veranderingsmanagement", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jo-l-heerema-26aa90", "name": "Jo√´l Heerema", "connection": "2de", "headline": "aankomende Filiaalmanager bij Woonsquare", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "loes-oskam-ecfc12", "name": "Loes Oskam", "connection": "2de", "headline": "Communicatiemedewerker Klantbedrijf bij Veenvesters | Creatief schrijven, Fotografie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "anita-van-kooten-niekerk-b184ab", "name": "Anita Van Kooten Niekerk", "connection": "2de", "headline": "Front Office Medewerkster bij Memento Kaarten", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "cha-m-zonnenberg-06a76e", "name": "Cha√Øm Zonnenberg", "connection": "2de", "headline": "invullen.nl | ik help coaches en trainers die worstelen met zicht op waar hun deelnemers staan, door een softwareplatform te bouwen waarin zij vragen aanbieden en antwoorden eenvoudig analyseren, zonder aannames", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "invullen.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martijn-kersloot-541a97", "name": "Martijn Kersloot", "connection": "2de", "headline": "Assistant Professor in Reusable Health Data Ôπ´ Amsterdam UMC | Product & Tech Ôπ´ Rapid Intervention", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "johan-noordermeer-a283d8", "name": "Johan Noordermeer", "connection": "2de", "headline": "No nonsense senior belastingadviseur", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ronny-morren-8bb8d2", "name": "Ronny Morren", "connection": "2de", "headline": "Eigenaar, Tosch", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "janneke-koorevaar-11a59c", "name": "Janneke Koorevaar", "connection": "2de", "headline": "Manager | Bestuurssecretaris | Bestuursadviseur | Jurist", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "mirjam-nauta-ec8fae", "name": "Mirjam Nauta", "connection": "2de", "headline": "Co√∂rdinator Kind&Jeugd KDC Vlaardingen en Tienergroepen Schiedam, Stichting Ipse de bruggen.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "albert-mout-e21bcb", "name": "Albert Mout", "connection": "2de", "headline": "Teamleider Bedrijfsvoering en Representatie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "kevin-schuit-49ef0c", "name": "Kevin Schuit", "connection": "2de", "headline": "Turning ideas into digital products", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "brenda-van-de-wal-van-essen-599d05", "name": "Brenda van de¬†Wal - van Essen üóùÔ∏è", "connection": "2de", "headline": "\"Een ander kan je niet veranderen, verandering begint bij jezelf.\" Keys activator | Casemanager Verzuim | HR-Adviseur | Verzuim Coach en Begeleider | Loopbaancoach | Verzuimspecialist | Familie en Organisatie opsteller", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "alexander-keur-c39aac", "name": "Alexander Keur", "connection": "2de", "headline": "Chairman & Founder", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerhard-van-de-lagemaat-8eb066", "name": "Gerhard van de Lagemaat", "connection": "2de", "headline": "Directeur bij DEVO en Veenwarmte", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rianca-evers-den-ouden-2a584c", "name": "Rianca Evers-den Ouden", "connection": "2de", "headline": "Transformational speaker, mentor, auteur. Mijn focus: leiders toerusten zodat ze transformatie voortbrengen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "paul-baars-b849ef", "name": "Paul Baars", "connection": "2de", "headline": "MBO Docent Elektrotechniek bij ROC Da Vinci College", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "walter-jeroen-van-splunter-ehp-rmc-730453", "name": "Walter-Jeroen van Splunter EHP RMC", "connection": "2de", "headline": "Risico Management bij De Wit Assuranti√´n BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerard-van-asselt-ea98a6", "name": "Gerard van Asselt", "connection": "2de", "headline": "Strategic Leadership | Organizational Development | Project Management", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "henk-bonsink-dc9597", "name": "Henk Bonsink", "connection": "2de", "headline": "Gepensioneerd oprichter HEBO Maritiemservice BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "teus-visser-ceb915", "name": "Teus Visser", "connection": "2de", "headline": "Strategisch partner, bedrijfsadviseur en bestuurder. Voor ondernemers die zoeken naar brede impact. Praktisch en hands-on.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "pieter-jan-van-halum-dd85e4", "name": "Pieter-Jan van Halum", "connection": "2de", "headline": "Algemeen directeur bij Goemaat - Uitblinkers in kwaliteitskozijnen!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "diederick-van-der-knaap-f390eb", "name": "Diederick van der Knaap", "connection": "2de", "headline": "Founder at Multiplied let's move Forward", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "david-skidmore-e62f2e", "name": "David Skidmore", "connection": "2de", "headline": "Keynote Speaker | 2x Author", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "andrei-venema-d59111", "name": "Andrei Venema", "connection": "2de", "headline": "Ambassadeur & Relatiemanager bij Stichting de Haven | Mensen raken, kerken bewegen, bedrijven verbinden Ryan Prince ‚Ä¢ 3de+", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "anne-meint-bouma-907394", "name": "Anne Meint Bouma", "connection": "2de", "headline": "Aankomend Directeur-bestuurder Vereniging SchuldHulpMaatje Nederland.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tineke-van-der-jagt-f0863b", "name": "Tineke van der Jagt", "connection": "2de", "headline": "Strategisch creatief ‚Ä¢ Studio TinekeWerkt ‚Ä¢ Owner & Art-Director ‚Ä¢ Grafisch ontwerp met hart voor jouw verhaal", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wilfred-hardeman-31d475", "name": "Wilfred Hardeman", "connection": "2de", "headline": "Hoofd Contentmakers EO", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "nienke-bakker-9ae1ec", "name": "Nienke Bakker", "connection": "2de", "headline": "Product owner content EO | Hoofd EO Metterdaad", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "inez-petter-d35779", "name": "Inez Petter", "connection": "2de", "headline": "Vind RUST ‚Äã> Timemanagement I Leiderschap Coaching I Verbeter de samenwerking in je team I Columnist I Spreker I Betekenisvol coachen & praktisch trainen üí´.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "leonie-de-graaf-ruizendaal-79368c", "name": "Leonie de Graaf - Ruizendaal", "connection": "2de", "headline": "Communicatieadviseur met veel passie voor journalistiek en media üì±", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "thijs-vonkeman-aa6b15", "name": "Thijs Vonkeman", "connection": "2de", "headline": "Teamleider Zakelijke relaties | ZOA Nederland", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jacob-de-vries-51fd3c", "name": "Jacob de Vries", "connection": "2de", "headline": "Product Owner AI & Innovatie | sr. Projectleider Journalistiek | Digital expert", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerrit-boogaard-22645d", "name": "Gerrit Boogaard", "connection": "2de", "headline": "Relatiebeheerder Vrienden van Eleos ‚Ä¢ Mozaiek0318", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "paula-graafland-18b9d2", "name": "Paula Graafland", "connection": "2de", "headline": "Adviseur @ UWV // Voorzitter Raad van Toezicht @ VCO Harderwijk Hierden *schrijft op persoonlijke titel*", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "suzan-pronk-a928af", "name": "Suzan Pronk", "connection": "2de", "headline": "TipTop Taxi", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "esther-krook-elbertsen-24d0fc", "name": "Esther Krook-Elbertsen", "connection": "2de", "headline": "Van de ratrace naar mentale ruimte en veerkracht | Toegepast psycholoog i.o. I Preventie | Amplitie (mentale groei) | Stressmanagement", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "willem-jan-de-bruin-4919da", "name": "Willem Jan de Bruin üì∏", "connection": "2de", "headline": "Fotografie voor professionals | Events | Bedrijfsfotografie | Zakelijke portretfotografie | Corporate | Afscheidsfotograaf | Dronefotografie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tom-van-hoogstraten-fa062c", "name": "Tom van Hoogstraten", "connection": "2de", "headline": "Oprichter Veritas Academy", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "shannon-dommeck-9bbf47", "name": "Shannon Dommeck", "connection": "2de", "headline": "Founder van Growing with Grace en Mensgerichte Merkbouwer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martijn-goemaat-72ac99", "name": "Martijn Goemaat", "connection": "2de", "headline": "Goemaat kozijnen - Ondernemen - Familiebedrijf - Productie in NL", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jaap-de-vente-f40b30", "name": "Jaap de Vente", "connection": "2de", "headline": "Commercieel Directeur bij Tribion / VPO Henri√´tte de Graaf ‚Ä¢ 3de+", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "timo-wolff-3fd012", "name": "Timo Wolff", "connection": "2de", "headline": "Onderwijsmanagement bij CSO Apeldoorn", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "arjan-dekker-aced4e", "name": "Arjan Dekker", "connection": "2de", "headline": "Hoofd Bedrijfsvoering & Diensten bij Goede Doelen Nederland", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jeffrey-sarpong-9af5d2", "name": "Jeffrey Sarpong", "connection": "2de", "headline": "Coach, former Professional Footballer | Investor | Inspirational Speaker | Record Label Owner", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "krijn-donker-27f1ba", "name": "Krijn Donker üß©", "connection": "1ste", "headline": "Anderen (mogen) helpen het goede te doen, met meer impact | Secure Base transformaties & leiderschap | Sparring partner | Organisator van kampvuren", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jonathan-nolan-30cb38", "name": "Jonathan Nolan", "connection": "1ste", "headline": "Doorbraken cre√´ren voor MKB-ondernemers die vastlopen in richting, leiderschap, groei, processen, organisatie en AI ‚Äî Het starten en opschalen van bedrijven en kerken in Afrika, Azi√´ en het Midden-Oosten", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "walter-aan-de-wiel-0424a7", "name": "Walter aan de Wiel", "connection": "1ste", "headline": "Founder at Sevi", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "marius-timmer-48eab4", "name": "Marius Timmer", "connection": "1ste", "headline": "Helping you build deeper connections through immersive (360¬∞ dome) experiences | Founder @ EmbrAVe", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "dirk-develing-f72bfc", "name": "üöÄ Dirk Develing", "connection": "1ste", "headline": "Wij helpen drukke consultancybureaus aan een bewezen groeistrategie voor meer aanvragen", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "tom-nusselder-2d8f5d", "name": "Tom Nusselder", "connection": "1ste", "headline": "Content Creator & Marketeer Fondsenwerving bij Dorcas", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hans-hamoen-ccd1f7", "name": "Hans Hamoen", "connection": "1ste", "headline": "Advisor, speaker coach", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "wim-hasselman-d16da5", "name": "Wim Hasselman", "connection": "1ste", "headline": "Founder at MissionInvest | Inspiring entrepreneurs and foundations to invest in meaningful and sustainable projects in Asia, Africa and Latin-America creating ripples of HOPE", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "elmer-verweij-2239c8", "name": "Elmer Verweij", "connection": "2de", "headline": "Zendingswerker bij CAMA Zending", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "anja-smit-van-der-hoog-a3aba0", "name": "Anja Smit-van der Hoog", "connection": "2de", "headline": "Hoofd Contentmakers bij de Evangelische Omroep", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "koen-van-ettinger-e3ff69", "name": "Koen Van Ettinger", "connection": "2de", "headline": "Koen van Ettinger Pensioenadvies en Communicatie", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jaap-kooij-79961d", "name": "Jaap Kooij", "connection": "2de", "headline": "Coach, mentor en bestuurder. Mijn kwaliteit is om de harde en de zachte kant van de organisatie te verbinden, analytisch en systemisch te kijken, de bovenstroom te bevragen en de onderstroom bespreekbaar te maken.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "arjan-de-bruin-d83a68", "name": "Arjan de Bruin", "connection": "2de", "headline": "Business Developer High Tech Systems & Materials @ Horizon Flevoland | InnovatieMakelaar @ Holland Hightech victautomatisering", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "pieter-jacob-leenman-1c8fa0", "name": "Pieter Jacob Leenman", "connection": "2de", "headline": "Founder Maqqie - Building a smart and connected digital universe of work.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "johan-langenberg-28384b", "name": "Johan Langenberg", "connection": "2de", "headline": "Since 2017 called by God/ Yahuah to take care for Orphans and Street Children.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "henk-van-de-geest-aaa631", "name": "Henk van de Geest", "connection": "2de", "headline": "Business Minded | Mission Driven | Networker and Initiator | Creating Impact | Social Change | Purpose over Profit", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "annedien-smit-9b530d", "name": "Annedien Smit", "connection": "2de", "headline": "HR professional | Loopbaancoach | Teamsessies | LEAN & DISC gecertificeerd hrm360", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rik-blokland-55f63f", "name": "Rik Blokland", "connection": "2de", "headline": "CEO at Maqqie üü£ h√©t open HR-platform dat de arbeidsmarkt volledig digitaliseert üü£ Sluit aan als klant, partner √≥f collega üöÄ", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "nelleke-de-wit-de-bruijn-3ee8ea", "name": "Nelleke de Wit - de Bruijn", "connection": "2de", "headline": "Auteur & Spreker | Persoonlijk Leiderschap | Relatiemanager | Ondernemend", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "andre-nederlof-cdc82d", "name": "Andre Nederlof", "connection": "2de", "headline": "Procurement Manager bij Krohne Solutions", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "olivier-pilon-cfc6ce", "name": "Olivier Pilon", "connection": "2de", "headline": "(zorg) ondernemer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jasper-ringoir-2dc39e", "name": "Jasper Ringoir", "connection": "2de", "headline": "Logistics and IT consultant", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "harmen-ten-brink-de8b5c", "name": "Harmen ten Brink", "connection": "2de", "headline": "Business Unit Manager bij Win Equipment B.V.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "jan-pieter-vreeken-0e50ff", "name": "Jan Pieter Vreeken", "connection": "2de", "headline": "Founder MisterSales & MisterChat & Huntly. Alblasserdam, Valencia & Paramaribo. Commercieel strategisch aanjager!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "louwrens-van-der-linden-169cc4", "name": "Louwrens van der Linden", "connection": "2de", "headline": "Interim CFO | Controller | Business Controller | Financial Controller | Finance Manager", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "margreet-van-de-geer-f69d00", "name": "Margreet van de Geer", "connection": "2de", "headline": "Casemanager met regie op Verzuim Crov¬Æ bij BeeActive Arbodienstverlening", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hans-veldhoen-8dc233", "name": "Hans Veldhoen", "connection": "2de", "headline": "Discover the hidden potential in urban mining, infrastructures. and speeding up the energy transition. Faster, greener, smarter and sustainable. Cutting Crap, Cutting Edge", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "michiel-nap-337b31", "name": "Michiel Nap", "connection": "2de", "headline": "Aanjager van vrijgevigheid", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "anders-torvill-bjorvand-8d43b4", "name": "Anders Torvill Bjorvand", "connection": "2de", "headline": "CEO of Kommunion, inc. Entrepreneur, Investor, Author and Speaker.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerard-van-der-hoeven-f3d283", "name": "Gerard van der Hoeven", "connection": "2de", "headline": "On a mission to empower businesses and people to regain autonomy #BreakingSilos #DataSovereignty #Autonomy", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hermann-toebes-26ba40", "name": "Hermann Toebes", "connection": "2de", "headline": "A change is only sustainable when the transition is completed", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "duurt-jan-van-dijk-6119dd", "name": "Duurt Jan van Dijk", "connection": "2de", "headline": "Value Investor, CEO/Founder New Reach Investments, Register Valuator", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "rien-hoogendoorn-c18165", "name": "Rien Hoogendoorn", "connection": "2de", "headline": "Advocaat | Partner | Corporate & Insolvency | HerikLegal N.V.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "selma-speksnijder-tamminga-8a703b", "name": "Selma Speksnijder-Tamminga", "connection": "2de", "headline": "Engagement Specialist | Change management | Conscious leadership development | Social & Organizational Psychology", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "ernst-jan-bioch-652f1d", "name": "Ernst-Jan Bioch", "connection": "2de", "headline": "Partner @ KPMG Meijburg & Co", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "martin-vellinga-cf379d", "name": "Martin Vellinga", "connection": "2de", "headline": "White label SEO voor marketingbureaus die willen groeien zonder gedoe | 200+ bedrijven geholpen | Founder Sayooo.com", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "Sayooo.com"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gert-lagerweij-eb57e5", "name": "Gert Lagerweij", "connection": "2de", "headline": "HELDERHEID VOOR LEIDERS IN COMPLEXE REALITEIT", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "bert-dorr-01860d", "name": "Bert Dorr", "connection": "1ste", "headline": "Catalyzing Wealth for Good. Business as Mission Nederland. De wereld zoals hij is een beetje dichter bij de wereld brengen zoals hij hoort te zijn. (Uitspraak van Rabbijn J. Sachs)", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "anjali-ganput-3875ef", "name": "Anjali Ganput", "connection": "2de", "headline": "Ambitieuze internationaal business student | Wereldwijde markten overbruggen met sterke klantrelaties.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "laura-goeree-77ecd9", "name": "Laura Goeree", "connection": "2de", "headline": "Management Assistent", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "marielle-kuiper-9cdec6", "name": "Marielle Kuiper", "connection": "2de", "headline": "Marketingstrateeg", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "koos-van-strien-ab101d", "name": "Koos van Strien", "connection": "2de", "headline": "Wortell Learning | Trainingen en leertrajecten over Azure, Fabric, Snowflake, Databricks, dbt and more. Microsoft Certified Trainer (MCT)", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "joanne-koekkoek-broere-5f1cfc", "name": "Joanne Koekkoek-Broere üïäÔ∏è", "connection": "2de", "headline": "Loyalty & Retentie | Donateurswerving | Customer Service | brengt enthousiasme en servicegericht denken in maatschappelijke en ide√´le organisaties.", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "aad-reinds-a88a2a", "name": "Aad Reinds", "connection": "2de", "headline": "Zakelijk leider bij EO", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "gerdi-hulsink-6f5a21", "name": "Gerdi Hulsink", "connection": "2de", "headline": "‚Ü≥‚ôüStrategic Business Partner in Intelligent Leadership & Integral Growth | Repositioning that drive and elevate Women in Life & Business", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "nick-van-leeuwen-rt-596cf1", "name": "Nick van Leeuwen RT", "connection": "2de", "headline": "Senior Registered Valuer GZV | Lead Banken | Colliers Valuations", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "roeland-thoutenhoofd-bf24f5", "name": "Roeland Thoutenhoofd", "connection": "2de", "headline": "Commercieel directeur retail bij Tegelgroep Nederland", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "aart-groeneveld-11456d", "name": "Aart Groeneveld", "connection": "2de", "headline": "Directeur/eigenaar bij Acero partners in verspanen BV en Vlot Staal BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "henk-jan-van-maanen-dd9281", "name": "Henk-Jan van Maanen", "connection": "2de", "headline": "Co-founder Mediahuis Living Image & directeur MOVE.community", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "MOVE.community"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "willem-geerts-a66e51", "name": "Willem Geerts", "connection": "2de", "headline": "Ik help organisaties meer klantenbinding en resultaat bereiken door menselijke gesprekken | CEO bij Triple Tree Group BV", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "arjan-kuijper-1bb2a3", "name": "Arjan Kuijper", "connection": "2de", "headline": "AI = Applied Informatics. Professor for Mathematical and Applied Visual Computing. Fraunhofer IGD & TU Darmstadt legerdesheils", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": "de4emusketier.nl"}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "pieter-groenheide-267252", "name": "Pieter Groenheide", "connection": "2de", "headline": "Faciliteerder in Werkgeluk: (Loopbaan-)Coaching, Teambuilding en Teamtraining", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "patrick-dobbelaar-e9cc32", "name": "Patrick Dobbelaar", "connection": "2de", "headline": "Eigenaar bij Cows & Stars - Creative agency", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "joris-van-dijk-482612", "name": "Joris van Dijk", "connection": "2de", "headline": "Directeur bij Dijkstaal B.V. - 5th generation reliable steel and bridge builders, since 1878! More steel, less stress!", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "hilde-van-leenen-a03764", "name": "Hilde van Leenen", "connection": "2de", "headline": "Marketing & Communicatie adviseur | Marketing waar je blij van wordt", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "victoria-de-wild-9ff250", "name": "Victoria de Wild", "connection": "2de", "headline": "Producer bij EO - Freelance Producer", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}, {"id": "dennis-oosterveld-7131b2", "name": "Dennis Oosterveld", "connection": "2de", "headline": "Grafisch vormgever", "photoUrl": "", "contact": {"linkedinUrl": "", "email": "", "phone": "", "website": ""}, "stage": "Nieuw", "interaction": "Niet benaderd", "notes": "", "tags": ["ZAKENDOEN", "LinkedIn reactie"], "lastTouchAt": "", "nextActionAt": "", "activity": []}];

  // ========= Config =========
  const STORAGE_KEY = "dorcas_prospect_funnel_v1";
  const STAGES = [
    "Nieuw",
    "Onderzoek",
    "Connectieverzoek verstuurd",
    "Connected",
    "Kwalificatie",
    "Afspraak gepland",
    "Voorstel gedaan",
    "Relatie/Partner",
    "Donor/Partner",
    "Nurture/Later",
    "Afgewezen"
  ];
  const INTERACTIONS = [
    "Niet benaderd",
    "DM gestuurd",
    "Gereageerd",
    "Call gedaan",
    "Meeting",
    "Voorstel",
    "Donatie",
    "On hold"
  ];
  const CONNECTIONS = ["", "1ste", "2de", "3de", "U"];
  // ========= Organizations (stored once, then linked) =========
  const ORG_STORAGE_KEY = "dorcas_org_registry_v1";
  const ORG_SEED = [
    { id:"eo", name:"EO", tags:["media","christelijk"], logoUrl:"", website:"", desc:"", contacts:"", note:"", contactPeople:[] },
    { id:"cbmc", name:"CBMC", tags:["businessclub","christelijk"], logoUrl:"", website:"", desc:"", contacts:"", note:"", contactPeople:[] },
    { id:"gidsnetwerk", name:"GIDSnetwerk", tags:["netwerk","christelijk"], logoUrl:"", website:"", desc:"", contacts:"", note:"", contactPeople:[] }
  ];
  let orgs = [];
  const ORG_FILTER_KEY = "dorcas_org_filter_v1";
  let globalOrgFilter = new Set(); // empty => ALL

  function orgInitials(name="") {
    const parts = String(name||"").trim().split(/\s+/).filter(Boolean);
    const a = parts[0]?.[0] || "O";
    const b = parts.length > 1 ? parts[parts.length-1][0] : "";
    return (a+b).toUpperCase();
  }

  
  function ensureOrgDefaults(o){
    o = (o && typeof o === "object") ? o : {};
    o.id = o.id || crypto.randomUUID();
    o.name = o.name || "Organisatie";
    o.tags = Array.isArray(o.tags) ? o.tags : [];
    o.logoUrl = o.logoUrl || "";
    o.website = o.website || "";
    o.desc = o.desc || "";
    o.contacts = o.contacts || ""; // legacy text
    o.note = o.note || "";
    o.contactPeople = Array.isArray(o.contactPeople) ? o.contactPeople : [];
    o.contactPeople = o.contactPeople.map(c => ({
      id: c?.id || crypto.randomUUID(),
      name: c?.name || "",
      role: c?.role || "",
      photoUrl: c?.photoUrl || "",
      email: c?.email || "",
      phone: c?.phone || "",
      linkedinUrl: c?.linkedinUrl || "",
      note: c?.note || ""
    }));
    return o;
  }

function loadOrgs() {
    const raw = localStorage.getItem(ORG_STORAGE_KEY);
    if (raw) {
      try { orgs = (JSON.parse(raw) || []).map(ensureOrgDefaults); } catch { orgs = []; }
    }
    if (!Array.isArray(orgs) || !orgs.length) {
      orgs = structuredClone(ORG_SEED).map(ensureOrgDefaults);
      localStorage.setItem(ORG_STORAGE_KEY, JSON.stringify(orgs));
    }
  }
  function saveOrgs() {
    localStorage.setItem(ORG_STORAGE_KEY, JSON.stringify(orgs));
  }
  function orgById(id) { return orgs.find(o => o.id === id); }

  function isOrgTag(t){ return String(t||"").startsWith("ORG:"); }
  function orgTagForName(name){ return `ORG:${String(name||"").trim()}`; }

  function syncOrgTags(p){
    p.tags = Array.isArray(p.tags) ? p.tags : [];
    const base = p.tags.filter(t => !isOrgTag(t));
    const ids = Array.isArray(p.orgIds) ? p.orgIds : [];
    const orgTags = ids
      .map(id => orgById(id)?.name || id)
      .filter(Boolean)
      .map(n => orgTagForName(n));
    p.tags = Array.from(new Set(base.concat(orgTags)));
  }

  function getDisplayTags(p){
    // show user tags + org tags (derived from orgIds via sync)
    p.tags = Array.isArray(p.tags) ? p.tags : [];
    // ensure org tags are in sync (safe to call often)
    syncOrgTags(p);
    return p.tags;
  }

  function formatTagLabel(t){
    const s = String(t||"");
    if (s.startsWith("ORG:")) return "üè¢ " + s.slice(4).trim();
    return s;
  }

  function renderOrgDropdownForProspect(p, hostList, hostSummary, q=""){
    const ids = new Set(Array.isArray(p.orgIds) ? p.orgIds : []);
    const query = String(q||"").trim().toLowerCase();

    hostList.innerHTML = "";
    const pool = orgs.filter(o=>{
      if (!query) return true;
      const hay = [o.name, (o.tags||[]).join(","), o.website].join(" ").toLowerCase();
      return hay.includes(query);
    });

    for (const o of pool){
      const row = document.createElement("label");
      row.className = "org-dd-item";
      const checked = ids.has(o.id);

      // NOTE: do NOT use data-org here (reserved for opening org modal on logos)
      row.innerHTML = `<input type="checkbox" data-orgsel="${esc(o.id)}" ${checked ? "checked": ""}/> <span>${esc(o.name)}</span>`;

      // prevent dragging and card clicks
      row.addEventListener("click", (e)=> e.stopPropagation());

      const box = row.querySelector("input");
      box.addEventListener("click", (e)=> e.stopPropagation());
      box.addEventListener("change", (e)=>{
        e.stopPropagation();
        const id = e.target.getAttribute("data-orgsel");
        if (!id) return;

        const set = new Set(Array.isArray(p.orgIds) ? p.orgIds : []);
        if (e.target.checked) set.add(id); else set.delete(id);
        p.orgIds = Array.from(set);

        // keep searchable tags in data (not shown on cards anymore)
        syncOrgTags(p);

        save(); // persists + rerenders
      });

      hostList.appendChild(row);
    }

    const sel = Array.isArray(p.orgIds) ? p.orgIds : [];
    const names = sel.map(id => orgById(id)?.name).filter(Boolean);

    // compact summary to keep the overview clean
    const n = names.length;
    hostSummary.textContent = `üè∑ Organisaties (${n})`;
    hostSummary.title = names.join(" ‚Ä¢ ");
  }

  function loadOrgFilter(){
    try{
      const raw = localStorage.getItem(ORG_FILTER_KEY);
      const arr = raw ? JSON.parse(raw) : null;
      globalOrgFilter = (Array.isArray(arr) && arr.length) ? new Set(arr) : new Set();
    }catch{ globalOrgFilter = new Set(); }
  }
  function saveOrgFilter(){
    localStorage.setItem(ORG_FILTER_KEY, JSON.stringify(Array.from(globalOrgFilter)));
  }

  function renderOrgMini(o){
    const name = String(o?.name||"ORG").trim() || "ORG";
    const url = (o?.logoUrl||"").trim();
    const img = logoImgTag({
      accountNo: o?.accountNo || "",
      name,
      url,
      alt: name,
      fallbackText: orgInitials(name)
    });
    if (img) return `<div class="org-mini" title="${esc(name)}">${img}</div>`;
    return `<div class="org-mini fallback" title="${esc(name)}">${esc(orgInitials(name))}</div>`;
  }

  function renderLogo(o, mini=false){
    const cls = mini ? "logo mini" : "logo";
    const name = String(o?.name||"ORG").trim() || "ORG";
    const url = (o?.logoUrl||"").trim();
    const img = logoImgTag({
      accountNo: o?.accountNo || "",
      name,
      url,
      alt: name,
      fallbackText: orgInitials(name)
    });
    if (img) return `<div class="${cls}" data-org="${esc(o.id)}" title="${esc(name)}">${img}</div>`;
    return `<div class="${cls} fallback" data-org="${esc(o.id)}" title="${esc(name)}">${esc(orgInitials(name))}</div>`;
  }

  // ========= State =========
  let prospects = [];
  let activeId = null;

  // ========= Utils =========
  const $ = (sel) => document.querySelector(sel);
  const esc = (s="") => String(s).replace(/[&<>"']/g, (c)=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[c]));

  
  // ========= Logos (assets/logos/*.png) =========
  const LOGO_BASE = "assets/logos/";

  function digitsOnly(s){
    return String(s||"").toString().replace(/\D/g,'');
  }

  // Match slug rules used by logo_cropper_2x3.html (hoogte 2, breedte 3)
  function slugify(s){
    return String(s||'').toLowerCase().trim()
      .replace(/&/g,' en ')
      .replace(/[^a-z0-9]+/g,'-')
      .replace(/-+/g,'-')
      .replace(/^-|-$/g,'');
  }

  function logoCandidates({ accountNo=null, name=null, url=null } = {}){
    const out = [];
    const dig = digitsOnly(accountNo);
    if (dig) out.push(`${LOGO_BASE}${dig}.png`);
    const slug = slugify(name);
    if (slug) out.push(`${LOGO_BASE}${slug}.png`);
    const u = String(url||"").trim();
    if (u && !out.includes(u)) out.push(u);
    return out;
  }

  function logoFallback(img){
    if (!img) return;
    try{
      const raw = img.getAttribute("data-cands") || "";
      const list = raw ? JSON.parse(decodeURIComponent(raw)) : [];
      if (Array.isArray(list) && list.length){
        const next = list.shift();
        img.setAttribute("data-cands", encodeURIComponent(JSON.stringify(list)));
        img.onerror = () => logoFallback(img);
        img.src = next;
        return;
      }
    }catch(e){}
    const p = img.parentElement;
    const txt = img.getAttribute("data-fallback") || "";
    if (p){
      p.classList.add("fallback");
      p.textContent = txt || "‚Äî";
    }
    img.onerror = null;
    try{ img.remove(); }catch(e){}
  }

  function logoImgTag({ accountNo=null, name=null, url=null, alt=null, cls="orgLogo", fallbackText="" } = {}){
    const cands = logoCandidates({ accountNo, name, url });
    if (!cands.length) return "";
    const first = cands[0];
    const rest = cands.slice(1);
    const dataCands = encodeURIComponent(JSON.stringify(rest));
    const fb = fallbackText || orgInitials(name || alt || "ORG");
    return `<img class="${esc(cls)}" alt="${esc(alt || name || "logo")}" src="${esc(first)}" data-cands="${esc(dataCands)}" data-fallback="${esc(fb)}" onerror="logoFallback(this)" loading="lazy" decoding="async"/>`;
  }

// ========= Donaties / Accounts / Labels (v1) =========
  const ACCOUNT_STORAGE_KEY = "dorcas_accounts_v1";
  const DONATION_STORAGE_KEY = "dorcas_donations_v1";
  const LABEL_STORAGE_KEY = "dorcas_labels_catalog_v1";

  const DEFAULT_LABEL_CATALOG = [
  {
    "id": "labels:stucturele-gift",
    "group": "labels",
    "name": "Stucturele gift"
  },
  {
    "id": "labels:eenmalige-gift",
    "group": "labels",
    "name": "Eenmalige gift"
  },
  {
    "id": "labels:nalatenschap",
    "group": "labels",
    "name": "Nalatenschap"
  },
  {
    "id": "labels:sponsorsip",
    "group": "labels",
    "name": "Sponsorsip"
  },
  {
    "id": "labels:winkel-vrijwilliger",
    "group": "labels",
    "name": "Winkel Vrijwilliger"
  },
  {
    "id": "labels:winkel-bestuur",
    "group": "labels",
    "name": "Winkel Bestuur"
  },
  {
    "id": "labels:noodhulp",
    "group": "labels",
    "name": "Noodhulp"
  },
  {
    "id": "labels:telemarketing",
    "group": "labels",
    "name": "Telemarketing"
  },
  {
    "id": "labels:gepensioneerd",
    "group": "labels",
    "name": "Gepensioneerd"
  },
  {
    "id": "fundraisingStatus:donatieverzoek-gedaan",
    "group": "fundraisingStatus",
    "name": "Donatieverzoek gedaan"
  },
  {
    "id": "fundraisingStatus:donatie-is-al-toegezegd",
    "group": "fundraisingStatus",
    "name": "Donatie is al toegezegd"
  },
  {
    "id": "fundraisingStatus:donatie-is-overgemaakt",
    "group": "fundraisingStatus",
    "name": "Donatie is overgemaakt"
  },
  {
    "id": "fundraisingStatus:donatie-is-juist-geboekt",
    "group": "fundraisingStatus",
    "name": "Donatie is juist geboekt"
  },
  {
    "id": "communicatiePost:dorcas-gebedsbrief",
    "group": "communicatiePost",
    "name": "Dorcas Gebedsbrief"
  },
  {
    "id": "communicatiePost:dorcas-magazine",
    "group": "communicatiePost",
    "name": "Dorcas Magazine"
  },
  {
    "id": "communicatiePost:dorcas-direct-mailing",
    "group": "communicatiePost",
    "name": "Dorcas Direct Mailing"
  },
  {
    "id": "communicatiePost:dorcas-campagne-mailing",
    "group": "communicatiePost",
    "name": "Dorcas Campagne Mailing"
  },
  {
    "id": "communicatiePost:sponsorship-update",
    "group": "communicatiePost",
    "name": "Sponsorship Update"
  },
  {
    "id": "communicatiePost:winkel-updates",
    "group": "communicatiePost",
    "name": "Winkel Updates"
  },
  {
    "id": "interactieRM:kerstkaart-gestuurd",
    "group": "interactieRM",
    "name": "Kerstkaart Gestuurd"
  },
  {
    "id": "interactieRM:contact-op-business-event",
    "group": "interactieRM",
    "name": "Contact op Business Event"
  },
  {
    "id": "interactieRM:contact-via-linkedin",
    "group": "interactieRM",
    "name": "Contact via LinkedIn"
  },
  {
    "id": "interactieRM:contact-per-mail",
    "group": "interactieRM",
    "name": "Contact per Mail"
  },
  {
    "id": "interactieRM:contact-per-direct-mail",
    "group": "interactieRM",
    "name": "Contact per Direct Mail"
  },
  {
    "id": "interactieRM:contact-per-app",
    "group": "interactieRM",
    "name": "Contact per App"
  },
  {
    "id": "interactieRM:contact-per-telefoon",
    "group": "interactieRM",
    "name": "Contact per Telefoon"
  },
  {
    "id": "interactieRM:contact-dorcas-evenement",
    "group": "interactieRM",
    "name": "Contact Dorcas Evenement"
  },
  {
    "id": "interactieRM:bezoek-op-bedrijfslocatie",
    "group": "interactieRM",
    "name": "Bezoek  op Bedrijfslocatie"
  },
  {
    "id": "donateurStatus:retentie",
    "group": "donateurStatus",
    "name": "Retentie/"
  },
  {
    "id": "donateurStatus:reactivatie",
    "group": "donateurStatus",
    "name": "Reactivatie/"
  },
  {
    "id": "donateurStatus:upgrade",
    "group": "donateurStatus",
    "name": "Upgrade/"
  },
  {
    "id": "donateurStatus:downgrade",
    "group": "donateurStatus",
    "name": "Downgrade/"
  },
  {
    "id": "donateurStatus:verloren",
    "group": "donateurStatus",
    "name": "Verloren/"
  },
  {
    "id": "donateurStatus:nieuwe-relatie-algemeen",
    "group": "donateurStatus",
    "name": "Nieuwe Relatie Algemeen"
  },
  {
    "id": "donateurStatus:nieuwe-relatie-op-project",
    "group": "donateurStatus",
    "name": "Nieuwe Relatie op Project"
  },
  {
    "id": "donateurStatus:inactief-langer-dan-5-jaar",
    "group": "donateurStatus",
    "name": "Inactief (langer dan 5 jaar)"
  },
  {
    "id": "donateurStatus:nurture-afscheid-bedankt",
    "group": "donateurStatus",
    "name": "Nurture/Afscheid/Bedankt"
  },
  {
    "id": "donorSegment:major-donor",
    "group": "donorSegment",
    "name": "Major Donor"
  },
  {
    "id": "donorSegment:middle-donor",
    "group": "donorSegment",
    "name": "Middle Donor"
  }
];

  let accounts = [];
  let donations = [];
  let labelCatalog = normalizeLabelCatalog(DEFAULT_LABEL_CATALOG);

  const donState = {
    yearsBack: 5,
    search: "",
    groupBy: "year",
    selectedLabelIds: new Set(),
    pinnedAccountNo: ""
  };

  function normalizeLabelCatalog(input){
    // Accept array or object with "labels" field
    const arr = Array.isArray(input) ? input : (Array.isArray(input?.labels) ? input.labels : []);
    const seen = new Set();
    const out = [];
    for (const raw of arr){
      const id = String(raw?.id||"").trim();
      const group = String(raw?.group||"labels").trim() || "labels";
      const name = String(raw?.name||"").trim();
      if (!id || !name) continue;
      const key = id;
      if (seen.has(key)) continue;
      seen.add(key);
      out.push({ id, group, name });
    }
    return out;
  }

  function saveLabels(){
    try { localStorage.setItem(LABEL_STORAGE_KEY, JSON.stringify(labelCatalog)); } catch(_e){}
  }
  function loadLabels(){
    try {
      const raw = localStorage.getItem(LABEL_STORAGE_KEY);
      if (!raw) return;
      const data = JSON.parse(raw);
      labelCatalog = normalizeLabelCatalog(data);
    } catch(_e){}
  }

  function ensureAccountDefaults(a){
    const accountNo = String(a?.accountNo || a?.accountNumber || a?.relatieNo || a?.relatienummer || "").trim();
    const id = String(a?.id||"").trim() || (accountNo ? accountIdFromNo(accountNo) : crypto.randomUUID());
    const labels = (a?.labels && typeof a.labels === "object") ? a.labels : {};
    return {
      id,
      accountNo,
      companyName: String(a?.companyName || a?.bedrijfsnaam || a?.name || "").trim(),
      contactFirst: String(a?.contactFirst || "").trim(),
      contactLast: String(a?.contactLast || "").trim(),
      email: String(a?.email || "").trim(),
      address: String(a?.address || "").trim(),
      city: String(a?.city || "").trim(),
      province: String(a?.province || "").trim(),
      lastGiftAt: String(a?.lastGiftAt || a?.dateLastGift || "").trim(),
      lifetimeTotal: Number(a?.lifetimeTotal || 0) || 0,
      labels
    };
  }

  function ensureDonationDefaults(d){
    const id = String(d?.id||"").trim() || crypto.randomUUID();
    const accountId = String(d?.accountId||"").trim();
    const date = String(d?.date||"").trim();
    const amount = Number(d?.amount||0) || 0;
    const currency = String(d?.currency||"EUR").trim() || "EUR";
    const labelIds = Array.isArray(d?.labelIds) ? d.labelIds.map(x=>String(x)).filter(Boolean) : [];
    return { id, accountId, date, amount, currency, labelIds, note: String(d?.note||"").trim() };
  }

  function saveAccounts(){ try { localStorage.setItem(ACCOUNT_STORAGE_KEY, JSON.stringify(accounts)); } catch(_e){} }
  function loadAccounts(){
    try {
      const raw = localStorage.getItem(ACCOUNT_STORAGE_KEY);
      accounts = raw ? JSON.parse(raw).map(ensureAccountDefaults) : [];
    } catch(_e){ accounts = []; }
  }

  function saveDonations(){ try { localStorage.setItem(DONATION_STORAGE_KEY, JSON.stringify(donations)); } catch(_e){} }
  function loadDonations(){
    try {
      const raw = localStorage.getItem(DONATION_STORAGE_KEY);
      donations = raw ? JSON.parse(raw).map(ensureDonationDefaults) : [];
    } catch(_e){ donations = []; }
  }

  function mergeDonations(existing=[], incoming=[]){
    const map = new Map();
    const keyOf = (d)=> String(d.id||"").trim() || `${d.accountId}|${d.date}|${d.amount}|${(d.labelIds||[]).join(",")}`;
    for (const d of existing) map.set(keyOf(d), d);
    for (const d of incoming) map.set(keyOf(d), { ...(map.get(keyOf(d))||{}), ...d });
    return [...map.values()];
  }

  function accountIdFromNo(no){ return `acc:${String(no||"").trim()}`; }
  function accountById(id){ return accounts.find(a=> String(a.id)===String(id)); }
  function accountByNo(no){ const id = accountIdFromNo(no); return accountById(id); }

  function hydrateAccountDatalist(){
    const dl = document.getElementById("accountList");
    if (!dl) return;
    const options = accounts
      .filter(a=>a.accountNo)
      .sort((a,b)=>(a.companyName||"").localeCompare(b.companyName||""))
      .map(a=>`<option value="${esc(a.accountNo)}">${esc(a.companyName||"")}</option>`);
    dl.innerHTML = options.join("");
  }

  function upsertAccountFromProspect(p){
    const no = String(p?.accountNo||"").trim();
    if (!no) return;
    const id = accountIdFromNo(no);
    let a = accountById(id);
    if (!a){
      a = ensureAccountDefaults({ id, accountNo:no, companyName: String(p?.accountCompany || p?.company?.name || "").trim(), email: String(p?.contact?.email || "").trim() });
      accounts.push(a);
      saveAccounts();
      hydrateAccountDatalist();
    } else {
      // light sync: fill missing fields only
      const name = String(p?.accountCompany || p?.company?.name || "").trim();
      if (name && !a.companyName) a.companyName = name;
      const email = String(p?.contact?.email || "").trim();
      if (email && !a.email) a.email = email;
      saveAccounts();
    }

    // map prospect tags -> account labels.labels (exact match)
    try {
      const tagNames = Array.isArray(p?.tags) ? p.tags : [];
      const ids = tagNames.map(t=>{
        const name = String(t||"").trim().toLowerCase();
        const l = labelCatalog.find(x=> x.group==="labels" && String(x.name||"").trim().toLowerCase()===name);
        return l ? l.id : null;
      }).filter(Boolean);
      if (ids.length){
        a.labels = (a.labels && typeof a.labels==="object") ? a.labels : {};
        const cur = Array.isArray(a.labels.labels) ? a.labels.labels.map(String) : [];
        const merged = new Set([...cur, ...ids.map(String)]);
        a.labels.labels = [...merged];
        saveAccounts();
      }
    } catch(_e){}
  }

  function fmtEUR(n){
    const v = Number(n||0);
    try {
      return new Intl.NumberFormat("nl-NL", { style:"currency", currency:"EUR", maximumFractionDigits:0 }).format(v);
    } catch(_e) {
      return "‚Ç¨" + Math.round(v).toString();
    }
  }

  function allLabelGroups(){
    const groups = new Map();
    for (const l of labelCatalog){
      const g = l.group || "labels";
      if (!groups.has(g)) groups.set(g, []);
      groups.get(g).push(l);
    }
    for (const [g, arr] of groups.entries()) arr.sort((a,b)=>(a.name||"").localeCompare(b.name||""));
    return groups;
  }

  function renderLabelChips(host, selectedSet, onToggle){
    if (!host) return;
    host.innerHTML = "";
    const groups = allLabelGroups();
    const groupNice = {
      labels: "Labels",
      fundraisingStatus: "Fundraising status",
      communicatiePost: "Communicatie",
      interactieRM: "Interactie (RM)",
      donateurStatus: "Donateur status",
      donorSegment: "Donor segment"
    };
    for (const [g, arr] of groups.entries()){
      const h = document.createElement("div");
      h.style.flexBasis = "100%";
      h.style.marginTop = "8px";
      h.style.color = "rgba(255,255,255,0.65)";
      h.style.fontSize = "12px";
      h.textContent = groupNice[g] || g;
      host.appendChild(h);

      for (const l of arr){
        const chip = document.createElement("div");
        chip.className = "chip" + (selectedSet.has(l.id) ? " on" : "");
        chip.innerHTML = `<span>${esc(l.name)}</span><small>${esc(g)}</small>`;
        chip.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); onToggle(l.id); });
        host.appendChild(chip);
      }
    }
  }

  function dateToYear(dstr){
    const y = Number(String(dstr||"").slice(0,4));
    return Number.isFinite(y) ? y : NaN;
  }

  function getAccountLabelSet(acc){
    const out = new Set();
    if (!acc || typeof acc !== "object") return out;
    const labels = acc.labels && typeof acc.labels === "object" ? acc.labels : {};
    for (const k of Object.keys(labels)) {
      const arr = Array.isArray(labels[k]) ? labels[k] : [];
      for (const id of arr) out.add(String(id));
    }
    return out;
  }

  function filterDonationsForDash(){
    const nowY = new Date().getFullYear();
    const fromY = nowY - (donState.yearsBack - 1);
    const q = String(donState.search||"").trim().toLowerCase();

    const labelSelected = donState.selectedLabelIds.size ? new Set(donState.selectedLabelIds) : null;

    const hits = [];
    for (const d of donations){
      const y = dateToYear(d.date);
      if (!Number.isFinite(y) || y < fromY || y > nowY) continue;
      if (!d.accountId) continue;

      const acc = accountById(d.accountId);
      const accNo = String(acc?.accountNo||"").trim();
      const accName = String(acc?.companyName||"").trim();
      const accLabelSet = getAccountLabelSet(acc);

      if (donState.pinnedAccountNo) {
        if (accNo !== donState.pinnedAccountNo) continue;
      }

      if (q) {
        const probe = `${accNo} ${accName} ${String(acc?.email||"")} ${String(acc?.contactFirst||"")} ${String(acc?.contactLast||"")}`.toLowerCase();
        if (!probe.includes(q)) continue;
      }

      if (labelSelected) {
        const donLabels = new Set((d.labelIds||[]).map(String));
        let ok = false;
        for (const id of labelSelected){
          if (donLabels.has(id) || accLabelSet.has(id)) { ok = true; break; }
        }
        if (!ok) continue;
      }

      hits.push({ d, acc });
    }
    return { hits, fromY, nowY };
  }

  function groupAgg(hits, mode){
    const map = new Map();

    if (mode === "label") {
      for (const {d, acc} of hits){
        const ids = (d.labelIds && d.labelIds.length) ? d.labelIds : ["(onbekend)"];
        for (const lid of ids){
          const key = String(lid);
          map.set(key, (map.get(key)||0) + (Number(d.amount)||0));
        }
      }
      const nameOf = (id)=>{
        if (id === "(onbekend)") return "Onbekend";
        const l = labelCatalog.find(x=>x.id===id);
        return l ? l.name : id;
      };
      return [...map.entries()]
        .map(([k,v])=>({ key:k, label:nameOf(k), value:v }))
        .sort((a,b)=>b.value-a.value)
        .slice(0, 14);
    }

    if (mode === "account") {
      for (const {d, acc} of hits){
        const key = String(acc?.accountNo || d.accountId || "");
        map.set(key, (map.get(key)||0) + (Number(d.amount)||0));
      }
      return [...map.entries()]
        .map(([k,v])=>({ key:k, label:k, value:v }))
        .sort((a,b)=>b.value-a.value)
        .slice(0, 14);
    }

    for (const {d} of hits){
      const y = dateToYear(d.date);
      if (!Number.isFinite(y)) continue;
      map.set(String(y), (map.get(String(y))||0) + (Number(d.amount)||0));
    }
    return [...map.entries()]
      .map(([k,v])=>({ key:k, label:k, value:v }))
      .sort((a,b)=>Number(a.key)-Number(b.key));
  }

  function drawBarChart(canvas, items){
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    const dpr = window.devicePixelRatio || 1;
    const w = Math.max(300, canvas.clientWidth || 800);
    const h = Math.max(220, canvas.clientHeight || 220);
    canvas.width = Math.round(w*dpr);
    canvas.height = Math.round(h*dpr);
    ctx.setTransform(1,0,0,1,0,0);
    ctx.scale(dpr, dpr);

    ctx.clearRect(0,0,w,h);

    const padL = 44, padR = 14, padT = 16, padB = 40;
    const innerW = w - padL - padR;
    const innerH = h - padT - padB;

    ctx.globalAlpha = 1;
    ctx.strokeStyle = "rgba(255,255,255,0.18)";
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(padL, padT);
    ctx.lineTo(padL, padT + innerH);
    ctx.lineTo(padL + innerW, padT + innerH);
    ctx.stroke();

    if (!items || !items.length){
      ctx.fillStyle = "rgba(255,255,255,0.65)";
      ctx.font = "13px ui-sans-serif, system-ui";
      ctx.fillText("Geen data voor deze selectie.", padL + 8, padT + 24);
      return;
    }

    const maxV = Math.max(...items.map(x=>x.value||0), 1);
    const barN = items.length;
    const gap = Math.max(6, Math.floor(innerW/(barN*10)));
    const barW = Math.max(10, Math.floor((innerW - gap*(barN-1))/barN));

    ctx.fillStyle = "rgba(255,255,255,0.55)";
    ctx.font = "11px ui-sans-serif, system-ui";
    const ticks = 4;
    for (let i=0;i<=ticks;i++){
      const t = i/ticks;
      const y = padT + innerH - t*innerH;
      ctx.strokeStyle = "rgba(255,255,255,0.10)";
      ctx.beginPath();
      ctx.moveTo(padL, y);
      ctx.lineTo(padL + innerW, y);
      ctx.stroke();
      const v = maxV * t;
      ctx.fillText(fmtEUR(v).replace("‚Ç¨","‚Ç¨ "), 6, y+4);
    }

    for (let i=0;i<barN;i++){
      const it = items[i];
      const x = padL + i*(barW+gap);
      const bh = (it.value/maxV)*innerH;
      const y = padT + innerH - bh;

      ctx.fillStyle = "rgba(255,200,80,0.80)";
      ctx.fillRect(x, y, barW, bh);

      ctx.fillStyle = "rgba(255,255,255,0.70)";
      ctx.font = "11px ui-sans-serif, system-ui";
      const label = String(it.label||"").slice(0,12);
      ctx.save();
      ctx.translate(x + barW/2, padT + innerH + 14);
      ctx.rotate(-0.35);
      ctx.textAlign = "center";
      ctx.fillText(label, 0, 0);
      ctx.restore();
    }
  }

  function renderDonTopTable(hits){
    const host = document.getElementById("donTopTable");
    const hint = document.getElementById("donTopHint");
    if (!host) return;

    const agg = new Map();
    for (const {d, acc} of hits){
      const id = String(acc?.id || d.accountId || "");
      if (!id) continue;
      agg.set(id, (agg.get(id)||0) + (Number(d.amount)||0));
    }
    const rows = [...agg.entries()]
      .map(([id,sum])=>({ id, sum, acc: accountById(id) }))
      .sort((a,b)=> b.sum-a.sum)
      .slice(0, 12);

    if (hint) hint.textContent = `${hits.length} donaties ‚Ä¢ ${rows.length} accounts`;

    host.innerHTML = rows.length ? rows.map(r=>{
      const no = String(r.acc?.accountNo||"").trim() || r.id;
      const name = String(r.acc?.companyName||"").trim() || "‚Äî";
      return `<div class="don-row" data-acc="${esc(no)}">
        <div>
          <div class="a">${esc(name)}</div>
          <div class="b">${esc(no)}</div>
        </div>
        <div class="c">${fmtEUR(r.sum)}</div>
      </div>`;
    }).join("") : `<span class="muted">Geen accounts voor deze selectie.</span>`;

    host.querySelectorAll(".don-row").forEach(row=>{
      row.addEventListener("click", (e)=>{
        e.preventDefault(); e.stopPropagation();
        const no = row.getAttribute("data-acc") || "";
        openDonDash({ accountNo: no });
      });
    });
  }

  function renderDonDash(){
    const totalEl = document.getElementById("donTotal");
    const canvas = document.getElementById("donChartMain");

    const { hits, fromY, nowY } = filterDonationsForDash();
    const total = hits.reduce((s,x)=> s + (Number(x.d.amount)||0), 0);
    if (totalEl) totalEl.textContent = `${fmtEUR(total)} ‚Ä¢ ${fromY}‚Äì${nowY}`;

    const items = groupAgg(hits, donState.groupBy);
    drawBarChart(canvas, items);

    renderDonTopTable(hits);

    const filters = document.getElementById("donLabelFilters");
    renderLabelChips(filters, donState.selectedLabelIds, (id)=>{
      if (donState.selectedLabelIds.has(id)) donState.selectedLabelIds.delete(id);
      else donState.selectedLabelIds.add(id);
      renderDonDash();
    });
  }

  function openDonDash({ accountNo = "" } = {}){
    const modal = document.getElementById("donDash");
    if (!modal) return;
    donState.pinnedAccountNo = String(accountNo||"").trim();
    const s = document.getElementById("donSearch");
    if (s) s.value = donState.pinnedAccountNo ? donState.pinnedAccountNo : (donState.search || "");
    if (donState.pinnedAccountNo) donState.search = "";
    modal.classList.add("open");
    renderDonDash();
  }
  function closeDonDash(){
    const modal = document.getElementById("donDash");
    if (!modal) return;
    modal.classList.remove("open");
    donState.pinnedAccountNo = "";
  }

  function openDonAddModal({ accountNo="", companyName="" } = {}){
    const modal = document.getElementById("donAddModal");
    if (!modal) return;
    const no = String(accountNo||"").trim();
    if (no) {
      document.getElementById("donAccNo").value = no;
      document.getElementById("donAccName").value = String(companyName||"").trim();
    }
    const today = new Date().toISOString().slice(0,10);
    document.getElementById("donDate").value = today;
    document.getElementById("donAmount").value = "";
    document.getElementById("donNote").value = "";
    const host = document.getElementById("donAddLabels");
    const selected = new Set();
    const rerender = ()=>{
      renderLabelChips(host, selected, (id)=>{
        if (selected.has(id)) selected.delete(id); else selected.add(id);
        rerender();
      });
    };
    rerender();
    modal._selectedLabelIds = selected;
    modal.classList.add("open");
  }
  function closeDonAddModal(){
    const modal = document.getElementById("donAddModal");
    if (!modal) return;
    modal.classList.remove("open");
  }

  function saveDonationFromModal(){
    const no = String(document.getElementById("donAccNo").value||"").trim();
    if (!no) return alert("Vul accountnr in.");
    const accId = accountIdFromNo(no);
    let acc = accountById(accId);
    if (!acc){
      acc = ensureAccountDefaults({ id: accId, accountNo: no, companyName: String(document.getElementById("donAccName").value||"").trim() });
      accounts.push(acc);
      saveAccounts();
      hydrateAccountDatalist();
    } else {
      const nm = String(document.getElementById("donAccName").value||"").trim();
      if (nm && !acc.companyName) acc.companyName = nm;
      saveAccounts();
    }

    const date = String(document.getElementById("donDate").value||"").trim();
    const amt = Number(document.getElementById("donAmount").value||0) || 0;
    if (!date) return alert("Vul datum in.");
    if (!amt) return alert("Vul bedrag in (‚â† 0).");

    const modal = document.getElementById("donAddModal");
    const selected = modal ? (modal._selectedLabelIds || new Set()) : new Set();
    const labelIds = [...selected];

    const d = ensureDonationDefaults({
      id: crypto.randomUUID(),
      accountId: accId,
      date,
      amount: amt,
      currency: "EUR",
      labelIds,
      note: String(document.getElementById("donNote").value||"").trim()
    });
    donations.push(d);
    saveDonations();

    closeDonAddModal();
    try {
      if (document.getElementById("viewer")?.classList.contains("open")) renderViewer();
    } catch(_e){}
    renderDonDash();
    alert("Donatie opgeslagen.");
  }

  function exportDonationsOnly(){
    const bundle = {
      schema: "dorcas.zakendoen.donations.v1",
      exportedAt: new Date().toISOString(),
      accounts,
      donations,
      labels: labelCatalog
    };
    const blob = new Blob([JSON.stringify(bundle, null, 2)], {type:"application/json"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `dorcas_donaties_${new Date().toISOString().slice(0,10)}.json`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }

  function importDonationsFile(file){
    const reader = new FileReader();
    reader.onload = ()=>{
      try {
        const parsed = JSON.parse(String(reader.result||"null"));
        if (!parsed || typeof parsed !== "object") throw new Error("Onbekend JSON");
        if (parsed.labels) { labelCatalog = normalizeLabelCatalog(parsed.labels); saveLabels(); }
        if (parsed.accounts) {
          const incoming = (Array.isArray(parsed.accounts) ? parsed.accounts : []).map(ensureAccountDefaults);
          accounts = mergeById(accounts, incoming);
          saveAccounts();
        }
        if (parsed.donations) {
          const incoming = (Array.isArray(parsed.donations) ? parsed.donations : []).map(ensureDonationDefaults);
          donations = mergeDonations(donations, incoming);
          saveDonations();
        }
        hydrateAccountDatalist();
        renderDonDash();
        alert("Import klaar (donaties).");
      } catch(e) {
        alert("Import mislukt: " + e.message);
      }
    };
    reader.readAsText(file);
  }
  function save() {
    // keep org tags synced
    prospects.forEach(syncOrgTags);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
    render();
  }
  function ensureProspectDefaults(p){
    p.orgIds = Array.isArray(p.orgIds) ? p.orgIds : [];
    p.company = (p.company && typeof p.company === "object") ? p.company : { name:"", logoUrl:"", website:"" };
    p.company.name = p.company.name || "";
    p.company.logoUrl = p.company.logoUrl || "";
    p.company.website = p.company.website || (p.contact?.website || "");
    p.projects = Array.isArray(p.projects) ? p.projects : [];
    p.projects = p.projects.map(x => ({
      name: x?.name || "",
      theme: x?.theme || "",
      countries: x?.countries || "",
      region: x?.region || "",
      scope: x?.scope || "algemeen",
      notes: x?.notes || ""
    }));
    return p;
  }

  
  function dedupeHighConfidence(list){
    const normUrl = (u="") => {
      u = String(u||"").trim();
      if (!u) return "";
      u = u.replace("http://","https://");
      u = u.replace(/\?.*$/,"");
      u = u.replace(/\/+$/,"");
      return u.toLowerCase();
    };
    const normEmail = (e="") => String(e||"").trim().toLowerCase();

    const groups = new Map(); // key -> array
    for (const p of (Array.isArray(list) ? list : [])) {
      const li = normUrl(p?.contact?.linkedinUrl || "");
      const em = normEmail(p?.contact?.email || "");
      const key = li ? ("LI:"+li) : (em ? ("EM:"+em) : "");
      if (!key) continue;
      if (!groups.has(key)) groups.set(key, []);
      groups.get(key).push(p);
    }

    const dropIds = new Set();
    for (const [key, arr] of groups.entries()){
      if (!arr || arr.length < 2) continue;

      // keep the one with most information filled
      const score = (p)=>{
        let s = 0;
        const c = p?.contact || {};
        const co = p?.company || {};
        if ((p?.name||"").trim()) s++;
        if ((p?.headline||"").trim()) s++;
        if ((c.linkedinUrl||"").trim()) s += 2;
        if ((c.email||"").trim()) s += 2;
        if ((c.phone||"").trim()) s++;
        if ((c.website||"").trim()) s++;
        if ((co.name||"").trim()) s++;
        if ((p?.notes||"").trim()) s++;
        s += Math.min(3, Array.isArray(p?.tags)?p.tags.length:0);
        s += Math.min(3, Array.isArray(p?.activity)?p.activity.length:0);
        s += Math.min(2, Array.isArray(p?.orgIds)?p.orgIds.length:0);
        s += Math.min(2, Array.isArray(p?.projects)?p.projects.length:0);
        return s;
      };

      const sorted = arr.slice().sort((a,b)=> score(b) - score(a));
      const keep = sorted[0];

      const mergeInto = (base, other)=>{
        const fill = (k)=>{
          const bv = (base && base[k] != null) ? String(base[k]) : "";
          const ov = (other && other[k] != null) ? String(other[k]) : "";
          if (!bv.trim() && ov.trim()) base[k] = other[k];
        };
        ["name","headline","connection","photoUrl","stage","interaction","notes","lastTouchAt","nextActionAt"].forEach(fill);

        // contact
        base.contact = (base.contact && typeof base.contact === "object") ? base.contact : {};
        const oc = (other.contact && typeof other.contact === "object") ? other.contact : {};
        ["linkedinUrl","email","phone","website"].forEach(k=>{
          if (!String(base.contact[k]||"").trim() && String(oc[k]||"").trim()) base.contact[k] = oc[k];
        });

        // company
        base.company = (base.company && typeof base.company === "object") ? base.company : {};
        const oco = (other.company && typeof other.company === "object") ? other.company : {};
        ["name","logoUrl","website"].forEach(k=>{
          if (!String(base.company[k]||"").trim() && String(oco[k]||"").trim()) base.company[k] = oco[k];
        });

        // arrays
        const uniq = (arr)=>{
          const out=[]; const seen=new Set();
          for (const x of (Array.isArray(arr)?arr:[])){
            const key = (typeof x === "object") ? JSON.stringify(x) : String(x);
            if (seen.has(key)) continue;
            seen.add(key); out.push(x);
          }
          return out;
        };
        base.tags = uniq([...(base.tags||[]), ...(other.tags||[])]);
        base.orgIds = uniq([...(base.orgIds||[]), ...(other.orgIds||[])]);
        base.activity = uniq([...(base.activity||[]), ...(other.activity||[])]);
        base.projects = uniq([...(base.projects||[]), ...(other.projects||[])]);
      };

      for (const other of sorted.slice(1)){
        if (other && other.id) dropIds.add(other.id);
        mergeInto(keep, other || {});
      }
    }

    return (Array.isArray(list)?list:[]).filter(p => !dropIds.has(p?.id));
  }
function load() {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (raw) {
      try { prospects = (JSON.parse(raw) || []).map(ensureProspectDefaults); }
      catch { prospects = []; }
    } else {
      prospects = structuredClone(SEED_PROSPECTS).map(ensureProspectDefaults);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
    }
  }
  function resetToSeed() {
    prospects = structuredClone(SEED_PROSPECTS).map(ensureProspectDefaults);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
    render();
  }
  function byId(id) {
    return prospects.find(p => p.id === id);
  }
  function initials(name="") {
    const parts = name.trim().split(/\s+/).filter(Boolean);
    const a = parts[0]?.[0] || "?";
    const b = parts.length > 1 ? parts[parts.length-1][0] : "";
    return (a + b).toUpperCase();
  }
  function badgeClassForInteraction(v="") {
    if (v === "Donatie" || v === "Voorstel") return "good";
    if (v === "DM gestuurd" || v === "Gereageerd" || v === "Call gedaan" || v === "Meeting") return "warn";
    if (v === "Afgewezen") return "bad";
    return "";
  }
  function normalizeUrl(u="") {
    u = (u||"").trim();
    if (!u) return "";
    if (u.startsWith("http://") || u.startsWith("https://")) return u;
    return "https://" + u;
  }
  function todayISO() {
    const d = new Date();
    const pad = (n)=>String(n).padStart(2,"0");
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
  }

// ===== Avatar resolving (photoUrl -> avatarUrl -> local assets fallback) =====
const AVATAR_BASE = "assets/avatars/zakendoen/";

function pickAvatarUrl(p){
  const main = String(p?.photoUrl || "").trim();
  if (main) return main;

  const av = String(p?.avatarUrl || "").trim();
  if (av) return av;

  const id = String(p?.id || "").trim();
  if (id) return `${AVATAR_BASE}${id}.jpg`;

  return "";
}

  // ========= Render =========
  function render() {
    const q = ($("#q").value || "").trim().toLowerCase();
    const fi = $("#filterInteraction").value;
    const fc = $("#filterConnection").value;

    const filtered = prospects.filter(p => {
      if (fi && p.interaction !== fi) return false;
      if (fc && (p.connection || "") !== fc) return false;

      if (!q) return true;
      const hay = [
        p.name, p.headline,
        p.contact?.email, p.contact?.phone, p.contact?.website,
        p.contact?.linkedinUrl,
        (p.tags||[]).join(", "),
        p.notes
      ].join(" ").toLowerCase();
      return hay.includes(q);
    });

    $("#subCounts").textContent = `${filtered.length} zichtbaar ‚Ä¢ ${prospects.length} totaal`;

    const board = $("#board");
    board.innerHTML = "";

    for (const stage of STAGES) {
      const col = document.createElement("div");
      col.className = "col";
      col.dataset.stage = stage;

      const list = filtered.filter(p => (p.stage || "Nieuw") === stage);
      const head = document.createElement("div");
      head.className = "col-head";
      head.innerHTML = `
        <div class="col-title">üìå ${esc(stage)}</div>
        <div class="count">${list.length}</div>
      `;
      col.appendChild(head);

      const body = document.createElement("div");
      body.className = "col-body";
      body.addEventListener("dragover", (e)=>{ e.preventDefault(); });
      body.addEventListener("drop", (e)=>{
        e.preventDefault();
        const id = e.dataTransfer.getData("text/plain");
        if (id) moveToStage(id, stage);
      });

      for (const p of list) {
        body.appendChild(renderCard(p));
      }

      col.appendChild(body);
      board.appendChild(col);
    }
  }

  function renderCard(p) {
    const card = document.createElement("div");
    card.className = "card";
    const isRelatie = (p.stage === "Relatie/Partner") || (Array.isArray(p.tags) && p.tags.includes("RELATIE"));
    if (isRelatie) card.classList.add("relatie");
    card.setAttribute("data-id", p.id);
    card.draggable = true;
    card.dataset.id = p.id;

    card.addEventListener("dragstart", (e)=>{
      card.classList.add("dragging");
      e.dataTransfer.setData("text/plain", p.id);
    });
    card.addEventListener("dragend", ()=> card.classList.remove("dragging"));
const photo = pickAvatarUrl(p);
const init = esc(initials(p.name));

const avatarHtml = photo
  ? `<div class="avatar">
       <img loading="lazy" decoding="async"
            alt="${esc(p.name)}"
            src="${esc(photo)}"
            onerror="this.onerror=null; this.style.display='none'; this.parentElement.innerHTML='<div class=&quot;initials&quot;>${init}</div>'">
     </div>`
  : `<div class="avatar"><div class="initials">${init}</div></div>`;

    const interaction = p.interaction || "Niet benaderd";
    const bc = badgeClassForInteraction(interaction);
    const companyFromObj = (p.company && p.company.name) ? String(p.company.name).trim() : "";
    const companyFromHeadline = (() => {
      const h = String(p.headline||"");
      // common LinkedIn pattern: "Role ‚Äì Company" or "Role - Company"
      const parts = h.includes(" ‚Äì ") ? h.split(" ‚Äì ") : (h.includes(" - ") ? h.split(" - ") : []);
      if (!parts || parts.length < 2) return "";
      const last = String(parts[parts.length-1] || "").trim();
      if (last.length < 2 || last.length > 60) return "";
      return last;
    })();
    const companyLabel = companyFromObj || companyFromHeadline;
    const companyHtml = companyLabel ? `<p class="company" title="${esc(companyLabel)}">${esc(companyLabel)}</p>` : "";

    // mini logo labels on dashboard card (ratio 2:3 => 3:2)
    const cardLogoItems = [];
    const cardAccountNo = p?.accountNo || p?.relatie?.accountNo || p?.company?.accountNo || "";
    const cUrl2 = (p.company?.logoUrl || "").trim();
    const cName2 = companyLabel || companyFromObj || "";
    const cImg2 = logoImgTag({ accountNo: cardAccountNo, name: cName2, url: cUrl2, alt: cName2 || "Bedrijf", fallbackText: orgInitials(cName2 || "B") });
    if (cImg2 && (cName2 || cUrl2 || digitsOnly(cardAccountNo))){
      cardLogoItems.push(`<div class="logo mini" data-company="1" title="${esc(cName2 || "Bedrijf")}">${cImg2}</div>`);
    }
    const orgIds2 = Array.isArray(p.orgIds) ? p.orgIds : [];
    const maxOrgs = 3;
    let added = 0;
    for (const id of orgIds2){
      const o = orgById(id);
      if (!o) continue;
      cardLogoItems.push(renderLogo(o, true));
      added++;
      if (added >= maxOrgs) break;
    }
    const extra = orgIds2.length - added;
    if (extra > 0){
      cardLogoItems.push(`<div class="logo mini fallback" title="Nog ${extra} organisaties">+${extra}</div>`);
    }
    const cardLogosHtml = cardLogoItems.length ? `<div class="logo-strip mini">${cardLogoItems.join("")}</div>` : "";


    const ln = (p.contact?.linkedinUrl || "").trim();
    const em = (p.contact?.email || "").trim();
    const ph = (p.contact?.phone || "").trim();
    const ws = (p.contact?.website || "").trim();

    const linkedInLink = ln ? normalizeUrl(ln) : `https://www.linkedin.com/search/results/all/?keywords=${encodeURIComponent(p.name)}`;
    const mailLink = em ? `mailto:${em}` : "";
    const telLink = ph ? `tel:${ph.replace(/\s+/g,"")}` : "";
    const webLink = ws ? normalizeUrl(ws) : "";

    const notePreview = (p.notes || "").trim()
      ? `<div class="note-preview">${esc(p.notes.trim()).slice(0,240)}${(p.notes.trim().length>240)?"‚Ä¶":""}</div>`
      : "";

    card.innerHTML = `
      <div class="row">
        ${avatarHtml}
        <div class="main">
          <p class="name" title="${esc(p.name)}">${esc(p.name)}</p>
          <p class="headline" title="${esc(p.headline||"")}">${esc(p.headline||"")}</p>
          ${companyHtml}
          ${cardLogosHtml}
        </div>
      </div>

      <div class="meta">
        <span class="badge">${esc(p.connection || "‚Äî")}</span>
        <span class="badge ${bc}">${esc(interaction)}</span>
      </div>

      <details class="org-dd" data-orgdd="1">
        <summary><span data-orgddsummary="1">üè∑ Organisaties (0)</span> <span class="caret">‚ñæ</span></summary>
        <div class="org-dd-inner">
          <input class="org-dd-search" type="text" data-orgddsearch="1" placeholder="Typ om te zoeken en vink aan‚Ä¶"/>
          <div class="org-dd-list" data-orgddlist="1"></div>
        </div>
      </details>

      <div class="actions">
        <div class="left-actions">
          <button class="btn small" title="Vorige kolom" data-act="prev">‚óÄ</button>
          <button class="btn small" title="Volgende kolom" data-act="next">‚ñ∂</button>
          <button class="btn small" title="Details bewerken" data-act="open">‚úé</button>
        </div>

        <div class="right-actions">
          <a class="tiny-link" href="${esc(linkedInLink)}" target="_blank" rel="noopener">in</a>
          ${mailLink ? `<a class="tiny-link" href="${esc(mailLink)}">‚úâ</a>` : ``}
          ${telLink ? `<a class="tiny-link" href="${esc(telLink)}">‚òé</a>` : ``}
          ${webLink ? `<a class="tiny-link" href="${esc(webLink)}" target="_blank" rel="noopener">üåê</a>` : ``}
        </div>
      </div>

      ${notePreview}
    `;

    card.querySelector('[data-act="prev"]').addEventListener("click", ()=> moveRelative(p.id, -1));
    card.querySelector('[data-act="next"]').addEventListener("click", ()=> moveRelative(p.id, +1));
    card.querySelector('[data-act="open"]').addEventListener("click", ()=> openModal(p.id));
    card.addEventListener("dblclick", ()=> openModal(p.id));

    // org dropdown (multi) ‚Äì updates prospect immediately
    const dd = card.querySelector('[data-orgdd="1"]');
    const list = card.querySelector('[data-orgddlist="1"]');
    const sum = card.querySelector('[data-orgddsummary="1"]');
    const search = card.querySelector('[data-orgddsearch="1"]');
    if (dd && list && sum){
      renderOrgDropdownForProspect(p, list, sum, search?.value || "");
      // keep dropdown from triggering drag/open
      dd.addEventListener("click", (e)=> e.stopPropagation());
      dd.addEventListener("keydown", (e)=> e.stopPropagation());
      if (search){
        search.addEventListener("click", (e)=> e.stopPropagation());
        search.addEventListener("keydown", (e)=> e.stopPropagation());
        search.addEventListener("input", ()=> renderOrgDropdownForProspect(p, list, sum, search.value));
      }
    }

    // click avatar -> open viewer carousel
    const av = card.querySelector(".avatar");
    if (av) {
      av.style.cursor = "pointer";
      av.title = "Open foto / herkenning";
      av.addEventListener("click", (e)=>{ e.stopPropagation(); openViewer(p.id); });
    }

    return card;
  }

  function moveRelative(id, delta) {
    const p = byId(id);
    if (!p) {
      const ctr = $("#viewerCounter");
      if (ctr) ctr.textContent = `‚Äî / ${viewerIds.length}`;
      const hint = $("#viewerStageHint");
      if (hint) hint.textContent = "Geen item in selectie.";
      const img = $("#viewerImg");
      if (img) img.removeAttribute("src");
      const init = $("#viewerInitials");
      if (init) init.textContent = "?";
      return;
    }
    const i = STAGES.indexOf(p.stage || "Nieuw");
    const ni = Math.max(0, Math.min(STAGES.length-1, i + delta));
    p.stage = STAGES[ni];
    save();
  }

  function moveToStage(id, stage) {
    const p = byId(id);
    if (!p) {
      const ctr = $("#viewerCounter");
      if (ctr) ctr.textContent = `‚Äî / ${viewerIds.length}`;
      const hint = $("#viewerStageHint");
      if (hint) hint.textContent = "Geen item in selectie.";
      const img = $("#viewerImg");
      if (img) img.removeAttribute("src");
      const init = $("#viewerInitials");
      if (init) init.textContent = "?";
      return;
    }
    p.stage = stage;
    save();
  }

  // ========= Modal =========
  
  // ========= Prospect: Organizations & Projects =========
  function renderOrgPick(p){
    const host = $("#orgPickList");
    if (!host) return;
    host.innerHTML = "";
    const current = new Set(Array.isArray(p.orgIds) ? p.orgIds : []);
    for (const o of orgs){
      const checked = current.has(o.id);
      const lbl = document.createElement("label");
      lbl.className = "org-dd-item";
      lbl.innerHTML = `<input type="checkbox" data-orgpick="${esc(o.id)}" ${checked ? "checked": ""}/> <span>${esc(o.name)}</span>`;
      lbl.addEventListener("click", (e)=> e.stopPropagation());
      host.appendChild(lbl);
    }
    updateOrgPickSummary(p);
  }

  function updateOrgPickSummary(p){
    const el = $("#orgPickSummary");
    if (!el) return;
    const ids = readOrgPick(); // live UI selection
    const names = ids.map(id=>orgById(id)?.name).filter(Boolean);
    el.textContent = names.length ? `üè∑ ${names.join(" ‚Ä¢ ")}` : "üè∑ Selecteer organisaties‚Ä¶";
  }

  function readOrgPick(){
    const host = $("#orgPickList");
    if (!host) return [];
    const boxes = host.querySelectorAll('input[type="checkbox"][data-orgpick]');
    const sel = [];
    boxes.forEach(b=>{ if (b.checked) sel.push(b.getAttribute("data-orgpick")); });
    return sel;
  }

  function renderProjectsEditor(p){
    const host = $("#projList");
    if (!host) return;
    host.innerHTML = "";
    const arr = Array.isArray(p.projects) ? p.projects : [];
    arr.forEach((proj, idx)=>{
      const row = document.createElement("div");
      row.className = "proj-row";
      row.dataset.idx = String(idx);
      row.innerHTML = `
        <div class="proj-grid">
          <div>
            <label class="muted" style="font-size:12px;">Project / relatie</label>
            <input data-pf="name" value="${esc(proj.name||"")}" placeholder="bv. Clean Cooking Tanzania"/>
          </div>
          <div>
            <label class="muted" style="font-size:12px;">Thema</label>
            <input data-pf="theme" value="${esc(proj.theme||"")}" placeholder="bv. water, voedsel, ondernemerschap"/>
          </div>
          <div>
            <label class="muted" style="font-size:12px;">Scope</label>
            <select data-pf="scope">
              <option value="algemeen">algemeen</option>
              <option value="land">land</option>
              <option value="regio">regio</option>
              <option value="thema">thema</option>
            </select>
          </div>
        </div>

        <div class="proj-grid2">
          <div>
            <label class="muted" style="font-size:12px;">Landen (komma)</label>
            <input data-pf="countries" value="${esc(proj.countries||"")}" placeholder="bv. Tanzania, Kenya"/>
          </div>
          <div>
            <label class="muted" style="font-size:12px;">Regio</label>
            <input data-pf="region" value="${esc(proj.region||"")}" placeholder="bv. Kitui / Siaya"/>
          </div>
        </div>

        <div style="margin-top:10px;">
          <label class="muted" style="font-size:12px;">Notitie</label>
          <textarea data-pf="notes" placeholder="context / afspraken / volgende stap...">${esc(proj.notes||"")}</textarea>
        </div>

        <div class="proj-actions">
          <span class="muted">#${idx+1}</span>
          <button class="btn small danger" data-projdel="1">Verwijder</button>
        </div>
      `;
      row.querySelector('select[data-pf="scope"]').value = (proj.scope || "algemeen");
      row.querySelector('[data-projdel="1"]').addEventListener("click", (e)=>{
        e.preventDefault();
        const p0 = byId(activeId);
        if (!p0) return;
        p0.projects = Array.isArray(p0.projects) ? p0.projects : [];
        p0.projects.splice(idx, 1);
        renderProjectsEditor(p0);
      });
      host.appendChild(row);
    });
  }

  function readProjectsEditor(){
    const host = $("#projList");
    if (!host) return [];
    const rows = host.querySelectorAll(".proj-row");
    const out = [];
    rows.forEach(r=>{
      const get = (k)=> (r.querySelector(`[data-pf="${k}"]`)?.value || "").trim();
      out.push({
        name: get("name"),
        theme: get("theme"),
        scope: get("scope") || "algemeen",
        countries: get("countries"),
        region: get("region"),
        notes: (r.querySelector('[data-pf="notes"]')?.value || "")
      });
    });
    return out.filter(x => Object.values(x).join("").trim().length > 0);
  }

function openModal(id) {
    activeId = id;
    const p = byId(id);
    if (!p) {
      const ctr = $("#viewerCounter");
      if (ctr) ctr.textContent = `‚Äî / ${viewerIds.length}`;
      const hint = $("#viewerStageHint");
      if (hint) hint.textContent = "Geen item in selectie.";
      const img = $("#viewerImg");
      if (img) img.removeAttribute("src");
      const init = $("#viewerInitials");
      if (init) init.textContent = "?";
      return;
    }

    $("#modalTitle").textContent = p.name || "Prospect";
    $("#fName").value = p.name || "";
    $("#fHeadline").value = p.headline || "";
    $("#fStage").value = p.stage || "Nieuw";
    $("#fInteraction").value = p.interaction || "Niet benaderd";
    $("#fConnection").value = p.connection || "";
    // account / relatie koppeling (donaties)
    $("#fAccountNo").value = p.accountNo || p.accountNumber || "";
    $("#fAccountCompany").value = p.accountCompany || (p.company?.name || "");
    hydrateAccountDatalist();
    $("#fPhotoUrl").value = p.photoUrl || "";
    $("#fLinkedin").value = p.contact?.linkedinUrl || "";
    $("#fEmail").value = p.contact?.email || "";
    $("#fPhone").value = p.contact?.phone || "";
    $("#fWebsite").value = p.contact?.website || "";

    $("#fCompanyName").value = p.company?.name || "";
    $("#fCompanyLogoUrl").value = p.company?.logoUrl || "";

    $("#fTags").value = (Array.isArray(p.tags)?p.tags:[]).filter(t=>!String(t||"").startsWith("ORG:")).join(", ");

    renderOrgPick(p);
    renderProjectsEditor(p);

    $("#fNotes").value = p.notes || "";
    $("#fLastTouchAt").value = p.lastTouchAt || "";
    $("#fNextActionAt").value = p.nextActionAt || "";

    renderLog(p);
    $("#modal").classList.add("open");
  }

  function closeModal() {
    $("#modal").classList.remove("open");
    activeId = null;
  }

  function renderLog(p) {
    const log = p.activity || [];
    if (!log.length) {
      $("#logList").innerHTML = `<div class="muted">Nog geen interacties gelogd.</div>`;
      return;
    }
    $("#logList").innerHTML = log
      .slice()
      .reverse()
      .map(item => `
        <div class="log-item">
          <div class="when">${esc(item.when)} ‚Ä¢ <b>${esc(item.type)}</b></div>
          <div>${esc(item.note || "")}</div>
        </div>
      `).join("");
  }

  function saveModal() {
    const p = byId(activeId);
    if (!p) return;

    p.name = $("#fName").value.trim();
    p.headline = $("#fHeadline").value.trim();
    p.stage = $("#fStage").value;
    p.interaction = $("#fInteraction").value;
    p.connection = $("#fConnection").value;
    p.photoUrl = $("#fPhotoUrl").value.trim();
    // account koppeling
    p.accountNo = ($("#fAccountNo").value || "").trim();
    p.accountCompany = ($("#fAccountCompany").value || "").trim();
    p.accountId = p.accountNo ? accountIdFromNo(p.accountNo) : (p.accountId || "");
    if (p.accountNo) upsertAccountFromProspect(p);
    p.contact = p.contact || {};
    p.contact.linkedinUrl = $("#fLinkedin").value.trim();
    p.contact.email = $("#fEmail").value.trim();
    p.contact.phone = $("#fPhone").value.trim();
    p.contact.website = $("#fWebsite").value.trim();

    p.company = p.company || { name:"", logoUrl:"", website:"" };
    p.company.name = $("#fCompanyName").value.trim();
    p.company.logoUrl = $("#fCompanyLogoUrl").value.trim();
    p.company.website = $("#fWebsite").value.trim();

    p.orgIds = readOrgPick();
    p.projects = readProjectsEditor();

    const tagsRaw = $("#fTags").value.split(",").map(s=>s.trim()).filter(Boolean);
    // user tags only; org tags come from org selection
    p.tags = Array.from(new Set(tagsRaw.filter(t=>!String(t||"").startsWith("ORG:"))));
    syncOrgTags(p);

    p.notes = $("#fNotes").value;
    p.lastTouchAt = $("#fLastTouchAt").value;
    p.nextActionAt = $("#fNextActionAt").value;

    save();
    $("#modalTitle").textContent = p.name || "Prospect";
  }

  function addQuickLog() {
    const p = byId(activeId);
    if (!p) return;
    const type = $("#quickLogType").value;
    const note = $("#quickLogNote").value.trim();
    const when = new Date().toISOString().replace("T"," ").slice(0,16);

    p.activity = Array.isArray(p.activity) ? p.activity : [];
    p.activity.push({ when, type, note });

    // update interaction + last touch
    if (type === "DM") p.interaction = "DM gestuurd";
    if (type === "Reactie") p.interaction = "Gereageerd";
    if (type === "Call") p.interaction = "Call gedaan";
    if (type === "Meeting") p.interaction = "Meeting";
    if (type === "Voorstel") p.interaction = "Voorstel";
    if (type === "Donatie") p.interaction = "Donatie";

    p.lastTouchAt = todayISO();
    $("#fInteraction").value = p.interaction;
    $("#fLastTouchAt").value = p.lastTouchAt;

    $("#quickLogNote").value = "";
    renderLog(p);
    save();
  }

  function deleteActive() {
    if (!activeId) return;
    const p = byId(activeId);
    if (!p) return;
    const ok = confirm(`Verwijderen: "${p.name}"?`);
    if (!ok) return;
    prospects = prospects.filter(x => x.id !== activeId);
    closeModal();
    save();
  }

  function modalMove(delta) {
    const p = byId(activeId);
    if (!p) return;
    const i = STAGES.indexOf(p.stage || "Nieuw");
    const ni = Math.max(0, Math.min(STAGES.length-1, i + delta));
    p.stage = STAGES[ni];
    $("#fStage").value = p.stage;
    save();
  }

  
  // ========= Viewer (photo carousel) =========
  let viewerIds = [];
  let viewerIndex = 0;
  // VIEWER_FILTER
  const VF_STAGE_KEY = "dorcas_viewer_stage_filter_v2";
  const VF_ORG_KEY = "dorcas_viewer_org_filter_v2";
  const VF_SORT_KEY = "dorcas_viewer_sort_v2";
  let vfStagesSelected = new Set(); // empty => ALL
  let vfOrgsSelected = new Set();   // empty => ALL
  let vfSortMode = "name";

  function loadViewerPrefs(){
    try{
      const a = JSON.parse(localStorage.getItem(VF_STAGE_KEY) || "[]");
      vfStagesSelected = Array.isArray(a) && a.length ? new Set(a) : new Set();
    }catch{ vfStagesSelected = new Set(); }
    try{
      const b = JSON.parse(localStorage.getItem(VF_ORG_KEY) || "[]");
      vfOrgsSelected = Array.isArray(b) && b.length ? new Set(b) : new Set();
    }catch{ vfOrgsSelected = new Set(); }
    vfSortMode = localStorage.getItem(VF_SORT_KEY) || "name";
  }

  function saveViewerPrefs(){
    localStorage.setItem(VF_STAGE_KEY, JSON.stringify(Array.from(vfStagesSelected)));
    localStorage.setItem(VF_ORG_KEY, JSON.stringify(Array.from(vfOrgsSelected)));
    localStorage.setItem(VF_SORT_KEY, String(vfSortMode || "name"));
  }

  function updateVFSummary(){
    const sum = $("#vfSummary");
    if (!sum) return;

    const a = (vfStagesSelected.size === 0) ? "alle stages" : `${vfStagesSelected.size} stages`;
    const b = (vfOrgsSelected.size === 0) ? "alle orgs" : `${vfOrgsSelected.size} orgs`;
    sum.textContent = `${a} ‚Ä¢ ${b}`;

    const hint = $("#vfCountHint");
    if (hint) hint.textContent = `${buildViewerList().length} prospects in selectie`;
  }

  function buildViewerList(){
    let list = getFilteredProspects(); // respects header filters + global org filter + search

    if (vfStagesSelected.size > 0){
      list = list.filter(p => vfStagesSelected.has(p.stage || "Nieuw"));
    }
    if (vfOrgsSelected.size > 0){
      list = list.filter(p => (Array.isArray(p.orgIds)?p.orgIds:[]).some(id => vfOrgsSelected.has(id)));
    }

    const safeDate = (iso)=> {
      if (!iso) return 0;
      const t = Date.parse(iso);
      return isNaN(t) ? 0 : t;
    };
    const stageIndex = (st)=> {
      const i = STAGES.indexOf(st || "Nieuw");
      return i === -1 ? 999 : i;
    };

    if (vfSortMode === "name"){
      list.sort((a,b)=> (a.name||"").localeCompare(b.name||"", "nl", {sensitivity:"base"}));
    } else if (vfSortMode === "lastTouchDesc"){
      list.sort((a,b)=> safeDate(b.lastTouchAt) - safeDate(a.lastTouchAt));
    } else if (vfSortMode === "stageThenName"){
      list.sort((a,b)=> stageIndex(a.stage) - stageIndex(b.stage) || (a.name||"").localeCompare(b.name||"", "nl", {sensitivity:"base"}));
    }
    return list;
  }

  function renderVFLists(){
    const hostS = $("#vfStages");
    if (hostS){
      hostS.innerHTML = "";
      const isAll = (vfStagesSelected.size === 0);
      for (const st of STAGES){
        const checked = isAll ? true : vfStagesSelected.has(st);
        const row = document.createElement("label");
        row.className = "vf-item";
        row.innerHTML = `<input type="checkbox" data-vfstage="${esc(st)}" ${checked ? "checked": ""}/> <span>${esc(st)}</span>`;
        hostS.appendChild(row);
      }

  // Backward-compat alias (older versions called this)
  function renderVFStageList(){
    return renderVFLists();
  }

    }

    const hostO = $("#vfOrgs");
    if (hostO){
      hostO.innerHTML = "";
      const isAllO = (vfOrgsSelected.size === 0);
      for (const o of orgs){
        const checked = isAllO ? true : vfOrgsSelected.has(o.id);
        const row = document.createElement("label");
        row.className = "vf-item";
        row.innerHTML = `<input type="checkbox" data-vforg="${esc(o.id)}" ${checked ? "checked": ""}/> ${renderOrgMini(o)} <span>${esc(o.name)}</span>`;
        hostO.appendChild(row);
      }
    }

    const sort = $("#vfSort");
    if (sort) sort.value = vfSortMode || "name";
    updateVFSummary();
  }

  function setVFAll(){
    vfStagesSelected = new Set(); // ALL
    vfOrgsSelected = new Set(); // ALL
    const sel = $("#vfSort");
    if (sel) { vfSortMode = sel.value || vfSortMode; }
    saveViewerPrefs();
    updateVFSummary();
    renderVFLists();
  }

  function applyVF(){
    const hostS = $("#vfStages");
    if (hostS){
      const boxes = hostS.querySelectorAll('input[type=checkbox][data-vfstage]');
      const sel = [];
      boxes.forEach(b=>{ if (b.checked) sel.push(b.getAttribute("data-vfstage")); });
      vfStagesSelected = (sel.length === 0 || sel.length === STAGES.length) ? new Set() : new Set(sel);
    }

    const hostO = $("#vfOrgs");
    if (hostO){
      const boxes = hostO.querySelectorAll('input[type=checkbox][data-vforg]');
      const sel = [];
      boxes.forEach(b=>{ if (b.checked) sel.push(b.getAttribute("data-vforg")); });
      vfOrgsSelected = (sel.length === 0 || sel.length === orgs.length) ? new Set() : new Set(sel);
    }

    const sortEl = $("#vfSort");
    if (sortEl) vfSortMode = sortEl.value || "name";

    saveViewerPrefs();
    updateVFSummary();

    const currentId = viewerIds[viewerIndex];
    const list = buildViewerList();
    viewerIds = list.map(p=>p.id);
    viewerIndex = Math.max(0, viewerIds.indexOf(currentId));
    if (viewerIndex < 0) viewerIndex = 0;
    renderViewer();
    renderVFLists();
  }

  function resetVFAll(){
    vfStagesSelected = new Set();
    vfOrgsSelected = new Set();
    vfSortMode = "name";
    saveViewerPrefs();
    renderVFLists();
    applyVF();
  }

function getFilteredProspects() {
    const q = ($("#q").value || "").trim().toLowerCase();
    const fi = $("#filterInteraction").value;
    const fc = $("#filterConnection").value;

    return prospects.filter(p => {
      if (fi && p.interaction !== fi) return false;
      if (fc && (p.connection || "") !== fc) return false;

      // global org filter
      if (globalOrgFilter && globalOrgFilter.size > 0) {
        const ids = Array.isArray(p.orgIds) ? p.orgIds : [];
        const hit = ids.some(id => globalOrgFilter.has(id));
        if (!hit) return false;
      }

      if (!q) return true;
      const orgNames = (Array.isArray(p.orgIds)?p.orgIds:[]).map(id => orgById(id)?.name || "").join(", ");
      const projTxt = (Array.isArray(p.projects)?p.projects:[]).map(x => [x.name,x.theme,x.countries,x.region,x.scope].join(" ")).join(" ");
      const hay = [
        p.name, p.headline,
        p.company?.name, p.company?.website,
        p.contact?.email, p.contact?.phone, p.contact?.website,
        p.contact?.linkedinUrl,
        (p.tags||[]).join(", "),
        orgNames,
        projTxt,
        p.notes
      ].join(" ").toLowerCase();
      return hay.includes(q);
    });
  }

  function openViewer(id) {
    // Build viewer list from current viewer selection.
    // If the clicked prospect isn't in that selection (common when viewer filters persist),
    // fall back to the visible board list, then finally to ALL prospects.
    let list = buildViewerList();
    viewerIds = list.map(p => p.id);

    let idx = viewerIds.indexOf(id);
    if (idx < 0) {
      list = getFilteredProspects(); // board-visible set (search + header filters + global org filter)
      viewerIds = list.map(p => p.id);
      idx = viewerIds.indexOf(id);
    }
    if (idx < 0) {
      viewerIds = prospects.map(p => p.id);
      idx = viewerIds.indexOf(id);
    }
    if (!viewerIds.length && id) {
      viewerIds = [id];
      idx = 0;
    }

    viewerIndex = Math.max(0, idx);

    updateVFSummary();
    const vfSort = $("#vfSort");
    if (vfSort) vfSort.value = vfSortMode || "name";

    renderVFLists();
    renderViewer();
    $("#viewer").classList.add("open");
  }

  function closeViewer() {
    $("#viewer").classList.remove("open");
    const p = $("#vfPanel");
    if (p) p.classList.remove("open");
  }

  function bindViewerEvents() {
    const viewer = $("#viewer");
    if (!viewer) return;

    // close on background click
    viewer.addEventListener("click", (e)=>{ if (e.target && e.target.id === "viewer") closeViewer(); });

    const on = (id, fn) => {
      const el = $("#" + id);
      if (!el) return;
      el.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); fn(e); });
    };

    // nav + edit
    on("viewerClose", ()=> closeViewer());
    on("viewerPrev", ()=> viewerMove(-1));
    on("viewerNext", ()=> viewerMove(1));
    on("viewerEdit", ()=>{ const id = viewerIds[viewerIndex]; closeViewer(); openModal(id); });

    on("viewerOpenDonations", ()=>{
      const p = byId(viewerIds[viewerIndex]);
      const accNo = String(p?.accountNo || p?.accountNumber || "").trim();
      openDonDash({ accountNo: accNo });
    });
    on("viewerAddDonation", ()=>{
      const p = byId(viewerIds[viewerIndex]);
      const accNo = String(p?.accountNo || p?.accountNumber || "").trim();
      const accName = String(p?.company?.name || "").trim();
      openDonAddModal({ accountNo: accNo, companyName: accName });
    });

    // filter panel
    const vfPanel = $("#vfPanel");
    const vfSort = $("#vfSort");
    if (vfSort) vfSort.value = vfSortMode || "name";
    if (vfPanel) vfPanel.addEventListener("click", (e)=> e.stopPropagation());

    on("vfToggle", ()=>{ const p = $("#vfPanel"); if (p) { p.classList.toggle("open"); renderVFLists(); } });
    on("vfClose", ()=>{ const p = $("#vfPanel"); if (p) p.classList.remove("open"); });
    on("vfApply", ()=>{ applyVF(); const p = $("#vfPanel"); if (p) p.classList.remove("open"); });
    on("vfAll", ()=> setVFAll());

    // delegation fallback (extra robust)
    viewer.addEventListener("click", (e)=>{
      const t = e.target;
      if (!t) return;
      const id = t.id;
      if (id === "viewerClose") closeViewer();
      if (id === "viewerPrev") viewerMove(-1);
      if (id === "viewerNext") viewerMove(1);
      if (id === "viewerEdit") { const pid = viewerIds[viewerIndex]; closeViewer(); openModal(pid); }

      if (id === "vfToggle") { const p = $("#vfPanel"); if (p) { p.classList.toggle("open"); renderVFLists(); } }
      if (id === "vfClose") { const p = $("#vfPanel"); if (p) p.classList.remove("open"); }
      if (id === "vfApply") { applyVF(); const p = $("#vfPanel"); if (p) p.classList.remove("open"); }
      if (id === "vfAll") setVFAll();

    // open org modal when clicking logo in viewer
    viewer.addEventListener("click", (e)=>{
      const t = e.target;
      if (!t) return;
      const oid = (t.getAttribute && t.getAttribute("data-org")) || (t.parentElement && t.parentElement.getAttribute && t.parentElement.getAttribute("data-org"));
      if (oid) { e.preventDefault(); e.stopPropagation(); openOrgModal(oid); return; }
      const isCompany = (t.getAttribute && t.getAttribute("data-company")) || (t.parentElement && t.parentElement.getAttribute && t.parentElement.getAttribute("data-company"));
      if (isCompany){
        const id = viewerIds[viewerIndex];
        const p = byId(id);
        const ws = (p?.company?.website || p?.contact?.website || "").trim();
        const url = ws ? normalizeUrl(ws) : "";
        if (url) window.open(url, "_blank", "noopener");
      }
    });

    });
  }

  function viewerMove(delta) {
    if (!viewerIds.length) return;
    viewerIndex = (viewerIndex + delta + viewerIds.length) % viewerIds.length;
    renderViewer();
  }

  function stageBadgeClass(stage="") {
    if (stage === "Donor/Partner") return "good";
    if (stage === "Afgewezen") return "bad";
    if (stage === "Voorstel gedaan" || stage === "Afspraak gepland" || stage === "Connected") return "warn";
    return "";
  }

  
  function renderViewerLogos(p){
    const host = $("#viewerLogos");
    if (!host) return;

    const items = [];

    // company logo (prefer local assets/logos/*.png, fallback to stored url)
    const accountNo = p?.accountNo || p?.relatie?.accountNo || p?.company?.accountNo || "";
    const companyFromObj = (p.company && p.company.name) ? String(p.company.name).trim() : "";
    const companyFromHeadline = (() => {
      const h = String(p.headline||"");
      // common LinkedIn pattern: "Role ‚Äì Company" or "Role - Company"
      const parts = h.includes(" ‚Äì ") ? h.split(" ‚Äì ") : (h.includes(" - ") ? h.split(" - ") : []);
      if (!parts || parts.length < 2) return "";
      const last = String(parts[parts.length-1] || "").trim();
      if (last.length < 2 || last.length > 60) return "";
      return last;
    })();
    const companyName = companyFromObj || companyFromHeadline || "";
    const cUrl = (p.company?.logoUrl || "").trim();
    const cImg = logoImgTag({ accountNo, name: companyName, url: cUrl, alt: companyName || "Bedrijf", fallbackText: orgInitials(companyName || "B") });
    if (cImg && (companyName || cUrl || digitsOnly(accountNo))){
      items.push(`<div class="logo" data-company="1" title="${esc(companyName || "Bedrijf")}">${cImg}</div>`);
    }

    // org logos
    const ids = Array.isArray(p.orgIds) ? p.orgIds : [];
    for (const id of ids){
      const o = orgById(id);
      if (!o) continue;
      items.push(renderLogo(o, false));
    }

    host.innerHTML = items.length ? items.join("") : `<span class="muted">Geen logo‚Äôs gekoppeld.</span>`;
  }

  function renderViewerProjects(p){
    const host = $("#viewerProjects");
    if (!host) return;
    const arr = Array.isArray(p.projects) ? p.projects : [];
    if (!arr.length){ host.textContent = "‚Äî"; return; }
    host.textContent = arr.map(x=>{
      const bits = [
        x.name ? x.name : "(zonder naam)",
        x.theme ? `thema: ${x.theme}` : "",
        x.countries ? `landen: ${x.countries}` : "",
        x.region ? `regio: ${x.region}` : "",
        x.scope ? `scope: ${x.scope}` : "",
      ].filter(Boolean).join(" ‚Ä¢ ");
      return "‚Ä¢ " + bits;
    }).join("\n");
  }

function renderViewer() {
    const id = viewerIds[viewerIndex];
    const p = byId(id);
    if (!p) {
      const ctr = $("#viewerCounter");
      if (ctr) ctr.textContent = `‚Äî / ${viewerIds.length}`;
      const hint = $("#viewerStageHint");
      if (hint) hint.textContent = "Geen item in selectie.";
      const img = $("#viewerImg");
      if (img) img.removeAttribute("src");
      const init = $("#viewerInitials");
      if (init) init.textContent = "?";
      return;
    }

    $("#viewerCounter").textContent = `${viewerIndex + 1} / ${viewerIds.length}`;
    const hint = $("#vfCountHint");
    if (hint) hint.textContent = `${viewerIds.length} prospects in deze selectie`;
    $("#viewerStageHint").textContent = `Funnel: ${p.stage || "Nieuw"} ‚Ä¢ Status: ${p.interaction || "Niet benaderd"}`;

    const img = $("#viewerImg");
    const init = $("#viewerInitials");
    const photo = pickAvatarUrl(p);

img.onerror = () => {
  img.style.display = "none";
  init.style.display = "flex";
  init.textContent = initials(p.name || "??");
};

    if (photo) {
      img.src = photo;
      img.alt = p.name || "";
      img.style.display = "block";
      init.style.display = "none";
    } else {
      img.style.display = "none";
      init.style.display = "flex";
      init.textContent = initials(p.name || "??");
    }

    $("#viewerName").textContent = p.name || "‚Äî";
    $("#viewerHeadline").textContent = p.headline || "‚Äî";

    const interaction = p.interaction || "Niet benaderd";
    const bcI = badgeClassForInteraction(interaction);
    const bcS = stageBadgeClass(p.stage || "");
    const conn = p.connection || "‚Äî";

    $("#viewerBadges").innerHTML = `
      <span class="badge">${esc(conn)}</span>
      <span class="badge ${bcS}">${esc(p.stage || "Nieuw")}</span>
      <span class="badge ${bcI}">${esc(interaction)}</span>
    `;

    renderViewerLogos(p);
    renderViewerProjects(p);
    renderViewerDonations(p);

    const tags = Array.isArray(p.tags) ? p.tags : [];
    $("#viewerTags").innerHTML = tags.length
      ? tags.map(t => `<span class="chip">${esc(t)}</span>`).join("")
      : `<span class="muted">Geen tags.</span>`;

    const ln = (p.contact?.linkedinUrl || "").trim();
    const em = (p.contact?.email || "").trim();
    const ph = (p.contact?.phone || "").trim();
    const ws = (p.contact?.website || "").trim();

    const linkedInLink = ln ? normalizeUrl(ln) : `https://www.linkedin.com/search/results/all/?keywords=${encodeURIComponent(p.name || "")}`;
    const mailLink = em ? `mailto:${em}` : "";
    const telLink = ph ? `tel:${ph.replace(/\s+/g,"")}` : "";
    const webLink = ws ? normalizeUrl(ws) : "";

    const parts = [];
    parts.push(`<a class="tiny-link" href="${esc(linkedInLink)}" target="_blank" rel="noopener">Open LinkedIn</a>`);
    if (mailLink) parts.push(`<a class="tiny-link" href="${esc(mailLink)}">Mail</a>`);
    if (telLink) parts.push(`<a class="tiny-link" href="${esc(telLink)}">Bel</a>`);
    if (webLink) parts.push(`<a class="tiny-link" href="${esc(webLink)}" target="_blank" rel="noopener">Website</a>`);
    parts.push(`<button class="btn small" id="viewerCopy">üìã Copy</button>`);

    $("#viewerContacts").innerHTML = parts.join("");

    const notes = (p.notes || "").trim();
    $("#viewerNotes").textContent = notes || "Geen notities.";

    const copyBtn = $("#viewerCopy");
    if (copyBtn) {
      copyBtn.onclick = async () => {
        const payload = [
          `Naam: ${p.name || ""}`,
          `Headline: ${p.headline || ""}`,
          `Funnel: ${p.stage || ""}`,
          `Status: ${interaction}`,
          `Connectie: ${conn}`,
          `Tags: ${(tags||[]).join(", ")}`,
          em ? `Email: ${em}` : "",
          ph ? `Tel: ${ph}` : "",
          ln ? `LinkedIn: ${ln}` : `LinkedIn search: ${linkedInLink}`,
          ws ? `Website: ${ws}` : "",
          notes ? `Notitie: ${notes}` : ""
        ].filter(Boolean).join("\n");
        try {
          await navigator.clipboard.writeText(payload);
          copyBtn.textContent = "Gekopieerd ‚úì";
          setTimeout(()=> copyBtn.textContent = "üìã Copy", 900);
        } catch {
          alert("Copy mislukt (clipboard rechten).");
        }
      };
    }
  }

  // ========= Import/Export =========
  function exportJson() {
    const bundle = {
      schema: "dorcas.zakendoen.bundle.v1",
      exportedAt: new Date().toISOString(),
      prospects,
      orgs,
      accounts,
      donations,
      labels: labelCatalog
    };
    const blob = new Blob([JSON.stringify(bundle, null, 2)], {type:"application/json"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `dorcas_zakendoen_bundle_${new Date().toISOString().slice(0,10)}.json`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }
  function renderViewerDonations(p){
    const host = $("#viewerDonations");
    if (!host) return;

    const accNo = String(p?.accountNo || p?.accountNumber || "").trim();
    const accId = accNo ? accountIdFromNo(accNo) : (p?.accountId || "");
    if (!accId){
      host.innerHTML = `<span class="muted">Geen accountnr gekoppeld.</span>`;
      return;
    }

    const yearsBack = 5;
    const nowY = new Date().getFullYear();
    const fromY = nowY - (yearsBack-1);
    const list = donations.filter(d=>{
      if (String(d.accountId||"") !== String(accId)) return false;
      const y = Number(String(d.date||"").slice(0,4));
      return y >= fromY && y <= nowY;
    });

    if (!list.length){
      host.innerHTML = `<span class="muted">Geen donaties gevonden (laatste 5 jaar).</span>`;
      return;
    }

    const total = list.reduce((s,d)=> s + (Number(d.amount)||0), 0);
    const last = list.slice().sort((a,b)=> String(b.date||"").localeCompare(String(a.date||"")))[0];

    const byYear = {};
    for (const d of list){
      const y = String(d.date||"").slice(0,4);
      if (!y) continue;
      byYear[y] = (byYear[y]||0) + (Number(d.amount)||0);
    }
    const years = [];
    for (let y=fromY; y<=nowY; y++) years.push(String(y));
    const yearLine = years.map(y=> `${y}: ${fmtEUR(byYear[y]||0)}`).join(" ‚Ä¢ ");

    const acc = accountById(accId);
    const name = acc?.companyName || p.company?.name || "Account";
    host.innerHTML = `<div><b>${esc(name)}</b> ‚Ä¢ ${esc(accNo)} ‚Ä¢ <b>${fmtEUR(total)}</b> (¬± ${fromY}‚Äì${nowY})</div>
                      <div class="muted" style="margin-top:6px;">${esc(yearLine)}</div>
                      <div class="muted" style="margin-top:6px;">Laatste: ${esc(last?.date || "‚Äî")} ‚Ä¢ ${fmtEUR(Number(last?.amount||0))}</div>`;
  }


  function importJsonFile(file) {
    const reader = new FileReader();
    reader.onload = () => {
      try {
        const parsed = JSON.parse(String(reader.result || "null"));

        // --- Legacy: prospects-only array ---
        if (Array.isArray(parsed)) {
          const data = parsed;

          prospects = data.map(raw => {
            const p = ensureProspectDefaults(typeof raw === "object" && raw ? raw : {});
            p.id = p.id || crypto.randomUUID();
            p.name = p.name || "";
            p.headline = p.headline || "";
            p.connection = p.connection || "";
            p.photoUrl = p.photoUrl || "";
            p.stage = p.stage || "Nieuw";
            p.interaction = p.interaction || "Niet benaderd";
            p.notes = p.notes || "";
            p.tags = Array.isArray(p.tags) ? p.tags : [];
            p.accountNo = (p.accountNo || p.accountNumber || "").toString().trim();
            p.accountCompany = (p.accountCompany || "").toString().trim();
            p.accountId = p.accountId || (p.accountNo ? accountIdFromNo(p.accountNo) : "");
            p.activity = Array.isArray(p.activity) ? p.activity : [];
            p.contact = (p.contact && typeof p.contact === "object") ? p.contact : { linkedinUrl:"", email:"", phone:"", website:"" };
            p.contact.linkedinUrl = p.contact.linkedinUrl || "";
            p.contact.email = p.contact.email || "";
            p.contact.phone = p.contact.phone || "";
            p.contact.website = p.contact.website || "";
            return p;
          });

          prospects = dedupeHighConfidence(prospects);
          localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
          render();
          alert("Import klaar (prospects).");
          return;
        }

        // --- Bundle / partial bundle ---
        if (!parsed || typeof parsed !== "object") throw new Error("Onbekend JSON format");

        if (parsed.labels) {
          labelCatalog = normalizeLabelCatalog(parsed.labels);
          saveLabels();
        }

        if (parsed.accounts) {
          const incoming = (Array.isArray(parsed.accounts) ? parsed.accounts : []).map(ensureAccountDefaults);
          accounts = mergeById(accounts, incoming);
          saveAccounts();
        }

        if (parsed.donations) {
          const incoming = (Array.isArray(parsed.donations) ? parsed.donations : []).map(ensureDonationDefaults);
          donations = mergeDonations(donations, incoming);
          saveDonations();
        }

        if (parsed.orgs) {
          const incoming = (Array.isArray(parsed.orgs) ? parsed.orgs : []);
          orgs = incoming.map(o=>({
            id: String(o?.id||"").trim() || crypto.randomUUID(),
            name: String(o?.name||"").trim(),
            tags: Array.isArray(o?.tags) ? o.tags : [],
            logoUrl: String(o?.logoUrl||""),
            website: String(o?.website||""),
            desc: String(o?.desc||""),
            contacts: String(o?.contacts||""),
            note: String(o?.note||""),
            contactPeople: Array.isArray(o?.contactPeople) ? o.contactPeople : []
          }));
          localStorage.setItem(ORG_STORAGE_KEY, JSON.stringify(orgs));
        }

        if (parsed.prospects) {
          const data = Array.isArray(parsed.prospects) ? parsed.prospects : [];
          prospects = data.map(raw => {
            const p = ensureProspectDefaults(typeof raw === "object" && raw ? raw : {});
            p.id = p.id || crypto.randomUUID();
            p.name = p.name || "";
            p.headline = p.headline || "";
            p.connection = p.connection || "";
            p.photoUrl = p.photoUrl || "";
            p.stage = p.stage || "Nieuw";
            p.interaction = p.interaction || "Niet benaderd";
            p.notes = p.notes || "";
            p.tags = Array.isArray(p.tags) ? p.tags : [];
            p.accountNo = (p.accountNo || p.accountNumber || "").toString().trim();
            p.accountCompany = (p.accountCompany || "").toString().trim();
            p.accountId = p.accountId || (p.accountNo ? accountIdFromNo(p.accountNo) : "");
            p.activity = Array.isArray(p.activity) ? p.activity : [];
            p.contact = (p.contact && typeof p.contact === "object") ? p.contact : { linkedinUrl:"", email:"", phone:"", website:"" };
            p.contact.linkedinUrl = p.contact.linkedinUrl || "";
            p.contact.email = p.contact.email || "";
            p.contact.phone = p.contact.phone || "";
            p.contact.website = p.contact.website || "";
            return p;
          });

          prospects = dedupeHighConfidence(prospects);
          localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
        }

        hydrateAccountDatalist();
        render();
        renderOrgFilterPanel();
        alert("Import klaar (bundle).");
      } catch (e) {
        alert("Import mislukt: " + e.message);
      }
    };
    reader.readAsText(file);
  }

  function mergeById(existing=[], incoming=[]){
    const map = new Map(existing.map(x=>[String(x.id||""), x]));
    for (const it of incoming){
      const id = String(it?.id||"").trim();
      if (!id) continue;
      const prev = map.get(id) || {};
      map.set(id, { ...prev, ...it });
    }
    return [...map.values()];
  }


  // ========= Add prospect =========
  function addProspect() {
    const id = crypto.randomUUID();
    const p = ensureProspectDefaults({
      id,
      name: "Nieuwe prospect",
      connection: "",
      headline: "",
      photoUrl: "",
      contact: { linkedinUrl:"", email:"", phone:"", website:"" },
      stage: "Nieuw",
      interaction: "Niet benaderd",
      notes: "",
      tags: ["handmatig"],
      lastTouchAt: "",
      nextActionAt: "",
      activity: []
    });
    prospects.unshift(p);
    save();
    openModal(id);
  }

  // ========= Init UI =========
  function fillSelect(sel, options, includeEmpty=false) {
    const el = $(sel);
    el.innerHTML = "";
    if (includeEmpty) {
      const o = document.createElement("option");
      o.value = "";
      o.textContent = "‚Äî";
      el.appendChild(o);
    }
    for (const v of options) {
      const o = document.createElement("option");
      o.value = v;
      o.textContent = v || "‚Äî";
      el.appendChild(o);
    }
  }

  
  // ========= Organization UI =========
  let activeOrgId = null;

  function normalizeStr(s=""){ return String(s||"").trim().toLowerCase(); }

  function openOrgDir(){
    renderOrgDirectory();
    $("#orgDir").classList.add("open");
  }
  function closeOrgDir(){ $("#orgDir").classList.remove("open"); }

  function openOrgModal(id){
    const o = orgById(id);
    if (!o) return;
    activeOrgId = id;

    const hostLogo = $("#orgModalLogo");
    if (hostLogo){
      const name = String(o.name||"ORG").trim() || "ORG";
      const url = (o.logoUrl||"").trim();
      hostLogo.classList.remove("fallback");
      hostLogo.innerHTML = "";
      const img = logoImgTag({ accountNo: o?.accountNo || "", name, url, alt: name, fallbackText: orgInitials(name) });
      if (img){
        hostLogo.innerHTML = img;
      } else {
        hostLogo.classList.add("fallback");
        hostLogo.textContent = orgInitials(name);
      }
    }
    $("#orgModalName").textContent = o.name || "‚Äî";
    $("#orgModalDesc").textContent = (o.desc || "").trim() || "‚Äî";
    $("#orgModalContacts").textContent = (o.contacts || "").trim() || "‚Äî";
    renderOrgPeople(o.id);

    $("#orgEditCard").style.display = "none";
    $("#orgModal").classList.add("open");
  }
  function closeOrgModal(){
    $("#orgModal").classList.remove("open");
    activeOrgId = null;
  }

  function renderOrgPeople(orgId){
    const list = prospects.filter(p => (Array.isArray(p.orgIds)?p.orgIds:[]).includes(orgId));
    const donors = list.filter(p => (p.stage === "Donor/Partner") || (p.interaction === "Donatie"));
    const others = list.filter(p => !donors.includes(p));
    const all = donors.concat(others);

    $("#orgModalCount").textContent = `${all.length}`;
    const host = $("#orgModalPeople");
    host.innerHTML = "";

    if (!all.length){
      host.innerHTML = `<div class="muted">Nog geen prospects gekoppeld aan deze organisatie.</div>`;
      return;
    }

    for (const p of all){
      const row = document.createElement("div");
      row.className = "person-row";
      const photo = pickAvatarUrl(p);
      const av = photo
        ? `<div class="org-mini"><img alt="${esc(p.name)}" src="${esc(photo)}"/></div>`
        : `<div class="org-mini fallback">${esc(initials(p.name))}</div>`;
      row.innerHTML = `
        ${av}
        <div class="person-meta">
          <div class="person-name">${esc(p.name)}</div>
          <div class="person-sub">${esc(p.headline || "")}</div>
          <div class="person-badges">
            <span class="badge">${esc(p.stage || "Nieuw")}</span>
            <span class="badge ${badgeClassForInteraction(p.interaction||"")}">${esc(p.interaction || "Niet benaderd")}</span>
          </div>
        </div>
      `;
      row.addEventListener("click", ()=>{
        closeOrgModal();
        openViewer(p.id);
      });
      host.appendChild(row);
    }
  }

  function renderOrgContactCards(orgId){
    const o = orgById(orgId);
    if (!o) return;
    const host = $("#orgModalContactCards");
    if (!host) return;
    host.innerHTML = "";

    const arr = Array.isArray(o.contactPeople) ? o.contactPeople : [];
    if (!arr.length){
      host.innerHTML = `<div class="muted">Nog geen contactpersonen vastgelegd.</div>`;
      return;
    }

    for (const c of arr){
      const photo = (c.photoUrl || "").trim();
      const avatar = photo
        ? `<div class="org-mini"><img alt="${esc(c.name)}" src="${esc(photo)}"/></div>`
        : `<div class="org-mini fallback">${esc(initials(c.name || "C"))}</div>`;

      const ln = (c.linkedinUrl || "").trim();
      const em = (c.email || "").trim();
      const ph = (c.phone || "").trim();
      const lnLink = ln ? normalizeUrl(ln) : "";
      const mailLink = em ? `mailto:${em}` : "";
      const telLink = ph ? `tel:${ph.replace(/\s+/g,"")}` : "";

      const card = document.createElement("div");
      card.className = "org-contact-card";
      card.innerHTML = `
        ${avatar}
        <div class="meta">
          <div class="name">${esc(c.name || "‚Äî")}</div>
          <div class="role">${esc(c.role || "")}</div>
          <div class="info">
            ${mailLink ? `<a class="tiny-link" href="${esc(mailLink)}">‚úâ ${esc(em)}</a>` : ``}
            ${telLink ? `<a class="tiny-link" href="${esc(telLink)}">‚òé ${esc(ph)}</a>` : ``}
            ${lnLink ? `<a class="tiny-link" href="${esc(lnLink)}" target="_blank" rel="noopener">in</a>` : ``}
          </div>
          ${(c.note||"").trim() ? `<div class="org-kv" style="margin-top:8px;">${esc(String(c.note||"").trim()).slice(0,240)}${(String(c.note||"").trim().length>240)?"‚Ä¶":""}</div>` : ``}
          <div class="actions">
            <button class="btn small" data-cedit="${esc(c.id)}">‚úé Bewerken</button>
            <button class="btn small" data-cpartner="${esc(c.id)}">ü§ù Maak relatiekaart</button>
            <button class="btn small danger" data-cdel="${esc(c.id)}">üóë</button>
          </div>
        </div>
      `;

      card.querySelector(`[data-cedit="${c.id}"]`)?.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); openOrgContactEditor(c.id); });
      card.querySelector(`[data-cpartner="${c.id}"]`)?.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); createPartnerFromOrgContact(orgId, c.id); });
      card.querySelector(`[data-cdel="${c.id}"]`)?.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); deleteOrgContact(c.id); });

      host.appendChild(card);
    }
  }

  let activeContactId = null;

  function openOrgContactEditor(contactId){
    const o = orgById(activeOrgId);
    if (!o) return;
    const editor = $("#orgContactEditor");
    if (!editor) return;
    editor.style.display = "block";

    if (!contactId){
      contactId = crypto.randomUUID();
      o.contactPeople = Array.isArray(o.contactPeople) ? o.contactPeople : [];
      o.contactPeople.unshift({ id: contactId, name:"", role:"", photoUrl:"", email:"", phone:"", linkedinUrl:"", note:"" });
      saveOrgs();
    }
    activeContactId = contactId;

    const c = (o.contactPeople||[]).find(x=>x.id === contactId);
    $("#orgCHeader").textContent = c?.name ? `Contactpersoon ‚Äì ${c.name}` : "Nieuwe contactpersoon";
    $("#orgCName").value = c?.name || "";
    $("#orgCRole").value = c?.role || "";
    $("#orgCEmail").value = c?.email || "";
    $("#orgCPhone").value = c?.phone || "";
    $("#orgCLinkedin").value = c?.linkedinUrl || "";
    $("#orgCPhotoUrl").value = c?.photoUrl || "";
    $("#orgCNote").value = c?.note || "";
  }

  function closeOrgContactEditor(){
    const editor = $("#orgContactEditor");
    if (editor) editor.style.display = "none";
    activeContactId = null;
  }

  function saveOrgContact(){
    const o = orgById(activeOrgId);
    if (!o) return;
    o.contactPeople = Array.isArray(o.contactPeople) ? o.contactPeople : [];
    const c = o.contactPeople.find(x=>x.id === activeContactId);
    if (!c) return;

    c.name = ($("#orgCName").value || "").trim();
    c.role = ($("#orgCRole").value || "").trim();
    c.email = ($("#orgCEmail").value || "").trim();
    c.phone = ($("#orgCPhone").value || "").trim();
    c.linkedinUrl = ($("#orgCLinkedin").value || "").trim();
    c.photoUrl = ($("#orgCPhotoUrl").value || "").trim();
    c.note = ($("#orgCNote").value || "");

    saveOrgs();
    renderOrgContactCards(activeOrgId);
    closeOrgContactEditor();
  }

  function deleteOrgContact(contactId){
    const o = orgById(activeOrgId);
    if (!o) return;
    if (!confirm("Contactpersoon verwijderen?")) return;
    o.contactPeople = (o.contactPeople||[]).filter(x=>x.id !== contactId);
    saveOrgs();
    renderOrgContactCards(activeOrgId);
    if (activeContactId === contactId) closeOrgContactEditor();
  }

  function createPartnerFromOrgContact(orgId, contactId){
    const o = orgById(orgId);
    if (!o) return;
    const c = (o.contactPeople||[]).find(x=>x.id === contactId);
    if (!c) return;

    const id = crypto.randomUUID();
    const roleLine = [c.role, o.name].filter(Boolean).join(" ‚Äì ");
    const p = ensureProspectDefaults({
      id,
      name: c.name || "Relatie",
      headline: roleLine,
      photoUrl: c.photoUrl || "",
      stage: "Relatie/Partner",
      interaction: "Niet benaderd",
      connection: "‚Äî",
      tags: ["RELATIE"],
      orgIds: [orgId],
      company: { name: o.name || "", logoUrl: (o.logoUrl||""), website: (o.website||"") },
      contact: {
        linkedinUrl: c.linkedinUrl || "",
        email: c.email || "",
        phone: c.phone || "",
        website: o.website || ""
      },
      notes: c.note || "",
      lastTouchAt: "",
      nextActionAt: "",
      activity: []
    });

    syncOrgTags(p);
    prospects.unshift(p);
    save();
    closeOrgModal();
    openViewer(id);
  }

  function renderOrgDirectory(){
    const q = normalizeStr($("#orgDirSearch")?.value || "");
    const host = $("#orgDirList");
    host.innerHTML = "";

    const filtered = orgs.filter(o=>{
      if (!q) return true;
      const hay = [o.name, (o.tags||[]).join(","), o.website, o.desc].join(" ").toLowerCase();
      return hay.includes(q);
    });

    for (const o of filtered){
      const item = document.createElement("div");
      item.className = "person-row";
      item.innerHTML = `
        ${renderOrgMini(o)}
        <div class="person-meta">
          <div class="person-name">${esc(o.name)}</div>
          <div class="person-sub">${esc((o.tags||[]).join(" ‚Ä¢ "))}</div>
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn small" data-orgopen="1">Open</button>
          <button class="btn small" data-orgedit="1">Bewerken</button>
        </div>
      `;
      item.querySelector('[data-orgopen="1"]').addEventListener("click", (e)=>{ e.stopPropagation(); openOrgModal(o.id); });
      item.querySelector('[data-orgedit="1"]').addEventListener("click", (e)=>{ e.stopPropagation(); openOrgModal(o.id); showOrgEdit(true); });
      item.addEventListener("click", ()=> openOrgModal(o.id));
      host.appendChild(item);
    }

    if (!filtered.length){
      host.innerHTML = `<div class="muted">Geen organisaties gevonden.</div>`;
    }
  }

  function showOrgEdit(on){
    const card = $("#orgEditCard");
    if (!card) return;
    card.style.display = on ? "block" : "none";
    if (!on) return;

    const o = orgById(activeOrgId);
    if (!o) return;
    $("#orgFName").value = o.name || "";
    $("#orgFLogoUrl").value = o.logoUrl || "";
    $("#orgFTags").value = Array.isArray(o.tags) ? o.tags.join(", ") : "";
    $("#orgFWebsite").value = o.website || "";
    $("#orgFDesc").value = o.desc || "";
    $("#orgFContacts").value = o.contacts || "";
    $("#orgFNote").value = o.note || "";
  }

  function saveOrgEdit(){
    const o = orgById(activeOrgId);
    if (!o) return;
    o.name = ($("#orgFName").value || "").trim();
    o.logoUrl = ($("#orgFLogoUrl").value || "").trim();
    o.website = ($("#orgFWebsite").value || "").trim();
    o.desc = ($("#orgFDesc").value || "");
    o.contacts = ($("#orgFContacts").value || "");
    o.note = ($("#orgFNote").value || "");
    o.tags = ($("#orgFTags").value || "").split(",").map(x=>x.trim()).filter(Boolean);
    saveOrgs();

    renderOrgFilterPanel();
    const p = activeId ? byId(activeId) : null;
    if (p) renderOrgPick(p);
    renderVFLists();
    render();
    openOrgModal(o.id);
    showOrgEdit(false);
  }

  function addOrg(){
    const id = crypto.randomUUID();
    const o = { id, name:"Nieuwe organisatie", tags:[], logoUrl:"", website:"", desc:"", contacts:"", note:"", contactPeople:[] };
    orgs.unshift(o);
    saveOrgs();
    renderOrgDirectory();
    openOrgModal(id);
    showOrgEdit(true);
  }

  function deleteOrg(){
    const o = orgById(activeOrgId);
    if (!o) return;
    if (!confirm(`Verwijderen: "${o.name}"?`)) return;

    prospects.forEach(p=>{
      p.orgIds = Array.isArray(p.orgIds) ? p.orgIds : [];
      p.orgIds = p.orgIds.filter(x=>x !== activeOrgId);
    });
    save();
    orgs = orgs.filter(x=>x.id !== activeOrgId);
    saveOrgs();
    closeOrgModal();
    renderOrgDirectory();
    renderOrgFilterPanel();
    renderVFLists();
    render();
  }

  function renderOrgFilterPanel(){
    const host = $("#orgFilterList");
    if (!host) return;
    host.innerHTML = "";
    const isAll = (globalOrgFilter.size === 0);
    for (const o of orgs){
      const checked = isAll ? true : globalOrgFilter.has(o.id);
      const row = document.createElement("label");
      row.className = "org-item";
      row.innerHTML = `<input type="checkbox" data-orgfilter="${esc(o.id)}" ${checked ? "checked": ""}/> ${renderOrgMini(o)} <span>${esc(o.name)}</span>`;
      host.appendChild(row);
    }
    updateOrgFilterSummary();
  }

  function updateOrgFilterSummary(){
    const sum = $("#orgFilterSummary");
    if (!sum) return;
    if (globalOrgFilter.size === 0 || globalOrgFilter.size === orgs.length) sum.textContent = "Alle";
    else sum.textContent = `${globalOrgFilter.size} geselecteerd`;

    const count = $("#orgFilterCount");
    if (count) count.textContent = `${getFilteredProspects().length} zichtbaar`;
  }

  function applyOrgFilterPanel(){
    const host = $("#orgFilterList");
    if (!host) return;
    const boxes = host.querySelectorAll('input[type="checkbox"][data-orgfilter]');
    const sel = [];
    boxes.forEach(b=>{ if (b.checked) sel.push(b.getAttribute("data-orgfilter")); });
    globalOrgFilter = (sel.length === 0 || sel.length === orgs.length) ? new Set() : new Set(sel);
    saveOrgFilter();
    renderOrgFilterPanel();
    render();
    // if viewer open: keep selection
    if ($("#viewer")?.classList.contains("open")){
      const currentId = viewerIds[viewerIndex];
      const list = buildViewerList();
      viewerIds = list.map(p=>p.id);
      viewerIndex = Math.max(0, viewerIds.indexOf(currentId));
      if (viewerIndex < 0) viewerIndex = 0;
      renderVFLists();
      renderViewer();
    }
  }

  function resetOrgFilter(){
    globalOrgFilter = new Set();
    saveOrgFilter();
    renderOrgFilterPanel();
    render();
  }

function init() {
    loadOrgs();
    loadOrgFilter();
    loadViewerPrefs();
    updateVFSummary();

    // header filters
    fillSelect("#filterInteraction", ["", ...INTERACTIONS], false);
    $("#filterInteraction").options[0].textContent = "Alle";
    fillSelect("#filterConnection", ["", "1ste", "2de", "3de"], false);
    $("#filterConnection").options[0].textContent = "Alle";

    // modal selects
    fillSelect("#fStage", STAGES);
    fillSelect("#fInteraction", INTERACTIONS);
    fillSelect("#fConnection", CONNECTIONS);

    // events
    $("#q").addEventListener("input", render);
    $("#filterInteraction").addEventListener("change", render);
    $("#filterConnection").addEventListener("change", render);

    // close org filter panel when clicking elsewhere
    document.addEventListener("click", ()=>{ const p = $("#orgFilterPanel"); if (p) p.classList.remove("open"); });

    // org filter panel (global)
    const orgToggle = $("#orgFilterToggle");
    const orgPanel = $("#orgFilterPanel");
    if (orgPanel) orgPanel.addEventListener("click", (e)=> e.stopPropagation());
    if (orgToggle && orgPanel) orgToggle.addEventListener("click", (e)=>{
      e.preventDefault(); e.stopPropagation();
      orgPanel.classList.toggle("open");
      renderOrgFilterPanel();

    // board logo clicks (org/company)
    document.addEventListener("click", (e)=>{
      const t = e.target;
      if (!t) return;

      const oid = (t.getAttribute && t.getAttribute("data-org")) ||
                  (t.parentElement && t.parentElement.getAttribute && t.parentElement.getAttribute("data-org"));
      if (oid){ e.preventDefault(); e.stopPropagation(); openOrgModal(oid); return; }

      const isCompany = (t.getAttribute && t.getAttribute("data-company")) ||
                        (t.parentElement && t.parentElement.getAttribute && t.parentElement.getAttribute("data-company"));
      if (isCompany){
        const card = t.closest ? t.closest(".card") : null;
        if (!card) return;
        const pid = card.getAttribute("data-id");
        const p = pid ? byId(pid) : null;
        const ws = (p?.company?.website || p?.contact?.website || "").trim();
        const url = ws ? normalizeUrl(ws) : "";
        if (url) window.open(url, "_blank", "noopener");
      }
    }, {capture:true});
    });
    $("#orgFilterClose").addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); orgPanel.classList.remove("open"); });
    $("#orgFilterApply").addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); applyOrgFilterPanel(); orgPanel.classList.remove("open"); });
    $("#orgFilterAll").addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); globalOrgFilter = new Set(); saveOrgFilter(); renderOrgFilterPanel(); });
    $("#orgFilterClear").addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); resetOrgFilter(); orgPanel.classList.remove("open"); });

    $("#btnExport").addEventListener("click", exportJson);

    // Donaties dashboard
    const btnDon = $("#btnDonaties");
    if (btnDon) btnDon.addEventListener("click", ()=> openDonDash());

    const btnOpenAccDon = $("#btnOpenAccountDonations");
    if (btnOpenAccDon) btnOpenAccDon.addEventListener("click", (e)=>{
      e.preventDefault();
      const no = ($("#fAccountNo").value || "").trim();
      openDonDash({ accountNo: no });
    });

    const donClose = $("#btnDonClose");
    if (donClose) donClose.addEventListener("click", ()=> closeDonDash());
    const donAdd = $("#btnDonAdd");
    if (donAdd) donAdd.addEventListener("click", ()=> openDonAddModal({ accountNo: ($("#donSearch").value||"").trim() }));
    const donExport = $("#btnDonExport");
    if (donExport) donExport.addEventListener("click", exportDonationsOnly);
    const donImport = $("#donImportFile");
    if (donImport) donImport.addEventListener("change", (e)=>{ const f = e.target.files?.[0]; if (f) importDonationsFile(f); e.target.value=""; });

    const donAddClose = $("#btnDonAddClose");
    if (donAddClose) donAddClose.addEventListener("click", ()=> closeDonAddModal());
    const donSave = $("#btnDonSave");
    if (donSave) donSave.addEventListener("click", ()=> saveDonationFromModal());

    // dashboard filter inputs
    const donSearch = $("#donSearch");
    if (donSearch) donSearch.addEventListener("input", ()=>{ donState.search = donSearch.value; donState.pinnedAccountNo = ""; renderDonDash(); });
    const donYears = $("#donYearsBack");
    if (donYears) donYears.addEventListener("change", ()=>{ donState.yearsBack = Number(donYears.value||5)||5; renderDonDash(); });
    const donGroup = $("#donGroupBy");
    if (donGroup) donGroup.addEventListener("change", ()=>{ donState.groupBy = String(donGroup.value||"year"); renderDonDash(); });

    // close on background click
    const donDash = $("#donDash");
    if (donDash) donDash.addEventListener("click", (e)=>{ if (e.target && e.target.id === "donDash") closeDonDash(); });
    const donAddModal = $("#donAddModal");
    if (donAddModal) donAddModal.addEventListener("click", (e)=>{ if (e.target && e.target.id === "donAddModal") closeDonAddModal(); });
    $("#btnReset").addEventListener("click", () => {
      if (confirm("Alles terugzetten naar seed? (huidige edits gaan verloren)")) resetToSeed();
    });
    $("#btnAdd").addEventListener("click", addProspect);
    $("#btnOrgs").addEventListener("click", openOrgDir);

    $("#importFile").addEventListener("change", (e)=>{
      const f = e.target.files?.[0];
      if (f) importJsonFile(f);
      e.target.value = "";
    });

    $("#btnClose").addEventListener("click", closeModal);

    // org directory + modal
    $("#orgDirClose").addEventListener("click", closeOrgDir);
    $("#orgDir").addEventListener("click", (e)=>{ if (e.target.id === "orgDir") closeOrgDir(); });
    $("#orgDirAdd").addEventListener("click", (e)=>{ e.preventDefault(); addOrg(); });
    $("#orgDirSearch").addEventListener("input", renderOrgDirectory);

    $("#orgClose").addEventListener("click", closeOrgModal);
    $("#orgModal").addEventListener("click", (e)=>{ if (e.target.id === "orgModal") closeOrgModal(); });
    $("#orgEdit").addEventListener("click", (e)=>{ e.preventDefault(); showOrgEdit(true); });
    $("#orgEditCancel").addEventListener("click", (e)=>{ e.preventDefault(); showOrgEdit(false); });
    $("#orgEditSave").addEventListener("click", (e)=>{ e.preventDefault(); saveOrgEdit(); });
    $("#orgDelete").addEventListener("click", (e)=>{ e.preventDefault(); deleteOrg(); });

    // org contact people
    $("#orgContactAdd").addEventListener("click", (e)=>{ e.preventDefault(); openOrgContactEditor(null); });
    $("#orgCCancel").addEventListener("click", (e)=>{ e.preventDefault(); closeOrgContactEditor(); });
    $("#orgCSave").addEventListener("click", (e)=>{ e.preventDefault(); saveOrgContact(); });
    $("#orgCDelete").addEventListener("click", (e)=>{ e.preventDefault(); if (activeContactId) deleteOrgContact(activeContactId); });
    $("#orgCMakePartner").addEventListener("click", (e)=>{ e.preventDefault(); if (activeContactId) createPartnerFromOrgContact(activeOrgId, activeContactId); });

    $("#orgCPhotoFile").addEventListener("change", (e)=>{
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{ $("#orgCPhotoUrl").value = String(reader.result || ""); };
      reader.readAsDataURL(file);
      e.target.value = "";
    });
    $("#orgCPhotoClear").addEventListener("click", (e)=>{ e.preventDefault(); $("#orgCPhotoUrl").value = ""; });

    // org logo upload in editor
    $("#orgFLogoFile").addEventListener("change", (e)=>{
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{ $("#orgFLogoUrl").value = String(reader.result || ""); };
      reader.readAsDataURL(file);
      e.target.value = "";
    });
    $("#orgFLogoClear").addEventListener("click", (e)=>{ e.preventDefault(); $("#orgFLogoUrl").value = ""; });
    $("#modal").addEventListener("click", (e)=>{ if (e.target.id === "modal") closeModal(); });
    document.addEventListener("keydown", (e)=>{
      const vOpen = $("#viewer") && $("#viewer").classList.contains("open");
      const mOpen = $("#modal") && $("#modal").classList.contains("open");
      if (e.key === "Escape") {
        if (vOpen) closeViewer();
        else if (mOpen) closeModal();
        else if ($("#donAddModal")?.classList.contains("open")) closeDonAddModal();
        else if ($("#donDash")?.classList.contains("open")) closeDonDash();
      }
      if (vOpen) {
        if (e.key === "ArrowLeft") viewerMove(-1);
        if (e.key === "ArrowRight") viewerMove(1);
      }
    });

    document.addEventListener("keydown", (e)=>{ if (e.key === "Escape") closeModal(); });

    $("#btnSave").addEventListener("click", saveModal);
    $("#btnDelete").addEventListener("click", deleteActive);
    $("#btnPrev").addEventListener("click", ()=> modalMove(-1));
    $("#btnNext").addEventListener("click", ()=> modalMove(+1));
    $("#btnQuickLog").addEventListener("click", addQuickLog);

    $("#btnClearPhoto").addEventListener("click", ()=> {
      $("#fPhotoUrl").value = "";
      const p = byId(activeId);
      if (p) {
        p.photoUrl = "";
        save();
      }
    });

    $("#fPhotoFile").addEventListener("change", (e)=>{
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        $("#fPhotoUrl").value = String(reader.result || "");
      };
      reader.readAsDataURL(file);
      e.target.value = "";
    });

    // company logo upload
    $("#fCompanyLogoFile").addEventListener("change", (e)=>{
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{ $("#fCompanyLogoUrl").value = String(reader.result || ""); };
      reader.readAsDataURL(file);
      e.target.value = "";
    });
    $("#btnClearCompanyLogo").addEventListener("click", (e)=>{
      e.preventDefault();
      $("#fCompanyLogoUrl").value = "";
      const p = byId(activeId);
      if (p) { p.company = p.company || {}; p.company.logoUrl = ""; save(); }
    });

    // org pick manage (in prospect modal)
    const orgPickManage = $("#orgPickManage");
    if (orgPickManage) orgPickManage.addEventListener("click", (e)=>{ e.preventDefault(); openOrgDir(); });

    // project buttons (in prospect modal)
    $("#projAdd").addEventListener("click", (e)=>{
      e.preventDefault();
      const p = byId(activeId);
      if (!p) return;
      p.projects = Array.isArray(p.projects) ? p.projects : [];
      p.projects.push({ name:"", theme:"", countries:"", region:"", scope:"algemeen", notes:"" });
      renderProjectsEditor(p);
    });
    $("#projClear").addEventListener("click", (e)=>{
      e.preventDefault();
      const p = byId(activeId);
      if (!p) return;
      p.projects = [];
      renderProjectsEditor(p);
    });

    // autosave-ish: save on ctrl+s when modal open
    document.addEventListener("keydown", (e)=>{
      if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "s") {
        if ($("#modal").classList.contains("open")) {
          e.preventDefault();
          saveModal();
        }
      }
    });

    load();
    loadLabels();
    loadAccounts();
    loadDonations();
    hydrateAccountDatalist();
    prospects = dedupeHighConfidence(prospects);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(prospects));
    render();
    renderOrgFilterPanel();
    bindViewerEvents();
  }

  init();
</script>

<datalist id="accountList"></datalist>
</body>
</html>
