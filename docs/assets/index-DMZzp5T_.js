(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ld={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function nb(){if(Q_)return bl;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=t,bl.jsx=n,bl.jsxs=n,bl}var K_;function ib(){return K_||(K_=1,Ld.exports=nb()),Ld.exports}var et=ib(),Ud={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function rb(){if(Y_)return wt;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Q={};function q(D,J,lt){this.props=D,this.context=J,this.refs=Q,this.updater=lt||k}q.prototype.isReactComponent={},q.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function nt(){}nt.prototype=q.prototype;function tt(D,J,lt){this.props=D,this.context=J,this.refs=Q,this.updater=lt||k}var st=tt.prototype=new nt;st.constructor=tt,G(st,q.prototype),st.isPureReactComponent=!0;var Rt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function O(D,J,lt,rt,dt,Mt){return lt=Mt.ref,{$$typeof:r,type:D,key:J,ref:lt!==void 0?lt:null,props:Mt}}function w(D,J){return O(D.type,J,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(lt){return J[lt]})}var N=/\/+/g;function P(D,J){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):J.toString(36)}function C(){}function le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,J,lt,rt,dt){var Mt=typeof D;(Mt==="undefined"||Mt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Mt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case E:return vt=D._init,ne(vt(D._payload),J,lt,rt,dt)}}if(vt)return dt=dt(D),vt=rt===""?"."+P(D,0):rt,Rt(dt)?(lt="",vt!=null&&(lt=vt.replace(N,"$&/")+"/"),ne(dt,J,lt,"",function(xn){return xn})):dt!=null&&(R(dt)&&(dt=w(dt,lt+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(N,"$&/")+"/")+vt)),J.push(dt)),1;vt=0;var ke=rt===""?".":rt+":";if(Rt(D))for(var Gt=0;Gt<D.length;Gt++)rt=D[Gt],Mt=ke+P(rt,Gt),vt+=ne(rt,J,lt,Mt,dt);else if(Gt=b(D),typeof Gt=="function")for(D=Gt.call(D),Gt=0;!(rt=D.next()).done;)rt=rt.value,Mt=ke+P(rt,Gt++),vt+=ne(rt,J,lt,Mt,dt);else if(Mt==="object"){if(typeof D.then=="function")return ne(le(D),J,lt,rt,dt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function K(D,J,lt){if(D==null)return D;var rt=[],dt=0;return ne(D,rt,"","",function(Mt){return J.call(lt,Mt,dt++)}),rt}function at(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(lt){(D._status===0||D._status===-1)&&(D._status=1,D._result=lt)},function(lt){(D._status===0||D._status===-1)&&(D._status=2,D._result=lt)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return wt.Children={map:K,forEach:function(D,J,lt){K(D,function(){J.apply(this,arguments)},lt)},count:function(D){var J=0;return K(D,function(){J++}),J},toArray:function(D){return K(D,function(J){return J})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=q,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=tt,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ht.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,J,lt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=G({},D.props),dt=D.key,Mt=void 0;if(J!=null)for(vt in J.ref!==void 0&&(Mt=void 0),J.key!==void 0&&(dt=""+J.key),J)!Dt.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(rt[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)rt.children=lt;else if(1<vt){for(var ke=Array(vt),Gt=0;Gt<vt;Gt++)ke[Gt]=arguments[Gt+2];rt.children=ke}return O(D.type,dt,void 0,void 0,Mt,rt)},wt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},wt.createElement=function(D,J,lt){var rt,dt={},Mt=null;if(J!=null)for(rt in J.key!==void 0&&(Mt=""+J.key),J)Dt.call(J,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=J[rt]);var vt=arguments.length-2;if(vt===1)dt.children=lt;else if(1<vt){for(var ke=Array(vt),Gt=0;Gt<vt;Gt++)ke[Gt]=arguments[Gt+2];dt.children=ke}if(D&&D.defaultProps)for(rt in vt=D.defaultProps,vt)dt[rt]===void 0&&(dt[rt]=vt[rt]);return O(D,Mt,void 0,void 0,null,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:m,render:D}},wt.isValidElement=R,wt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:at}},wt.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},wt.startTransition=function(D){var J=ht.T,lt={};ht.T=lt;try{var rt=D(),dt=ht.S;dt!==null&&dt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,pt)}catch(Mt){pt(Mt)}finally{ht.T=J}},wt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},wt.use=function(D){return ht.H.use(D)},wt.useActionState=function(D,J,lt){return ht.H.useActionState(D,J,lt)},wt.useCallback=function(D,J){return ht.H.useCallback(D,J)},wt.useContext=function(D){return ht.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,J){return ht.H.useDeferredValue(D,J)},wt.useEffect=function(D,J,lt){var rt=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(D,J)},wt.useId=function(){return ht.H.useId()},wt.useImperativeHandle=function(D,J,lt){return ht.H.useImperativeHandle(D,J,lt)},wt.useInsertionEffect=function(D,J){return ht.H.useInsertionEffect(D,J)},wt.useLayoutEffect=function(D,J){return ht.H.useLayoutEffect(D,J)},wt.useMemo=function(D,J){return ht.H.useMemo(D,J)},wt.useOptimistic=function(D,J){return ht.H.useOptimistic(D,J)},wt.useReducer=function(D,J,lt){return ht.H.useReducer(D,J,lt)},wt.useRef=function(D){return ht.H.useRef(D)},wt.useState=function(D){return ht.H.useState(D)},wt.useSyncExternalStore=function(D,J,lt){return ht.H.useSyncExternalStore(D,J,lt)},wt.useTransition=function(){return ht.H.useTransition()},wt.version="19.1.1",wt}var X_;function Mm(){return X_||(X_=1,Ud.exports=rb()),Ud.exports}var F=Mm();const sb=kE(F);var zd={exports:{}},wl={},Bd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function ab(){return $_||($_=1,(function(r){function t(K,at){var pt=K.length;K.push(at);t:for(;0<pt;){var Ut=pt-1>>>1,D=K[Ut];if(0<o(D,at))K[Ut]=at,K[pt]=D,pt=Ut;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],pt=K.pop();if(pt!==at){K[0]=pt;t:for(var Ut=0,D=K.length,J=D>>>1;Ut<J;){var lt=2*(Ut+1)-1,rt=K[lt],dt=lt+1,Mt=K[dt];if(0>o(rt,pt))dt<D&&0>o(Mt,rt)?(K[Ut]=Mt,K[dt]=pt,Ut=dt):(K[Ut]=rt,K[lt]=pt,Ut=lt);else if(dt<D&&0>o(Mt,pt))K[Ut]=Mt,K[dt]=pt,Ut=dt;else break t}}return at}function o(K,at){var pt=K.sortIndex-at.sortIndex;return pt!==0?pt:K.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,b=3,k=!1,G=!1,Q=!1,q=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Rt(K){for(var at=n(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=K)s(y),at.sortIndex=at.expirationTime,t(g,at);else break;at=n(y)}}function ht(K){if(Q=!1,Rt(K),!G)if(n(g)!==null)G=!0,Dt||(Dt=!0,P());else{var at=n(y);at!==null&&ne(ht,at.startTime-K)}}var Dt=!1,O=-1,w=5,R=-1;function V(){return q?!0:!(r.unstable_now()-R<w)}function N(){if(q=!1,Dt){var K=r.unstable_now();R=K;var at=!0;try{t:{G=!1,Q&&(Q=!1,tt(O),O=-1),k=!0;var pt=b;try{e:{for(Rt(K),S=n(g);S!==null&&!(S.expirationTime>K&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,b=S.priorityLevel;var D=Ut(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,Rt(K),at=!0;break e}S===n(g)&&s(g),Rt(K)}else s(g);S=n(g)}if(S!==null)at=!0;else{var J=n(y);J!==null&&ne(ht,J.startTime-K),at=!1}}break t}finally{S=null,b=pt,k=!1}at=void 0}}finally{at?P():Dt=!1}}}var P;if(typeof st=="function")P=function(){st(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=N,P=function(){le.postMessage(null)}}else P=function(){nt(N,0)};function ne(K,at){O=nt(function(){K(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var pt=b;b=at;try{return K()}finally{b=pt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pt=b;b=K;try{return at()}finally{b=pt}},r.unstable_scheduleCallback=function(K,at,pt){var Ut=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ut+pt:Ut):pt=Ut,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,K={id:E++,callback:at,priorityLevel:K,startTime:pt,expirationTime:D,sortIndex:-1},pt>Ut?(K.sortIndex=pt,t(y,K),n(g)===null&&K===n(y)&&(Q?(tt(O),O=-1):Q=!0,ne(ht,pt-Ut))):(K.sortIndex=D,t(g,K),G||k||(G=!0,Dt||(Dt=!0,P()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var at=b;return function(){var pt=b;b=at;try{return K.apply(this,arguments)}finally{b=pt}}}})(jd)),jd}var Z_;function ob(){return Z_||(Z_=1,Bd.exports=ab()),Bd.exports}var qd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function lb(){if(W_)return Ke;W_=1;var r=Mm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ke.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var J_;function ub(){if(J_)return qd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=lb(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function cb(){if(tv)return wl;tv=1;var r=ob(),t=Mm(),n=ub();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case ht:return"Suspense";case Dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case st:return(e.displayName||"Context")+".Provider";case tt:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:le(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return le(e(i))}catch{}}return null}var ne=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function J(e){return{current:e}}function lt(e){0>D||(e.current=Ut[D],Ut[D]=null,D--)}function rt(e,i){D++,Ut[D]=e.current,e.current=i}var dt=J(null),Mt=J(null),vt=J(null),ke=J(null);function Gt(e,i){switch(rt(vt,i),rt(Mt,e),rt(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=E_(i),e=T_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(dt),rt(dt,e)}function xn(){lt(dt),lt(Mt),lt(vt)}function _o(e){e.memoizedState!==null&&rt(ke,e);var i=dt.current,a=T_(i,e.type);i!==a&&(rt(Mt,e),rt(dt,a))}function Js(e){Mt.current===e&&(lt(dt),lt(Mt)),ke.current===e&&(lt(ke),vl._currentValue=pt)}var ta=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,ea=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,vo=r.unstable_requestPaint,rn=r.unstable_now,uu=r.unstable_getCurrentPriorityLevel,be=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,zh=r.log,is=r.unstable_setDisableYieldValue,Zi=null,Fe=null;function vn(e){if(typeof zh=="function"&&is(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Zi,e)}catch{}}var We=Math.clz32?Math.clz32:hu,Bh=Math.log,cu=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(Bh(e)/cu|0)|0}var Zn=256,Wi=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Pn(l):(v&=T,v!==0?h=Pn(v):a||(a=T&~e,a!==0&&(h=Pn(a))))):(T=l&~d,T!==0?h=Pn(T):v!==0?h=Pn(v):a||(a=l&~e,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function na(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var e=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),e}function tr(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function ia(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-We(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var j=B[Y];j!==null&&(j.lane&=-536870913)}a&=~Z}l!==0&&er(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-We(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-We(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ao(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function So(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ti(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function jh(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var Wn=Math.random().toString(36).slice(2),de="__reactFiber$"+Wn,Le="__reactProps$"+Wn,Ai="__reactContainer$"+Wn,rs="__reactEvents$"+Wn,ss="__reactListeners$"+Wn,qh="__reactHandles$"+Wn,kn="__reactResources$"+Wn,ir="__reactMarker$"+Wn;function ra(e){delete e[de],delete e[Le],delete e[rs],delete e[ss],delete e[qh]}function Jn(e){var i=e[de];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ai]||a[de]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[de])return a;e=w_(e)}return i}e=a,a=e.parentNode}return null}function ti(e){if(e=e[de]||e[Ai]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function rr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function sr(e){var i=e[kn];return i||(i=e[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[ir]=!0}var du=new Set,as={};function ei(e,i){ni(e,i),ni(e+"Capture",i)}function ni(e,i){for(as[e]=i,e=0;e<i.length;e++)du.add(i[e])}var os=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},sa={};function Hh(e){return ta.call(sa,e)?!0:ta.call(ii,e)?!1:os.test(e)?sa[e]=!0:(ii[e]=!0,!1)}function ls(e,i,a){if(Hh(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function us(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var cs,aa;function Si(e){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+aa}var oa=!1;function la(e,i){if(!e||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var B=j}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(j){B=j}e.call(Z.prototype)}}else{try{throw Error()}catch(j){B=j}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Y=`
`+I[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function Fh(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return la(e.type,!1);case 11:return la(e.type.render,!1);case 1:return la(e.type,!0);case 31:return Si("Activity");default:return""}}function Ln(e){try{var i="";do i+=Fh(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function se(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hs(e){var i=ar(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function or(e){e._valueTracker||(e._valueTracker=hs(e))}function Qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ar(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function Ne(e){return e.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bo(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+se(i)):e.value!==""+se(i)&&(e.value=""+se(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ro(e,v,se(i)):a!=null?Ro(e,v,se(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+se(T):e.removeAttribute("name")}function wo(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+se(a):"",i=i!=null?""+se(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ro(e,i,a){i==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+se(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function mu(e,i,a){if(i!=null&&(i=""+se(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+se(a):""}function pu(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=se(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||wi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Co(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Io(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Io(e,d,i[d])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Un(e){return yu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Do=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,Je=null;function _u(e){var i=ti(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(bo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));bo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Qt(l)}break t;case"textarea":mu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&lr(e,!!a.multiple,i,!1)}}}var ds=!1;function ms(e,i,a){if(ds)return e(i,a);ds=!0;try{var l=e(i);return l}finally{if(ds=!1,(ur!==null||Je!==null)&&(oc(),ur&&(i=ur,e=Je,Je=ur=null,_u(i),e)))for(i=0;i<e.length;i++)_u(e[i])}}function cr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(tn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Ri=!1}var Sn=null,Zt=null,ca=null;function vu(){if(ca)return ca;var e,i=Zt,a=i.length,l,h="value"in Sn?Sn.value:Sn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return ca=h.slice(e,1<l?1-l:void 0)}function ps(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Oo(){return!1}function we(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gs:Oo,this.isPropagationStopped=Oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=we(Ge),_s=E({},Ge,{view:0,detail:0}),vs=we(_s),ha,Es,ri,Ts=E({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ha=e.screenX-ri.screenX,Es=e.screenY-ri.screenY):Es=ha=0,ri=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),As=we(Ts),Gh=E({},Ts,{dataTransfer:0}),Eu=we(Gh),Ss=E({},_s,{relatedTarget:0}),fa=we(Ss),Tu=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=we(Tu),Vo=E({},Ge,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=we(Vo),da=E({},Ge,{data:0}),xo=we(da),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=bu[e])?!!i[e]:!1}function ma(){return wu}var Ru=E({},_s,{key:function(e){if(e.key){var i=Su[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pa=we(Ru),en=E({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=we(en),Iu=E({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),fr=we(Iu),c=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),p=we(c),_=E({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A=we(_),U=E({},Ge,{newState:0,oldState:0}),H=we(U),it=[9,13,27,32],St=tn&&"CompositionEvent"in window,te=null;tn&&"documentMode"in document&&(te=document.documentMode);var qt=tn&&"TextEvent"in window&&!te,pe=tn&&(!St||te&&8<te&&11>=te),cn=" ",si=!1;function zn(e,i){switch(e){case"keyup":return it.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function ko(e,i){switch(e){case"compositionend":return Bn(i);case"keypress":return i.which!==32?null:(si=!0,cn);case"textInput":return e=i.data,e===cn&&si?null:e;default:return null}}function DA(e,i){if(jn)return e==="compositionend"||!St&&zn(e,i)?(e=vu(),ca=Zt=Sn=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pe&&i.locale!=="ko"?null:i.data;default:return null}}var NA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!NA[e.type]:i==="textarea"}function Pp(e,i,a,l){ur?Je?Je.push(l):Je=[l]:ur=l,i=dc(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Lo=null,Uo=null;function OA(e){p_(e,0)}function Cu(e){var i=rr(e);if(Qt(i))return e}function kp(e,i){if(e==="change")return i}var Lp=!1;if(tn){var Qh;if(tn){var Kh="oninput"in document;if(!Kh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Kh=typeof Up.oninput=="function"}Qh=Kh}else Qh=!1;Lp=Qh&&(!document.documentMode||9<document.documentMode)}function zp(){Lo&&(Lo.detachEvent("onpropertychange",Bp),Uo=Lo=null)}function Bp(e){if(e.propertyName==="value"&&Cu(Uo)){var i=[];Pp(i,Uo,e,No(e)),ms(OA,i)}}function MA(e,i,a){e==="focusin"?(zp(),Lo=i,Uo=a,Lo.attachEvent("onpropertychange",Bp)):e==="focusout"&&zp()}function VA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Uo)}function xA(e,i){if(e==="click")return Cu(i)}function PA(e,i){if(e==="input"||e==="change")return Cu(i)}function kA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:kA;function zo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ta.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,i){var a=jp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jp(a)}}function Hp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Hp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=bi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=bi(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var LA=tn&&"documentMode"in document&&11>=document.documentMode,ga=null,Xh=null,Bo=null,$h=!1;function Gp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||ga==null||ga!==bi(l)||(l=ga,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=dc(Xh,"onSelect"),0<l.length&&(i=new ys("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ga)))}function bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Zh={},Qp={};tn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function ws(e){if(Zh[e])return Zh[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return Zh[e]=i[a];return e}var Kp=ws("animationend"),Yp=ws("animationiteration"),Xp=ws("animationstart"),UA=ws("transitionrun"),zA=ws("transitionstart"),BA=ws("transitioncancel"),$p=ws("transitionend"),Zp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function qn(e,i){Zp.set(e,i),ei(i,[e])}var Wp=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=Wp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ln(i)},Wp.set(e,i),i)}return{value:e,source:i,stack:Ln(i)}}var wn=[],_a=0,Jh=0;function Du(){for(var e=_a,i=Jh=_a=0;i<e;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Jp(a,h,d)}}function Nu(e,i,a,l){wn[_a++]=e,wn[_a++]=i,wn[_a++]=a,wn[_a++]=l,Jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tf(e,i,a,l){return Nu(e,i,a,l),Ou(e)}function va(e,i){return Nu(e,null,null,i),Ou(e)}function Jp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-We(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ou(e){if(50<hl)throw hl=0,od=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ea={};function jA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new jA(e,i,a,l)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ci(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")ef(e)&&(v=1);else if(typeof e=="string")v=HS(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,a,i,h),e.elementType=R,e.lanes=d,e;case G:return Rs(a.children,h,d,i);case Q:v=8,h|=24;break;case q:return e=fn(12,a,i,h|2),e.elementType=q,e.lanes=d,e;case ht:return e=fn(13,a,i,h),e.elementType=ht,e.lanes=d,e;case Dt:return e=fn(19,a,i,h),e.elementType=Dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:case st:v=10;break t;case tt:v=9;break t;case Rt:v=11;break t;case O:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Rs(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function nf(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function rf(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ta=[],Aa=0,Vu=null,xu=0,Rn=[],In=0,Is=null,Di=1,Ni="";function Cs(e,i){Ta[Aa++]=xu,Ta[Aa++]=Vu,Vu=e,xu=i}function eg(e,i,a){Rn[In++]=Di,Rn[In++]=Ni,Rn[In++]=Is,Is=e;var l=Di;e=Ni;var h=32-We(l)-1;l&=~(1<<h),a+=1;var d=32-We(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Di=1<<32-We(i)+h|a<<h|l,Ni=d+e}else Di=1<<d|a<<h|l,Ni=e}function sf(e){e.return!==null&&(Cs(e,1),eg(e,1,0))}function af(e){for(;e===Vu;)Vu=Ta[--Aa],Ta[Aa]=null,xu=Ta[--Aa],Ta[Aa]=null;for(;e===Is;)Is=Rn[--In],Rn[In]=null,Ni=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null}var nn=null,ue=null,Bt=!1,Ds=null,ai=!1,of=Error(s(519));function Ns(e){var i=Error(s(418,""));throw Ho(bn(i,e)),of}function ng(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[de]=e,i[Le]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Ot(dl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),wo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),or(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),pu(i,l.value,l.defaultValue,l.children),or(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||v_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Ns(e)}function ig(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:nn=nn.return}}function jo(e){if(e!==nn)return!1;if(!Bt)return ig(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&ue&&Ns(e),ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Cr(e.type)?(e=Id,Id=null,ue=e):ue=i):ue=nn?Fn(e.stateNode.nextSibling):null;return!0}function qo(){ue=nn=null,Bt=!1}function rg(){var e=Ds;return e!==null&&(on===null?on=e:on.push.apply(on,e),Ds=null),e}function Ho(e){Ds===null?Ds=[e]:Ds.push(e)}var lf=J(null),Os=null,Oi=null;function dr(e,i,a){rt(lf,i._currentValue),i._currentValue=a}function Mi(e){e._currentValue=lf.current,lt(lf)}function uf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),uf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&cf(i,e,a,l),i.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Os=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return sg(Os,e)}function ku(e,i){return Os===null&&Ms(e),sg(e,i)}function sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var qA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},HA=r.unstable_scheduleCallback,FA=r.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new qA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&HA(FA,function(){e.controller.abort()})}var Qo=null,ff=0,Sa=0,ba=null;function GA(e,i){if(Qo===null){var a=Qo=[];ff=0,Sa=md(),ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(ag,ag),i}function ag(){if(--ff===0&&Qo!==null){ba!==null&&(ba.status="fulfilled");var e=Qo;Qo=null,Sa=0,ba=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function QA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GA(e,i),og!==null&&og(e,i)};var Vs=J(null);function df(){var e=Vs.current;return e!==null?e:Wt.pooledCache}function Lu(e,i){i===null?rt(Vs,Vs.current):rt(Vs,i.pool)}function lg(){var e=df();return e===null?null:{parent:Re._currentValue,pool:e}}var Ko=Error(s(460)),ug=Error(s(474)),Uu=Error(s(542)),mf={then:function(){}};function cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e;default:if(typeof i.status=="string")i.then(zu,zu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,dg(e),e}throw Yo=i,Ko}}var Yo=null;function fg(){if(Yo===null)throw Error(s(459));var e=Yo;return Yo=null,e}function dg(e){if(e===Ko||e===Uu)throw Error(s(483))}var mr=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(e),Jp(e,null,a),i}return Nu(e,l,i,a),Ou(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}function yf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function $o(){if(_f){var e=ba;if(e!==null)throw e}}function Zo(e,i,a,l){_f=!1;var h=e.updateQueue;mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,v===null?d=z:v.next=z,v=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Y=z=I=null,T=d;do{var B=T.lane&-536870913,j=B!==T.lane;if(j?(kt&B)===B:(l&B)===B){B!==0&&B===Sa&&(_f=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,gt=T;B=i;var Xt=a;switch(gt.tag){case 1:if(Et=gt.payload,typeof Et=="function"){Z=Et.call(Xt,Z,B);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=gt.payload,B=typeof Et=="function"?Et.call(Xt,Z,B):Et,B==null)break t;Z=E({},Z,B);break t;case 2:mr=!0}}B=T.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=j,I=Z):Y=Y.next=j,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),br|=v,e.lanes=v,e.memoizedState=Z}}function mg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function pg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mg(a[e],i)}var wa=J(null),Bu=J(0);function gg(e,i){e=zi,rt(Bu,e),rt(wa,i),zi=e|i.baseLanes}function vf(){rt(Bu,zi),rt(wa,wa.current)}function Ef(){zi=Bu.current,lt(wa),lt(Bu)}var yr=0,It=null,Kt=null,ve=null,ju=!1,Ra=!1,xs=!1,qu=0,Wo=0,Ia=null,KA=0;function ge(){throw Error(s(321))}function Tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Af(e,i,a,l,h,d){return yr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Jg:ty,xs=!1,d=a(l,h),xs=!1,Ra&&(d=_g(i,a,l,h)),yg(e),d}function yg(e){K.H=Yu;var i=Kt!==null&&Kt.next!==null;if(yr=0,ve=Kt=It=null,ju=!1,Wo=0,Ia=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Pu(e)&&(Oe=!0))}function _g(e,i,a,l){It=e;var h=0;do{if(Ra&&(Ia=null),Wo=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,ve=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=tS,d=i(a,l)}while(Ra);return d}function YA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function Sf(){var e=qu!==0;return qu=0,e}function bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(ju){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ju=!1}yr=0,ve=Kt=It=null,Ra=!1,Wo=qu=0,Ia=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?It.memoizedState=ve=e:ve=ve.next=e,ve}function Ee(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ve===null?It.memoizedState:ve.next;if(i!==null)ve=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ve===null?It.memoizedState=ve=e:ve=ve.next=e}return ve}function Rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=Wo;return Wo+=1,Ia===null&&(Ia=[]),e=hg(Ia,e,i),i=It,(ve===null?i.memoizedState:ve.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Jg:ty),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===st)return Qe(e)}throw Error(s(438,String(e)))}function If(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Rf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function Fu(e){var i=Ee();return Cf(i,Kt,e)}function Cf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,z=i,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(kt&Z)===Z:(yr&Z)===Z){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Sa&&(Y=!0);else if((yr&B)===B){z=z.next,B===Sa&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,It.lanes|=B,br|=B;Z=z.action,xs&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else B={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,v=d):I=I.next=B,It.lanes|=Z,br|=Z;z=z.next}while(z!==null&&z!==i);if(I===null?v=d:I.next=T,!hn(d,e.memoizedState)&&(Oe=!0,Y&&(a=ba,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var i=Ee(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function vg(e,i,a){var l=It,h=Ee(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=Ag.bind(null,l,h,e);if(tl(2048,8,T,[e]),h.getSnapshot!==i||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,Ca(9,Gu(),Tg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(yr&124)!==0||Eg(l,i,a)}return a}function Eg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Rf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Tg(e,i,a,l){i.value=a,i.getSnapshot=l,Sg(i)&&bg(e)}function Ag(e,i,a){return a(function(){Sg(i)&&bg(e)})}function Sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function bg(e){var i=va(e,2);i!==null&&yn(i,e,2)}function Nf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),xs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function wg(e,i,a,l){return e.baseState=a,Cf(e,Kt,typeof l=="function"?l:Vi)}function XA(e,i,a,l,h){if(Ku(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Rg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Rg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),Ig(e,i,T)}catch(z){Of(e,i,z)}finally{K.T=d}}else try{d=a(h,l),Ig(e,i,d)}catch(z){Of(e,i,z)}}function Ig(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cg(e,i,l)},function(l){return Of(e,i,l)}):Cg(e,i,a)}function Cg(e,i,a){i.status="fulfilled",i.value=a,Dg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Rg(e,a)))}function Of(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==l)}e.action=null}function Dg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ng(e,i){return i}function Og(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=It;if(Bt){if(ue){e:{for(var h=ue,d=ai;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Fn(h.nextSibling),l=h.data==="F!";break t}}Ns(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:i},a.queue=l,a=$g.bind(null,It,l),l.dispatch=a,l=Nf(!1),d=kf.bind(null,It,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=XA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Mg(e){var i=Ee();return Vg(i,Kt,e)}function Vg(e,i,a){if(i=Cf(e,i,Ng)[0],e=Fu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(v){throw v===Ko?Uu:v}else l=i;i=Ee();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ca(9,Gu(),$A.bind(null,h,a),null)),[l,d,e]}function $A(e,i){e.action=i}function xg(e){var i=Ee(),a=Kt;if(a!==null)return Vg(i,a,e);Ee(),i=i.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ca(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=Rf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function Pg(){return Ee().memoizedState}function Qu(e,i,a,l){var h=sn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ca(1|i,Gu(),a,l)}function tl(e,i,a,l){var h=Ee();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Tf(l,Kt.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(It.flags|=e,h.memoizedState=Ca(1|i,d,a,l))}function kg(e,i){Qu(8390656,8,e,i)}function Lg(e,i){tl(2048,8,e,i)}function Ug(e,i){return tl(4,2,e,i)}function zg(e,i){return tl(4,4,e,i)}function Bg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function jg(e,i,a){a=a!=null?a.concat([e]):null,tl(4,4,Bg.bind(null,i,e),a)}function Mf(){}function qg(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Tf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Hg(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Tf(i,l[1]))return l[0];if(l=e(),xs){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Vf(e,i,a){return a===void 0||(yr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Qy(),It.lanes|=e,br|=e,a)}function Fg(e,i,a,l){return hn(a,i)?a:wa.current!==null?(e=Vf(e,a,l),hn(e,i)||(Oe=!0),e):(yr&42)===0?(Oe=!0,e.memoizedState=a):(e=Qy(),It.lanes|=e,br|=e,i)}function Gg(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,kf(e,!1,i,a);try{var I=h(),z=K.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=QA(I,l);el(e,i,Y,gn(e))}else el(e,i,l,gn(e))}catch(Z){el(e,i,{then:function(){},status:"rejected",reason:Z},gn())}finally{at.p=d,K.T=v}}function ZA(){}function xf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Qg(e).queue;Gg(e,h,i,pt,a===null?ZA:function(){return Kg(e),a(l)})}function Qg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Kg(e){var i=Qg(e).next.queue;el(e,i,{},gn())}function Pf(){return Qe(vl)}function Yg(){return Ee().memoizedState}function Xg(){return Ee().memoizedState}function WA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=pr(a);var l=gr(i,e,a);l!==null&&(yn(l,i,a),Xo(l,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function JA(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Zg(i,a):(a=tf(e,i,a,l),a!==null&&(yn(a,e,l),Wg(a,i,l)))}function $g(e,i,a){var l=gn();el(e,i,a,l)}function el(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Zg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Nu(e,i,h,0),Wt===null&&Du(),!1}catch{}finally{}if(a=tf(e,i,h,l),a!==null)return yn(a,e,l),Wg(a,i,l),!0}return!1}function kf(e,i,a,l){if(l={lane:2,revertLane:md(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(i)throw Error(s(479))}else i=tf(e,a,l,2),i!==null&&yn(i,e,2)}function Ku(e){var i=e.alternate;return e===It||i!==null&&i===It}function Zg(e,i){Ra=ju=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Wg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}var Yu={readContext:Qe,use:Hu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Jg={readContext:Qe,use:Hu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,Bg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Qu(4194308,4,e,i)},useInsertionEffect:function(e,i){Qu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(xs){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(xs){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=JA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Nf(e);var i=e.queue,a=$g.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,i){var a=sn();return Vf(a,e,i)},useTransition:function(){var e=Nf(!1);return e=Gg.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||Eg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,kg(Ag.bind(null,l,d,e),[e]),l.flags|=2048,Ca(9,Gu(),Tg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=Wt.identifierPrefix;if(Bt){var a=Ni,l=Di;a=(l&~(1<<32-We(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=KA++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return sn().memoizedState=WA.bind(null,It)}},ty={readContext:Qe,use:Hu,useCallback:qg,useContext:Qe,useEffect:Lg,useImperativeHandle:jg,useInsertionEffect:Ug,useLayoutEffect:zg,useMemo:Hg,useReducer:Fu,useRef:Pg,useState:function(){return Fu(Vi)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Ee();return Fg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Fu(Vi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Pf,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,i){var a=Ee();return wg(a,Kt,e,i)},useMemoCache:If,useCacheRefresh:Xg},tS={readContext:Qe,use:Hu,useCallback:qg,useContext:Qe,useEffect:Lg,useImperativeHandle:jg,useInsertionEffect:Ug,useLayoutEffect:zg,useMemo:Hg,useReducer:Df,useRef:Pg,useState:function(){return Df(Vi)},useDebugValue:Mf,useDeferredValue:function(e,i){var a=Ee();return Kt===null?Vf(a,e,i):Fg(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Df(Vi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Pf,useFormState:xg,useActionState:xg,useOptimistic:function(e,i){var a=Ee();return Kt!==null?wg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Xg},Da=null,nl=0;function Xu(e){var i=nl;return nl+=1,Da===null&&(Da=[]),hg(Da,e,i)}function il(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ey(e){var i=e._init;return i(e._payload)}function ny(e){function i(x,M){if(e){var L=x.deletions;L===null?(x.deletions=[M],x.flags|=16):L.push(M)}}function a(x,M){if(!e)return null;for(;M!==null;)i(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(x,M){return x=Ci(x,M),x.index=0,x.sibling=null,x}function d(x,M,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<M?(x.flags|=67108866,M):L):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,M,L,X){return M===null||M.tag!==6?(M=nf(L,x.mode,X),M.return=x,M):(M=h(M,L),M.return=x,M)}function I(x,M,L,X){var ct=L.type;return ct===G?Y(x,M,L.props.children,X,L.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&ey(ct)===M.type)?(M=h(M,L.props),il(M,L),M.return=x,M):(M=Mu(L.type,L.key,L.props,null,x.mode,X),il(M,L),M.return=x,M)}function z(x,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=rf(L,x.mode,X),M.return=x,M):(M=h(M,L.children||[]),M.return=x,M)}function Y(x,M,L,X,ct){return M===null||M.tag!==7?(M=Rs(L,x.mode,X,ct),M.return=x,M):(M=h(M,L),M.return=x,M)}function Z(x,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nf(""+M,x.mode,L),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return L=Mu(M.type,M.key,M.props,null,x.mode,L),il(L,M),L.return=x,L;case k:return M=rf(M,x.mode,L),M.return=x,M;case w:var X=M._init;return M=X(M._payload),Z(x,M,L)}if(ne(M)||P(M))return M=Rs(M,x.mode,L,null),M.return=x,M;if(typeof M.then=="function")return Z(x,Xu(M),L);if(M.$$typeof===st)return Z(x,ku(x,M),L);$u(x,M)}return null}function B(x,M,L,X){var ct=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:T(x,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ct?I(x,M,L,X):null;case k:return L.key===ct?z(x,M,L,X):null;case w:return ct=L._init,L=ct(L._payload),B(x,M,L,X)}if(ne(L)||P(L))return ct!==null?null:Y(x,M,L,X,null);if(typeof L.then=="function")return B(x,M,Xu(L),X);if(L.$$typeof===st)return B(x,M,ku(x,L),X);$u(x,L)}return null}function j(x,M,L,X,ct){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return x=x.get(L)||null,T(M,x,""+X,ct);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return x=x.get(X.key===null?L:X.key)||null,I(M,x,X,ct);case k:return x=x.get(X.key===null?L:X.key)||null,z(M,x,X,ct);case w:var Ct=X._init;return X=Ct(X._payload),j(x,M,L,X,ct)}if(ne(X)||P(X))return x=x.get(L)||null,Y(M,x,X,ct,null);if(typeof X.then=="function")return j(x,M,L,Xu(X),ct);if(X.$$typeof===st)return j(x,M,L,ku(M,X),ct);$u(M,X)}return null}function Et(x,M,L,X){for(var ct=null,Ct=null,ft=M,yt=M=0,Ve=null;ft!==null&&yt<L.length;yt++){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var zt=B(x,ft,L[yt],X);if(zt===null){ft===null&&(ft=Ve);break}e&&ft&&zt.alternate===null&&i(x,ft),M=d(zt,M,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt,ft=Ve}if(yt===L.length)return a(x,ft),Bt&&Cs(x,yt),ct;if(ft===null){for(;yt<L.length;yt++)ft=Z(x,L[yt],X),ft!==null&&(M=d(ft,M,yt),Ct===null?ct=ft:Ct.sibling=ft,Ct=ft);return Bt&&Cs(x,yt),ct}for(ft=l(ft);yt<L.length;yt++)Ve=j(ft,x,yt,L[yt],X),Ve!==null&&(e&&Ve.alternate!==null&&ft.delete(Ve.key===null?yt:Ve.key),M=d(Ve,M,yt),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return e&&ft.forEach(function(Vr){return i(x,Vr)}),Bt&&Cs(x,yt),ct}function gt(x,M,L,X){if(L==null)throw Error(s(151));for(var ct=null,Ct=null,ft=M,yt=M=0,Ve=null,zt=L.next();ft!==null&&!zt.done;yt++,zt=L.next()){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var Vr=B(x,ft,zt.value,X);if(Vr===null){ft===null&&(ft=Ve);break}e&&ft&&Vr.alternate===null&&i(x,ft),M=d(Vr,M,yt),Ct===null?ct=Vr:Ct.sibling=Vr,Ct=Vr,ft=Ve}if(zt.done)return a(x,ft),Bt&&Cs(x,yt),ct;if(ft===null){for(;!zt.done;yt++,zt=L.next())zt=Z(x,zt.value,X),zt!==null&&(M=d(zt,M,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return Bt&&Cs(x,yt),ct}for(ft=l(ft);!zt.done;yt++,zt=L.next())zt=j(ft,x,yt,zt.value,X),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?yt:zt.key),M=d(zt,M,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return e&&ft.forEach(function(eb){return i(x,eb)}),Bt&&Cs(x,yt),ct}function Xt(x,M,L,X){if(typeof L=="object"&&L!==null&&L.type===G&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:t:{for(var ct=L.key;M!==null;){if(M.key===ct){if(ct=L.type,ct===G){if(M.tag===7){a(x,M.sibling),X=h(M,L.props.children),X.return=x,x=X;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&ey(ct)===M.type){a(x,M.sibling),X=h(M,L.props),il(X,L),X.return=x,x=X;break t}a(x,M);break}else i(x,M);M=M.sibling}L.type===G?(X=Rs(L.props.children,x.mode,X,L.key),X.return=x,x=X):(X=Mu(L.type,L.key,L.props,null,x.mode,X),il(X,L),X.return=x,x=X)}return v(x);case k:t:{for(ct=L.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(x,M.sibling),X=h(M,L.children||[]),X.return=x,x=X;break t}else{a(x,M);break}else i(x,M);M=M.sibling}X=rf(L,x.mode,X),X.return=x,x=X}return v(x);case w:return ct=L._init,L=ct(L._payload),Xt(x,M,L,X)}if(ne(L))return Et(x,M,L,X);if(P(L)){if(ct=P(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),gt(x,M,L,X)}if(typeof L.then=="function")return Xt(x,M,Xu(L),X);if(L.$$typeof===st)return Xt(x,M,ku(x,L),X);$u(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(x,M.sibling),X=h(M,L),X.return=x,x=X):(a(x,M),X=nf(L,x.mode,X),X.return=x,x=X),v(x)):a(x,M)}return function(x,M,L,X){try{nl=0;var ct=Xt(x,M,L,X);return Da=null,ct}catch(ft){if(ft===Ko||ft===Uu)throw ft;var Ct=fn(29,ft,null,x.mode);return Ct.lanes=X,Ct.return=x,Ct}finally{}}}var Na=ny(!0),iy=ny(!1),Cn=J(null),oi=null;function _r(e){var i=e.alternate;rt(Ie,Ie.current&1),rt(Cn,e),oi===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(oi=e)}function ry(e){if(e.tag===22){if(rt(Ie,Ie.current),rt(Cn,e),oi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(oi=e)}}else vr()}function vr(){rt(Ie,Ie.current),rt(Cn,Cn.current)}function xi(e){lt(Cn),oi===e&&(oi=null),lt(Ie)}var Ie=J(0);function Zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Lf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=pr(l);h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,l),i!==null&&(yn(i,e,l),Xo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,l),i!==null&&(yn(i,e,l),Xo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=pr(a);l.tag=2,i!=null&&(l.callback=i),i=gr(e,l,a),i!==null&&(yn(i,e,a),Xo(i,e,a))}};function sy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function ay(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Uf.enqueueReplaceState(i,i.state,null)}function Ps(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oy(e){Wu(e)}function ly(e){console.error(e)}function uy(e){Wu(e)}function Ju(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,i,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(e,i)},a}function hy(e){return e=pr(e),e.tag=3,e}function fy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){cy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){cy(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return oi===null?ud():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hd(e,l,h)),!1;case 22:return a.flags|=65536,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hd(e,l,h)),!1}throw Error(s(435,a.tag))}return hd(e,l,h),ud(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(e=Error(s(422),{cause:l}),Ho(bn(e,a)))):(l!==of&&(i=Error(s(423),{cause:l}),Ho(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=zf(e.stateNode,l,h),yf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),cl===null?cl=[d]:cl.push(d),ce!==4&&(ce=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,l,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,e,a,l),yf(a,h),!1}a=a.return}while(a!==null);return!1}var dy=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?iy(i,null,a,l):Na(i,e.child,a,l)}function my(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ms(i),l=Af(e,i,a,v,d,h),T=Sf(),e!==null&&!Oe?(bf(e,i,h),Pi(e,i,h)):(Bt&&T&&sf(i),i.flags|=1,Ue(e,i,l,h),i.child)}function py(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,gy(e,i,d,l,h)):(e=Mu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Kf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(v,l)&&e.ref===i.ref)return Pi(e,i,h)}return i.flags|=1,e=Ci(d,l),e.ref=i.ref,e.return=i,i.child=e}function gy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(zo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,Kf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Pi(e,i,h)}return Bf(e,i,a,l,h)}function yy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return _y(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,d!==null?d.cachePool:null),d!==null?gg(i,d):vf(),ry(i);else return i.lanes=i.childLanes=536870912,_y(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Lu(i,d.cachePool),gg(i,d),vr(),i.memoizedState=null):(e!==null&&Lu(i,null),vf(),vr());return Ue(e,i,h,a),i.child}function _y(e,i,a,l){var h=df();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Lu(i,null),vf(),ry(i),e!==null&&Fo(e,i,l,!0),null}function tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Bf(e,i,a,l,h){return Ms(i),a=Af(e,i,a,l,void 0,h),l=Sf(),e!==null&&!Oe?(bf(e,i,h),Pi(e,i,h)):(Bt&&l&&sf(i),i.flags|=1,Ue(e,i,a,h),i.child)}function vy(e,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=_g(i,l,a,h),yg(e),l=Sf(),e!==null&&!Oe?(bf(e,i,d),Pi(e,i,d)):(Bt&&l&&sf(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Ey(e,i,a,l,h){if(Ms(i),i.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):Ea,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Uf.enqueueReplaceState(d,d.state,null),Zo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ps(a,T);d.props=I;var z=d.context,Y=a.contextType;v=Ea,typeof Y=="object"&&Y!==null&&(v=Qe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&ay(i,d,l,v),mr=!1;var B=i.memoizedState;d.state=B,Zo(i,l,d,h),$o(),z=i.memoizedState,T||B!==z||mr?(typeof Z=="function"&&(Lf(i,a,Z,l),z=i.memoizedState),(I=mr||sy(i,a,I,l,B,z,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gf(e,i),v=i.memoizedProps,Y=Ps(a,v),d.props=Y,Z=i.pendingProps,B=d.context,z=a.contextType,I=Ea,typeof z=="object"&&z!==null&&(I=Qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||B!==I)&&ay(i,d,l,I),mr=!1,B=i.memoizedState,d.state=B,Zo(i,l,d,h),$o();var j=i.memoizedState;v!==Z||B!==j||mr||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof T=="function"&&(Lf(i,a,T,l),j=i.memoizedState),(Y=mr||sy(i,a,Y,l,B,j,I)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Na(i,e.child,null,h),i.child=Na(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Pi(e,i,h),e}function Ty(e,i,a,l){return qo(),i.flags|=256,Ue(e,i,a,l),i.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:lg()}}function Hf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Ay(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?_r(i):vr(),Bt){var T=ue,I;if(I=T){t:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break t}if(I=Fn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,ue=null,I=!0):I=!1}I||Ns(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rd(T)?i.lanes=32:i.lanes=536870912,null;xi(i)}return T=l.children,l=l.fallback,h?(vr(),h=i.mode,T=ec({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=qf(a),h.childLanes=Hf(e,v,a),i.memoizedState=jf,l):(_r(i),Ff(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=Gf(e,i,a)):i.memoizedState!==null?(vr(),i.child=e.child,i.flags|=128,i=null):(vr(),h=l.fallback,T=i.mode,l=ec({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Na(i,e.child,null,a),l=i.child,l.memoizedState=qf(a),l.childLanes=Hf(e,v,a),i.memoizedState=jf,i=h);else if(_r(i),Rd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Ho({value:l,source:null,stack:null}),i=Gf(e,i,a)}else if(Oe||Fo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ao(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,va(e,l),yn(v,e,l),dy;T.data==="$?"||ud(),i=Gf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ue=Fn(T.nextSibling),nn=i,Bt=!0,Ds=null,ai=!1,e!==null&&(Rn[In++]=Di,Rn[In++]=Ni,Rn[In++]=Is,Di=e.id,Ni=e.overflow,Is=i),i=Ff(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,T=i.mode,I=e.child,z=I.sibling,l=Ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=Ci(z,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=qf(a):(I=T.cachePool,I!==null?(z=Re._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=lg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Hf(e,v,a),i.memoizedState=jf,l):(_r(i),a=e.child,e=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Ff(e,i){return i=ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ec(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gf(e,i,a){return Na(i,e.child,null,a),e=Ff(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),uf(e.return,i,a)}function Qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function by(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,i);else if(e.tag===19)Sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(i,!0,a,null,d);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Fo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ci(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ci(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Kf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function nS(e,i,a){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),dr(i,Re,e.memoizedState.cache),qo();break;case 27:case 5:_o(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ay(e,i,a):(_r(i),e=Pi(e,i,a),e!==null?e.sibling:null);_r(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return by(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,yy(e,i,a);case 24:dr(i,Re,e.memoizedState.cache)}return Pi(e,i,a)}function wy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Kf(e,a)&&(i.flags&128)===0)return Oe=!1,nS(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&eg(i,xu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ef(l)?(e=Ps(l,e),i.tag=1,i=Ey(null,i,l,e,a)):(i.tag=0,i=Bf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Rt){i.tag=11,i=my(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=py(null,i,l,e,a);break t}}throw i=le(l)||l,Error(s(306,i,""))}}return i;case 0:return Bf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),Ey(e,i,l,h,a);case 3:t:{if(Gt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,gf(e,i),Zo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,dr(i,Re,l),l!==d.cache&&cf(i,[Re],a,!0),$o(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ty(e,i,l,a);break t}else if(l!==h){h=bn(Error(s(424)),i),Ho(h),i=Ty(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Fn(e.firstChild),nn=i,Bt=!0,Ds=null,ai=!0,a=iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){i=Pi(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return tc(e,i),e===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=pc(vt.current).createElement(a),l[de]=i,l[Le]=e,Be(l,a,e),me(l),i.stateNode=l):i.memoizedState=D_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _o(i),e===null&&Bt&&(l=i.stateNode=R_(i.type,i.pendingProps,vt.current),nn=i,ai=!0,h=ue,Cr(i.type)?(Id=h,ue=Fn(l.firstChild)):ue=h),Ue(e,i,i.pendingProps.children,a),tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ue)&&(l=NS(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,nn=i,ue=Fn(l.firstChild),ai=!1,h=!0):h=!1),h||Ns(i)),_o(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Sd(h,d)?l=null:v!==null&&Sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,YA,null,null,a),vl._currentValue=h),tc(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ue)&&(a=OS(a,i.pendingProps,ai),a!==null?(i.stateNode=a,nn=i,ue=null,e=!0):e=!1),e||Ns(i)),null;case 13:return Ay(e,i,a);case 4:return Gt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Na(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return my(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,dr(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Qe(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return py(e,i,i.type,i.pendingProps,a);case 15:return gy(e,i,i.type,i.pendingProps,a);case 19:return by(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=ec(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return yy(e,i,a);case 24:return Ms(i),l=Qe(Re),e===null?(h=df(),h===null&&(h=Wt,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pf(i),dr(i,Re,h)):((e.lanes&a)!==0&&(gf(e,i),Zo(i,null,null,a),$o()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),dr(i,Re,l)):(l=d.cache,dr(i,Re,l),l!==h.cache&&cf(i,[Re],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ki(e){e.flags|=4}function Ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(i)){if(i=Cn.current,i!==null&&((kt&4194048)===kt?oi!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==oi))throw Yo=mf,ug;e.flags|=8192}}function nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,xa|=i)}function rl(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function iS(e,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(Re),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jo(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rg())),ae(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(ae(i),Ry(i,a)):(ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),ae(i),Ry(i,a)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&ki(i),ae(i),i.flags&=-16777217),null;case 27:Js(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=dt.current,jo(i)?ng(i):(e=R_(h,l,a),i.stateNode=e,ki(i))}return ae(i),null;case 5:if(Js(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(e=dt.current,jo(i))ng(i);else{switch(h=pc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[de]=i,e[Le]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,jo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[de]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||Ns(i)}else e=pc(e).createTextNode(l),e[de]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=jo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[de]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=rg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),ae(i),null;case 4:return xn(),e===null&&_d(i.stateNode.containerInfo),ae(i),null;case 10:return Mi(i.type),ae(i),null;case 19:if(lt(Ie),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Zu(e),d!==null){for(i.flags|=128,rl(h,!1),e=d.updateQueue,i.updateQueue=e,nc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)tg(a,e),a=a.sibling;return rt(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&rn()>sc&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Zu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,nc(i,e),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ae(i),null}else 2*rn()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,e=Ie.current,rt(Ie,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return xi(i),Ef(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&lt(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(Re),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rS(e,i){switch(af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Mi(Re),xn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Js(i),null;case 13:if(xi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt(Ie),null;case 4:return xn(),null;case 10:return Mi(i.type),null;case 22:case 23:return xi(i),Ef(),e!==null&&lt(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Mi(Re),null;case 25:return null;default:return null}}function Iy(e,i){switch(af(i),i.tag){case 3:Mi(Re),xn();break;case 26:case 27:case 5:Js(i);break;case 4:xn();break;case 13:xi(i);break;case 19:lt(Ie);break;case 10:Mi(i.type);break;case 22:case 23:xi(i),Ef(),e!==null&&lt(Vs);break;case 24:Mi(Re)}}function sl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Er(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(Y){$t(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){$t(i,i.return,Y)}}function Cy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{pg(i,a)}catch(l){$t(e,e.return,l)}}}function Dy(e,i,a){a.props=Ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function al(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function li(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Ny(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Yf(e,i,a){try{var l=e.stateNode;wS(l,e.type,a,i),l[Le]=i}catch(h){$t(e,e.return,h)}}function Oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&(l===27&&Cr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for($f(e,i,a),e=e.sibling;e!==null;)$f(e,i,a),e=e.sibling}function ic(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Cr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,i,a),e=e.sibling;e!==null;)ic(e,i,a),e=e.sibling}function My(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[de]=e,i[Le]=a}catch(d){$t(e,e.return,d)}}var Li=!1,ye=!1,Zf=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function sS(e,i){if(e=e.containerInfo,Td=Tc,e=Fp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,z=0,Y=0,Z=e,B=null;e:for(;;){for(var j;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(j=Z.firstChild)!==null;)B=Z,Z=j;for(;;){if(Z===e)break e;if(B===a&&++z===h&&(T=v),B===d&&++Y===l&&(I=v),(j=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=j}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Tc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=Ps(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function xy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(e,a),l&4&&sl(5,a);break;case 1:if(Tr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&Cy(a),l&512&&al(a,a.return);break;case 3:if(Tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{pg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&My(a);case 26:case 5:Tr(e,a),i===null&&l&4&&Ny(a),l&512&&al(a,a.return);break;case 12:Tr(e,a);break;case 13:Tr(e,a),l&4&&Ly(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mS.bind(null,a),MS(e,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||ye,h=Li;var d=ye;Li=l,(ye=i)&&!d?Ar(e,a,(a.subtreeFlags&8772)!==0):Tr(e,a),Li=h,ye=d}break;case 30:break;default:Tr(e,a)}}function Py(e){var i=e.alternate;i!==null&&(e.alternate=null,Py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ra(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,an=!1;function Ui(e,i,a){for(a=a.child;a!==null;)ky(e,i,a),a=a.sibling}function ky(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 26:ye||li(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||li(a,i);var l=ie,h=an;Cr(a.type)&&(ie=a.stateNode,an=!1),Ui(e,i,a),pl(a.stateNode),ie=l,an=h;break;case 5:ye||li(a,i);case 6:if(l=ie,h=an,ie=null,Ui(e,i,a),ie=l,an=h,ie!==null)if(an)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ie.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ie!==null&&(an?(e=ie,b_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Sl(e)):b_(ie,a.stateNode));break;case 4:l=ie,h=an,ie=a.stateNode.containerInfo,an=!0,Ui(e,i,a),ie=l,an=h;break;case 0:case 11:case 14:case 15:ye||Er(2,a,i),ye||Er(4,a,i),Ui(e,i,a);break;case 1:ye||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dy(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,Ui(e,i,a),ye=l;break;default:Ui(e,i,a)}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(a){$t(i,i.return,a)}}function aS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Vy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Vy),i;default:throw Error(s(435,e.tag))}}function Wf(e,i){var a=aS(e);i.forEach(function(l){var h=pS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Cr(T.type)){ie=T.stateNode,an=!1;break t}break;case 5:ie=T.stateNode,an=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ie===null)throw Error(s(160));ky(d,v,h),ie=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,e),i=i.sibling}var Hn=null;function Uy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(Er(3,e,e.return),sl(3,e),Er(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(ye||a===null||li(a,a.return)),l&64&&Li&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(dn(i,e),mn(e),l&512&&(ye||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[de]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[de]=e,me(d),l=d;break t;case"link":var v=M_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=M_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[de]=e,me(d),l=d}e.stateNode=l}else V_(h,e.type,e.stateNode);else e.stateNode=O_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V_(h,e.type,e.stateNode):O_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(ye||a===null||li(a,a.return)),a!==null&&l&4&&Yf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(ye||a===null||li(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(j){$t(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){$t(e,e.return,j)}}break;case 3:if(_c=null,h=Hn,Hn=gc(i.containerInfo),dn(i,e),Hn=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(j){$t(e,e.return,j)}Zf&&(Zf=!1,zy(e));break;case 4:l=Hn,Hn=gc(e.stateNode.containerInfo),dn(i,e),mn(e),Hn=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rd=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wf(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Li,Y=ye;if(Li=z||h,ye=Y||I,dn(i,e),ye=Y,Li=z,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Li||ye||ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){$t(I,I.return,j)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(j){$t(I,I.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wf(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wf(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Oy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Xf(e);ic(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=Xf(e);ic(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Xf(e);$f(e,z,I);break;default:throw Error(s(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(e,i.alternate,i),i=i.sibling}function ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),ks(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dy(i,i.return,a),ks(i);break;case 27:pl(i.stateNode);case 26:case 5:li(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),sl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)mg(I[h],T)}catch(z){$t(l,l.return,z)}}a&&v&64&&Cy(d),al(d,d.return);break;case 27:My(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&Ny(d),al(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&Ly(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),al(d,d.return);break;case 30:break;default:Ar(h,d,a)}i=i.sibling}}function Jf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function td(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function ui(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)By(e,i,a,l),i=i.sibling}function By(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(e,i,a,l),h&2048&&sl(9,i);break;case 1:ui(e,i,a,l);break;case 3:ui(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ui(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(i,i.return,I)}}else ui(e,i,a,l);break;case 13:ui(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ui(e,i,a,l):ol(e,i):d._visibility&2?ui(e,i,a,l):(d._visibility|=2,Oa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Jf(v,i);break;case 24:ui(e,i,a,l),h&2048&&td(i.alternate,i);break;default:ui(e,i,a,l)}}function Oa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,T,I,h),sl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Oa(d,v,T,I,h):ol(d,v):(Y._visibility|=2,Oa(d,v,T,I,h)),h&&z&2048&&Jf(v.alternate,v);break;case 24:Oa(d,v,T,I,h),h&&z&2048&&td(v.alternate,v);break;default:Oa(d,v,T,I,h)}i=i.sibling}}function ol(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ol(a,l),h&2048&&Jf(l.alternate,l);break;case 24:ol(a,l),h&2048&&td(l.alternate,l);break;default:ol(a,l)}i=i.sibling}}var ll=8192;function Ma(e){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 26:Ma(e),e.flags&ll&&e.memoizedState!==null&&GS(Hn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e);break;case 3:case 4:var i=Hn;Hn=gc(e.stateNode.containerInfo),Ma(e),Hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,Ma(e),ll=i):Ma(e));break;default:Ma(e)}}function qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ul(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Fy(l,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Er(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,rc(e)):ul(e);break;default:ul(e)}}function rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Fy(l,e)}qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Er(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}e=e.sibling}}function Fy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Py(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var oS={getCacheForType:function(e){var i=Qe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},lS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Nt=null,kt=0,Ft=0,pn=null,Sr=!1,Va=!1,ed=!1,zi=0,ce=0,br=0,Ls=0,nd=0,Dn=0,xa=0,cl=null,on=null,id=!1,rd=0,sc=1/0,ac=null,wr=null,ze=0,Rr=null,Pa=null,ka=0,sd=0,ad=null,Gy=null,hl=0,od=null;function gn(){if((Ht&2)!==0&&kt!==0)return kt&-kt;if(K.T!==null){var e=Sa;return e!==0?e:md()}return Ti()}function Qy(){Dn===0&&(Dn=(kt&536870912)===0||Bt?To():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(La(e,0),Ir(e,kt,Dn,!1)),fe(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ls|=a),ce===4&&Ir(e,kt,Dn,!1)),ci(e))}function Ky(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=l?hS(e,i):cd(e,i,!0),d=l;do{if(h===0){Va&&!l&&Ir(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!uS(a)){h=cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=cl;var I=T.current.memoizedState.isDehydrated;if(I&&(La(T,v).flags|=256),v=cd(T,v,!1),v!==2){if(ed&&!I){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(e,0),Ir(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,Dn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=rd+300-rn(),10<h)){if(Ir(l,i,Dn,!Sr),En(l,0,!0)!==0)break t;l.timeoutHandle=A_(Yy.bind(null,l,a,on,ac,id,i,Dn,Ls,xa,Sr,d,2,-0,0),h);break t}Yy(l,a,on,ac,id,i,Dn,Ls,xa,Sr,d,0,-0,0)}}break}while(!0);ci(e)}function Yy(e,i,a,l,h,d,v,T,I,z,Y,Z,B,j){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:FS},jy(i),Z=QS(),Z!==null)){e.cancelPendingCommit=Z(e_.bind(null,e,i,d,a,l,h,v,T,I,Y,1,B,j)),Ir(e,d,v,!z);return}e_(e,i,d,a,l,h,v,T,I)}function uS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(e,i,a,l){i&=~nd,i&=~Ls,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-We(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&er(e,a,i)}function oc(){return(Ht&6)===0?(fl(0),!1):!0}function ld(){if(Nt!==null){if(Ft===0)var e=Nt.return;else e=Nt,Oi=Os=null,wf(e),Da=null,nl=0,e=Nt;for(;e!==null;)Iy(e.alternate,e),e=e.return;Nt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,IS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ld(),Wt=e,Nt=a=Ci(e.current,null),kt=i,Ft=0,pn=null,Sr=!1,Va=Ji(e,i),ed=!1,xa=Dn=nd=Ls=br=ce=0,on=cl=null,id=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-We(l),d=1<<h;i|=e[h],l&=~d}return zi=i,Du(),a}function Xy(e,i){It=null,K.H=Yu,i===Ko||i===Uu?(i=fg(),Ft=3):i===ug?(i=fg(),Ft=4):Ft=i===dy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Nt===null&&(ce=1,Ju(e,bn(i,e.current)))}function $y(){var e=K.H;return K.H=Yu,e===null?Yu:e}function Zy(){var e=K.A;return K.A=oS,e}function ud(){ce=4,Sr||(kt&4194048)!==kt&&Cn.current!==null||(Va=!0),(br&134217727)===0&&(Ls&134217727)===0||Wt===null||Ir(Wt,kt,Dn,!1)}function cd(e,i,a){var l=Ht;Ht|=2;var h=$y(),d=Zy();(Wt!==e||kt!==i)&&(ac=null,La(e,i)),i=!1;var v=ce;t:do try{if(Ft!==0&&Nt!==null){var T=Nt,I=pn;switch(Ft){case 8:ld(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var z=Ft;if(Ft=0,pn=null,Ua(e,T,I,z),a&&Va){v=0;break t}break;default:z=Ft,Ft=0,pn=null,Ua(e,T,I,z)}}cS(),v=ce;break}catch(Y){Xy(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Oi=Os=null,Ht=l,K.H=h,K.A=d,Nt===null&&(Wt=null,kt=0,Du()),v}function cS(){for(;Nt!==null;)Wy(Nt)}function hS(e,i){var a=Ht;Ht|=2;var l=$y(),h=Zy();Wt!==e||kt!==i?(ac=null,sc=rn()+500,La(e,i)):Va=Ji(e,i);t:do try{if(Ft!==0&&Nt!==null){i=Nt;var d=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ua(e,i,d,1);break;case 2:case 9:if(cg(d)){Ft=0,pn=null,Jy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ci(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:cg(d)?(Ft=0,pn=null,Jy(i)):(Ft=0,pn=null,Ua(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||x_(v)){Ft=0,pn=null;var I=T.sibling;if(I!==null)Nt=I;else{var z=T.return;z!==null?(Nt=z,lc(z)):Nt=null}break e}}Ft=0,pn=null,Ua(e,i,d,5);break;case 6:Ft=0,pn=null,Ua(e,i,d,6);break;case 8:ld(),ce=6;break t;default:throw Error(s(462))}}fS();break}catch(Y){Xy(e,Y)}while(!0);return Oi=Os=null,K.H=l,K.A=h,Ht=a,Nt!==null?0:(Wt=null,kt=0,Du(),ce)}function fS(){for(;Nt!==null&&!Lh();)Wy(Nt)}function Wy(e){var i=wy(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?lc(e):Nt=i}function Jy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=vy(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=vy(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:wf(i);default:Iy(a,i),i=Nt=tg(i,zi),i=wy(a,i,zi)}e.memoizedProps=e.pendingProps,i===null?lc(e):Nt=i}function Ua(e,i,a,l){Oi=Os=null,wf(i),Da=null,nl=0;var h=i.return;try{if(eS(e,h,i,a,kt)){ce=1,Ju(e,bn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,Ju(e,bn(a,e.current)),Nt=null;return}i.flags&32768?(Bt||l===1?e=!0:Va||(kt&536870912)!==0?e=!1:(Sr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,e)):lc(i)}function lc(e){var i=e;do{if((i.flags&32768)!==0){t_(i,Sr);return}e=i.return;var a=iS(i.alternate,i,zi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function t_(e,i){do{var a=rS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function e_(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do uc();while(ze!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Jh,fu(e,a,d,v,T,I),e===Wt&&(Nt=Wt=null,kt=0),Pa=i,Rr=e,ka=a,sd=d,ad=h,Gy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gS(Ei,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=at.p,at.p=2,v=Ht,Ht|=4;try{sS(e,i,a)}finally{Ht=v,at.p=h,K.T=l}}ze=1,n_(),i_(),r_()}}function n_(){if(ze===1){ze=0;var e=Rr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var h=Ht;Ht|=4;try{Uy(i,e);var d=Ad,v=Fp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Hp(T.ownerDocument.documentElement,T)){if(I!==null&&Yh(T)){var z=I.start,Y=I.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var j=B.getSelection(),Et=T.textContent.length,gt=Math.min(I.start,Et),Xt=I.end===void 0?gt:Math.min(I.end,Et);!j.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var x=qp(T,gt),M=qp(T,Xt);if(x&&M&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var L=Z.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),gt>Xt?(j.addRange(L),j.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),j.addRange(L))}}}}for(Z=[],j=T;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Tc=!!Td,Ad=Td=null}finally{Ht=h,at.p=l,K.T=a}}e.current=i,ze=2}}function i_(){if(ze===2){ze=0;var e=Rr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var h=Ht;Ht|=4;try{xy(e,i.alternate,i)}finally{Ht=h,at.p=l,K.T=a}}ze=3}}function r_(){if(ze===4||ze===3){ze=0,vo();var e=Rr,i=Pa,a=ka,l=Gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Pa=Rr=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),So(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Zi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=at.p,at.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,at.p=h}}(ka&3)!==0&&uc(),ci(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===od?hl++:(hl=0,od=e):hl=0,fl(0)}}function s_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function uc(e){return n_(),i_(),r_(),a_()}function a_(){if(ze!==5)return!1;var e=Rr,i=sd;sd=0;var a=So(ka),l=K.T,h=at.p;try{at.p=32>a?32:a,K.T=null,a=ad,ad=null;var d=Rr,v=ka;if(ze=0,Pa=Rr=null,ka=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Hy(d.current),By(d,d.current,v,a),Ht=T,fl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Zi,d)}catch{}return!0}finally{at.p=h,K.T=l,s_(e,i)}}function o_(e,i,a){i=bn(a,i),i=zf(e.stateNode,i,2),e=gr(e,i,2),e!==null&&(fe(e,2),ci(e))}function $t(e,i,a){if(e.tag===3)o_(e,e,a);else for(;i!==null;){if(i.tag===3){o_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=bn(a,e),a=hy(2),l=gr(i,a,2),l!==null&&(fy(a,l,i,e),fe(l,2),ci(l));break}}i=i.return}}function hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new lS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ed=!0,h.add(a),e=dS.bind(null,e,i,a),i.then(e,e))}function dS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(ce===4||ce===3&&(kt&62914560)===kt&&300>rn()-rd?(Ht&2)===0&&La(e,0):nd|=a,xa===kt&&(xa=0)),ci(e)}function l_(e,i){i===0&&(i=tr()),e=va(e,i),e!==null&&(fe(e,i),ci(e))}function mS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),l_(e,a)}function pS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),l_(e,a)}function gS(e,i){return ns(e,i)}var cc=null,za=null,fd=!1,hc=!1,dd=!1,Us=0;function ci(e){e!==za&&e.next===null&&(za===null?cc=za=e:za=za.next=e),hc=!0,fd||(fd=!0,_S())}function fl(e,i){if(!dd&&hc){dd=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-We(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=kt,d=En(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ji(l,d)||(a=!0,f_(l,d));l=l.next}while(a);dd=!1}}function yS(){u_()}function u_(){hc=fd=!1;var e=0;Us!==0&&(RS()&&(e=Us),Us=0);for(var i=rn(),a=null,l=cc;l!==null;){var h=l.next,d=c_(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(za=a)):(a=l,(e!==0||(d&3)!==0)&&(hc=!0)),l=h}fl(e)}function c_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-We(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=na(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=kt,a=En(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ea(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ea(l),So(a)){case 2:case 8:a=De;break;case 32:a=Ei;break;case 268435456:a=Eo;break;default:a=Ei}return l=h_.bind(null,e),a=ns(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ea(l),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=kt;return l=En(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ky(e,l,i),c_(e,rn()),e.callbackNode!=null&&e.callbackNode===a?h_.bind(null,e):null)}function f_(e,i){if(uc())return null;Ky(e,i,!0)}function _S(){CS(function(){(Ht&6)!==0?ns(be,yS):u_()})}function md(){return Us===0&&(Us=To()),Us}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Un(""+e)}function m_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function vS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=d_((h[Le]||null).action),v=l.submitter;v&&(i=(i=v[Le]||null)?d_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ys("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=v?m_(h,v):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?m_(h,v):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var pd=0;pd<Wh.length;pd++){var gd=Wh[pd],ES=gd.toLowerCase(),TS=gd[0].toUpperCase()+gd.slice(1);qn(ES,"on"+TS)}qn(Kp,"onAnimationEnd"),qn(Yp,"onAnimationIteration"),qn(Xp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(UA,"onTransitionRun"),qn(zA,"onTransitionStart"),qn(BA,"onTransitionCancel"),qn($p,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function p_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Wu(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Wu(Y)}h.currentTarget=null,d=I}}}}function Ot(e,i){var a=i[rs];a===void 0&&(a=i[rs]=new Set);var l=e+"__bubble";a.has(l)||(g_(i,e,2,!1),a.add(l))}function yd(e,i,a){var l=0;i&&(l|=4),g_(a,e,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[fc]){e[fc]=!0,du.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fc]||(i[fc]=!0,yd("selectionchange",!1,i))}}function g_(e,i,a,l){switch(B_(i)){case 2:var h=XS;break;case 8:h=$S;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!Ri||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function vd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Jn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ms(function(){var z=d,Y=No(a),Z=[];t:{var B=Zp.get(e);if(B!==void 0){var j=ys,Et=e;switch(e){case"keypress":if(ps(a)===0)break t;case"keydown":case"keyup":j=pa;break;case"focusin":Et="focus",j=fa;break;case"focusout":Et="blur",j=fa;break;case"beforeblur":case"afterblur":j=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fr;break;case Kp:case Yp:case Xp:j=Mo;break;case $p:j=p;break;case"scroll":case"scrollend":j=vs;break;case"wheel":j=A;break;case"copy":case"cut":case"paste":j=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Po;break;case"toggle":case"beforetoggle":j=H}var gt=(i&4)!==0,Xt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var M=z,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||x===null||(X=cr(M,x),X!=null&&gt.push(ml(M,X,L))),Xt)break;M=M.return}0<gt.length&&(B=new j(B,Et,null,a,Y),Z.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&a!==Do&&(Et=a.relatedTarget||a.fromElement)&&(Jn(Et)||Et[Ai]))break t;if((j||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Et=a.relatedTarget||a.toElement,j=z,Et=Et?Jn(Et):null,Et!==null&&(Xt=u(Et),gt=Et.tag,Et!==Xt||gt!==5&&gt!==27&&gt!==6)&&(Et=null)):(j=null,Et=z),j!==Et)){if(gt=As,X="onMouseLeave",x="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Po,X="onPointerLeave",x="onPointerEnter",M="pointer"),Xt=j==null?B:rr(j),L=Et==null?B:rr(Et),B=new gt(X,M+"leave",j,a,Y),B.target=Xt,B.relatedTarget=L,X=null,Jn(Y)===z&&(gt=new gt(x,M+"enter",Et,a,Y),gt.target=L,gt.relatedTarget=Xt,X=gt),Xt=X,j&&Et)e:{for(gt=j,x=Et,M=0,L=gt;L;L=Ba(L))M++;for(L=0,X=x;X;X=Ba(X))L++;for(;0<M-L;)gt=Ba(gt),M--;for(;0<L-M;)x=Ba(x),L--;for(;M--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Ba(gt),x=Ba(x)}gt=null}else gt=null;j!==null&&y_(Z,B,j,gt,!1),Et!==null&&Xt!==null&&y_(Z,Xt,Et,gt,!0)}}t:{if(B=z?rr(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ct=kp;else if(xp(B))if(Lp)ct=PA;else{ct=VA;var Ct=MA}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ua(z.elementType)&&(ct=kp):ct=xA;if(ct&&(ct=ct(e,z))){Pp(Z,ct,a,Y);break t}Ct&&Ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ro(B,"number",B.value)}switch(Ct=z?rr(z):window,e){case"focusin":(xp(Ct)||Ct.contentEditable==="true")&&(ga=Ct,Xh=z,Bo=null);break;case"focusout":Bo=Xh=ga=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Gp(Z,a,Y);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Gp(Z,a,Y)}var ft;if(St)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else jn?zn(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(pe&&a.locale!=="ko"&&(jn||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&jn&&(ft=vu()):(Sn=Y,Zt="value"in Sn?Sn.value:Sn.textContent,jn=!0)),Ct=dc(z,yt),0<Ct.length&&(yt=new xo(yt,e,null,a,Y),Z.push({event:yt,listeners:Ct}),ft?yt.data=ft:(ft=Bn(a),ft!==null&&(yt.data=ft)))),(ft=qt?ko(e,a):DA(e,a))&&(yt=dc(z,"onBeforeInput"),0<yt.length&&(Ct=new xo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ct,listeners:yt}),Ct.data=ft)),vS(Z,e,z,a,Y)}p_(Z,i)})}function ml(e,i,a){return{instance:e,listener:i,currentTarget:a}}function dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=cr(e,a),h!=null&&l.unshift(ml(e,h,d)),h=cr(e,i),h!=null&&l.push(ml(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=cr(a,d),z!=null&&v.unshift(ml(a,z,I))):h||(z=cr(a,d),z!=null&&v.push(ml(a,z,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var SS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(SS,`
`).replace(bS,"")}function v_(e,i){return i=__(i),__(e)===i}function mc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":us(e,"class",l);break;case"tabIndex":us(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":us(e,a,l);break;case"style":Co(e,l,d);break;case"data":if(i!=="object"){us(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Un(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Un(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=mc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Un(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ls(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,ls(e,a,l))}}function Ed(e,i,a,l,h,d){switch(a){case"style":Co(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ls(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Yt(e,i,l,Y,a,null)}}wo(e,d,T,I,z,v,h,!1),or(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?lr(e,!!l,i,!1):a!=null&&lr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}pu(e,l,h,d),or(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,I,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ot(dl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,z,l,a,null)}return;default:if(ua(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ed(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function wS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,z=null,Y=null;for(j in a){var Z=a[j];if(a.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(j)||Yt(e,i,j,null,l,Z)}}for(var B in l){var j=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(j!=null||Z!=null))switch(B){case"type":d=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Z&&Yt(e,i,B,j,l,Z)}}bo(e,v,T,I,z,Y,d,h);return;case"select":j=v=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":j=I;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Yt(e,i,h,d,l,I)}i=T,a=v,l=j,B!=null?lr(e,!!a,B,!1):!!l!=!!a&&(i!=null?lr(e,!!a,i,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}mu(e,B,j);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Yt(e,i,Et,null,l,B)}for(I in l)if(B=l[I],j=a[I],l.hasOwnProperty(I)&&B!==j&&(B!=null||j!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,i,I,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Yt(e,i,gt,null,l,B);for(z in l)if(B=l[z],j=a[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Yt(e,i,z,B,l,j)}return;default:if(ua(i)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&Ed(e,i,Xt,void 0,l,B);for(Y in l)B=l[Y],j=a[Y],!l.hasOwnProperty(Y)||B===j||B===void 0&&j===void 0||Ed(e,i,Y,B,l,j);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(e,i,x,null,l,B);for(Z in l)B=l[Z],j=a[Z],!l.hasOwnProperty(Z)||B===j||B==null&&j==null||Yt(e,i,Z,B,l,j)}var Td=null,Ad=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function RS(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(DS)}:A_;function DS(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function b_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&pl(v.documentElement),a&2&&pl(v.body),a&4)for(a=v.head,pl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ir]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(i)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function OS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Id=null;function w_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function R_(e,i,a){switch(i=pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function pl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ra(e)}var Nn=new Map,I_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=at.d;at.d={f:VS,r:xS,D:PS,C:kS,L:LS,m:US,X:BS,S:zS,M:jS};function VS(){var e=Bi.f(),i=oc();return e||i}function xS(e){var i=ti(e);i!==null&&i.tag===5&&i.type==="form"?Kg(i):Bi.r(e)}var ja=typeof document>"u"?null:document;function C_(e,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=Ne(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),me(i),l.head.appendChild(i)))}}function PS(e){Bi.D(e),C_("dns-prefetch",e,null)}function kS(e,i){Bi.C(e,i),C_("preconnect",e,i)}function LS(e,i,a){Bi.L(e,i,a);var l=ja;if(l&&e&&i){var h='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ne(a.imageSizes)+'"]')):h+='[href="'+Ne(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=Ha(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),Be(i,"link",e),me(i),l.head.appendChild(i)))}}function US(e,i){Bi.m(e,i);var a=ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),Be(l,"link",e),me(l),a.head.appendChild(l)}}}function zS(e,i,a){Bi.S(e,i,a);var l=ja;if(l&&e){var h=sr(l).hoistableStyles,d=qa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(gl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Cd(e,a);var I=v=l.createElement("link");me(I),Be(I,"link",e),I._p=new Promise(function(z,Y){I.onload=z,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function BS(e,i){Bi.X(e,i);var a=ja;if(a&&e){var l=sr(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&Dd(e,i),d=a.createElement("script"),me(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jS(e,i){Bi.M(e,i);var a=ja;if(a&&e){var l=sr(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&Dd(e,i),d=a.createElement("script"),me(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function D_(e,i,a,l){var h=(h=vt.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=sr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=sr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(gl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||qS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=sr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+Ne(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function qS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),me(i),e.head.appendChild(i))}function Ha(e){return'[src="'+Ne(e)+'"]'}function yl(e){return"script[async]"+e}function O_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(l)return i.instance=l,me(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),me(l),Be(l,"style",h),yc(l,a.precedence,e),i.instance=l;case"stylesheet":h=qa(a.href);var d=e.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,me(d),d;l=N_(a),(h=Nn.get(h))&&Cd(l,h),d=(e.ownerDocument||e).createElement("link"),me(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Be(d,"link",l),i.state.loading|=4,yc(d,a.precedence,e),i.instance=d;case"script":return d=Ha(a.src),(h=e.querySelector(yl(d)))?(i.instance=h,me(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),Dd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,e));return i.instance}function yc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function M_(e,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ir]||d[de]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function V_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function HS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _l=null;function FS(){}function GS(e,i,a){if(_l===null)throw Error(s(475));var l=_l;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=e.querySelector(gl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=vc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,me(d);return}d=e.ownerDocument||e,a=N_(a),(h=Nn.get(h))&&Cd(a,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function QS(){if(_l===null)throw Error(s(475));var e=_l;return e.stylesheets&&e.count===0&&Nd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Nd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Nd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(KS,e),Ec=null,vc.call(e))}function KS(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var l=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:st,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function YS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function P_(e,i,a,l,h,d,v,T,I,z,Y,Z){return e=new YS(e,i,a,v,T,I,z,Z),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pf(d),e}function k_(e){return e?(e=Ea,e):Ea}function L_(e,i,a,l,h,d){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gr(e,l,i),a!==null&&(yn(a,e,i),Xo(a,e,i))}function U_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){U_(e,i),(e=e.alternate)&&U_(e,i)}function z_(e){if(e.tag===13){var i=va(e,67108864);i!==null&&yn(i,e,67108864),Od(e,67108864)}}var Tc=!0;function XS(e,i,a,l){var h=K.T;K.T=null;var d=at.p;try{at.p=2,Md(e,i,a,l)}finally{at.p=d,K.T=h}}function $S(e,i,a,l){var h=K.T;K.T=null;var d=at.p;try{at.p=8,Md(e,i,a,l)}finally{at.p=d,K.T=h}}function Md(e,i,a,l){if(Tc){var h=Vd(l);if(h===null)vd(e,i,l,Ac,a),j_(e,l);else if(WS(h,e,i,a,l))l.stopPropagation();else if(j_(e,l),i&4&&-1<ZS.indexOf(e)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-We(v);T.entanglements[1]|=I,v&=~I}ci(d),(Ht&6)===0&&(sc=rn()+500,fl(0))}}break;case 13:T=va(d,2),T!==null&&yn(T,d,2),oc(),Od(d,2)}if(d=Vd(l),d===null&&vd(e,i,l,Ac,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(e,i,l,null,a)}}function Vd(e){return e=No(e),xd(e)}var Ac=null;function xd(e){if(Ac=null,e=Jn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ac=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uu()){case be:return 2;case De:return 8;case Ei:case Uh:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var Pd=!1,Dr=null,Nr=null,Or=null,El=new Map,Tl=new Map,Mr=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,i){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function WS(e,i,a,l,h){switch(i){case"focusin":return Dr=Al(Dr,e,i,a,l,h),!0;case"dragenter":return Nr=Al(Nr,e,i,a,l,h),!0;case"mouseover":return Or=Al(Or,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Al(El.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Al(Tl.get(d)||null,e,i,a,l,h)),!0}return!1}function q_(e){var i=Jn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jh(e.priority,function(){if(a.tag===13){var l=gn();l=Ao(l);var h=va(a,l);h!==null&&yn(h,a,l),Od(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Do=l,a.target.dispatchEvent(l),Do=null}else return i=ti(a),i!==null&&z_(i),e.blockedOn=a,!1;i.shift()}return!0}function H_(e,i,a){Sc(e)&&a.delete(i)}function JS(){Pd=!1,Dr!==null&&Sc(Dr)&&(Dr=null),Nr!==null&&Sc(Nr)&&(Nr=null),Or!==null&&Sc(Or)&&(Or=null),El.forEach(H_),Tl.forEach(H_)}function bc(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JS)))}var wc=null;function F_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(xd(l||a)===null)continue;break}var d=ti(a);d!==null&&(e.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(e){function i(I){return bc(I,e)}Dr!==null&&bc(Dr,e),Nr!==null&&bc(Nr,e),Or!==null&&bc(Or,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Le]||null;if(typeof d=="function")v||F_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Le]||null)T=v.formAction;else if(xd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),F_(a)}}}function kd(e){this._internalRoot=e}Rc.prototype.render=kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();L_(a,l,e,i,null,null)},Rc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;L_(e.current,2,null,e,null,null),oc(),i[Ai]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ti();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&q_(e)}};var G_=t.version;if(G_!=="19.1.1")throw Error(s(527,G_,"19.1.1"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var tb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Zi=Ic.inject(tb),Fe=Ic}catch{}}return wl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=oy,d=ly,v=uy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=P_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ai]=i.current,_d(e),new kd(i)},wl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=oy,v=ly,T=uy,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=P_(e,1,!0,i,a??null,l,h,d,v,T,I,z),i.context=k_(null),a=i.current,l=gn(),l=Ao(l),h=pr(l),h.callback=null,gr(a,h,l),a=l,i.current.lanes=a,fe(i,a),ci(i),e[Ai]=i.current,_d(e),new Rc(i)},wl.version="19.1.1",wl}var ev;function hb(){if(ev)return zd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=cb(),zd.exports}var fb=hb();const db=kE(fb);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function mb(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Xs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),im("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ul(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return gb(t,n,s,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Vn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pb(){return Math.random().toString(36).substring(2,10)}function iv(r,t){return{usr:r.state,key:r.key,idx:t}}function im(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Xs(t):t,state:n,key:t&&t.key||s||pb()}}function Ul({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Xs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function gb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let q=E(),nt=q==null?null:q-y;y=q,g&&g({action:m,location:Q.location,delta:nt})}function b(q,nt){m="PUSH";let tt=im(Q.location,q,nt);n&&n(tt,q),y=E()+1;let st=iv(tt,y),Rt=Q.createHref(tt);try{f.pushState(st,"",Rt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(Rt)}u&&g&&g({action:m,location:Q.location,delta:1})}function k(q,nt){m="REPLACE";let tt=im(Q.location,q,nt);n&&n(tt,q),y=E();let st=iv(tt,y),Rt=Q.createHref(tt);f.replaceState(st,"",Rt),u&&g&&g({action:m,location:Q.location,delta:0})}function G(q){return yb(q)}let Q={get action(){return m},get location(){return r(o,f)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(nv,S),g=q,()=>{o.removeEventListener(nv,S),g=null}},createHref(q){return t(o,q)},createURL:G,encodeLocation(q){let nt=G(q);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:b,replace:k,go(q){return f.go(q)}};return Q}function yb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ul(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LE(r,t,n="/"){return _b(r,t,n,!1)}function _b(r,t,n,s){let o=typeof t=="string"?Xs(t):t,u=Gi(o.pathname||"/",n);if(u==null)return null;let f=UE(r);vb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Nb(u);m=Cb(f[g],y,s)}return m}function UE(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;re(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Fi([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(re(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),UE(f.children,t,b,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:Rb(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of zE(f.path))u(f,m,!0,g)}),t}function zE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function vb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Ib(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Eb=/^:[\w-]+$/,Tb=3,Ab=2,Sb=1,bb=10,wb=-2,rv=r=>r==="*";function Rb(r,t){let n=r.split("/"),s=n.length;return n.some(rv)&&(s+=wb),t&&(s+=Ab),n.filter(o=>!rv(o)).reduce((o,u)=>o+(Eb.test(u)?Tb:u===""?Sb:bb),s)}function Ib(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Cb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Fi([u,S.pathname]),pathnameBase:xb(Fi([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Fi([u,S.pathnameBase]))}return f}function Kc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Db(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let G=m[b]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[b];return S&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Db(r,t=!1,n=!0){Vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Nb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Gi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Ob(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Xs(r):r;return{pathname:n?n.startsWith("/")?n:Mb(n,t):t,search:Pb(s),hash:kb(o)}}function Mb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vm(r){let t=Vb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function xm(r,t,n,s=!1){let o;typeof r=="string"?o=Xs(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),Hd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),Hd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),Hd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?t[S]:"/"}let g=Ob(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Fi=r=>r.join("/").replace(/\/\/+/g,"/"),xb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Lb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var Ub=["GET",...BE];new Set(Ub);var oo=F.createContext(null);oo.displayName="DataRouter";var dh=F.createContext(null);dh.displayName="DataRouterState";F.createContext(!1);var jE=F.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var zb=F.createContext(new Map);zb.displayName="Fetchers";var Bb=F.createContext(null);Bb.displayName="Await";var $n=F.createContext(null);$n.displayName="Navigation";var Yl=F.createContext(null);Yl.displayName="Location";var vi=F.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Pm=F.createContext(null);Pm.displayName="RouteError";function jb(r,{relative:t}={}){re(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext($n),{hash:o,pathname:u,search:f}=Xl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Fi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lo(){return F.useContext(Yl)!=null}function Jr(){return re(lo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Yl).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HE(r){F.useContext($n).static||F.useLayoutEffect(r)}function FE(){let{isDataRoute:r}=F.useContext(vi);return r?t1():qb()}function qb(){re(lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(oo),{basename:t,navigator:n}=F.useContext($n),{matches:s}=F.useContext(vi),{pathname:o}=Jr(),u=JSON.stringify(Vm(s)),f=F.useRef(!1);return HE(()=>{f.current=!0}),F.useCallback((g,y={})=>{if(Vn(f.current,qE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=xm(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Fi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}F.createContext(null);function Xl(r,{relative:t}={}){let{matches:n}=F.useContext(vi),{pathname:s}=Jr(),o=JSON.stringify(Vm(n));return F.useMemo(()=>xm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Hb(r,t){return GE(r,t)}function GE(r,t,n,s,o){re(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext($n),{matches:f}=F.useContext(vi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let tt=S&&S.path||"";QE(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let b=Jr(),k;if(t){let tt=typeof t=="string"?Xs(t):t;re(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),k=tt}else k=b;let G=k.pathname||"/",Q=G;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Q="/"+G.replace(/^\//,"").split("/").slice(tt.length).join("/")}let q=LE(r,{pathname:Q});Vn(S||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Vn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=Yb(q&&q.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:Fi([E,u.encodeLocation?u.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Fi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,s,o);return t&&nt?F.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},nt):nt}function Fb(){let r=Jb(),t=Lb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var Gb=F.createElement(Fb,null),Qb=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?F.createElement(vi.Provider,{value:this.props.routeContext},F.createElement(Pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kb({routeContext:r,match:t,children:n}){let s=F.useContext(oo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(vi.Provider,{value:r},n)}function Yb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:S,errors:b}=n,k=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||k){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,S)=>{let b,k=!1,G=null,Q=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||Gb,m&&(g<0&&S===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):g===S&&(k=!0,Q=E.route.hydrateFallbackElement||null)));let q=t.concat(u.slice(0,S+1)),nt=()=>{let tt;return b?tt=G:k?tt=Q:E.route.Component?tt=F.createElement(E.route.Component,null):E.route.element?tt=E.route.element:tt=y,F.createElement(Kb,{match:E,routeContext:{outlet:y,matches:q,isDataRoute:n!=null},children:tt})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?F.createElement(Qb,{location:n.location,revalidation:n.revalidation,component:G,error:b,children:nt(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):nt()},null)}function km(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(r){let t=F.useContext(oo);return re(t,km(r)),t}function $b(r){let t=F.useContext(dh);return re(t,km(r)),t}function Zb(r){let t=F.useContext(vi);return re(t,km(r)),t}function Lm(r){let t=Zb(r),n=t.matches[t.matches.length-1];return re(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Wb(){return Lm("useRouteId")}function Jb(){let r=F.useContext(Pm),t=$b("useRouteError"),n=Lm("useRouteError");return r!==void 0?r:t.errors?.[n]}function t1(){let{router:r}=Xb("useNavigate"),t=Lm("useNavigate"),n=F.useRef(!1);return HE(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Vn(n.current,qE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var sv={};function QE(r,t,n){!t&&!sv[r]&&(sv[r]=!0,Vn(!1,n))}F.memo(e1);function e1({routes:r,future:t,state:n,unstable_onError:s}){return GE(r,void 0,n,s,t)}function n1({to:r,replace:t,state:n,relative:s}){re(lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext($n);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(vi),{pathname:f}=Jr(),m=FE(),g=xm(r,Vm(u),f,s==="path"),y=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Il(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){re(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Xs(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:b="default"}=n,k=F.useMemo(()=>{let G=Gi(g,f);return G==null?null:{location:{pathname:G,search:y,hash:E,state:S,key:b},navigationType:s}},[f,g,y,E,S,b,s]);return Vn(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement($n.Provider,{value:m},F.createElement(Yl.Provider,{children:t,value:k}))}function r1({children:r,location:t}){return Hb(rm(r),t)}function rm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,rm(s.props.children,u));return}re(s.type===Il,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=rm(s.props.children,u)),n.push(f)}),n}var Pc="get",kc="application/x-www-form-urlencoded";function mh(r){return r!=null&&typeof r.tagName=="string"}function s1(r){return mh(r)&&r.tagName.toLowerCase()==="button"}function a1(r){return mh(r)&&r.tagName.toLowerCase()==="form"}function o1(r){return mh(r)&&r.tagName.toLowerCase()==="input"}function l1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function u1(r,t){return r.button===0&&(!t||t==="_self")&&!l1(r)}var Cc=null;function c1(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(r){return r!=null&&!h1.has(r)?(Vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):r}function f1(r,t){let n,s,o,u,f;if(a1(r)){let m=r.getAttribute("action");s=m?Gi(m,t):null,n=r.getAttribute("method")||Pc,o=Fd(r.getAttribute("enctype"))||kc,u=new FormData(r)}else if(s1(r)||o1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Gi(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Pc,o=Fd(r.getAttribute("formenctype"))||Fd(m.getAttribute("enctype"))||kc,u=new FormData(m,r),!c1()){let{name:y,type:E,value:S}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pc,s=null,o=kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Um(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function d1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Gi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function m1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function g1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(s.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function av(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function y1(r,t,{includeHydrateFallback:n}={}){return _1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _1(r){return[...new Set(r)]}function v1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function E1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(v1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function KE(){let r=F.useContext(oo);return Um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function T1(){let r=F.useContext(dh);return Um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zm=F.createContext(void 0);zm.displayName="FrameworkContext";function YE(){let r=F.useContext(zm);return Um(r,"You must render this element inside a <HydratedRouter> element"),r}function A1(r,t){let n=F.useContext(zm),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=nt=>{nt.forEach(tt=>{f(tt.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return b.current&&q.observe(b.current),()=>{q.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Rl(m,k),onBlur:Rl(g,G),onMouseEnter:Rl(y,k),onMouseLeave:Rl(E,G),onTouchStart:Rl(S,k)}]:[!1,b,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function S1({page:r,...t}){let{router:n}=KE(),s=F.useMemo(()=>LE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(w1,{page:r,matches:s,...t}):null}function b1(r){let{manifest:t,routeModules:n}=YE(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return g1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function w1({page:r,matches:t,...n}){let s=Jr(),{manifest:o,routeModules:u}=YE(),{basename:f}=KE(),{loaderData:m,matches:g}=T1(),y=F.useMemo(()=>av(r,t,g,o,s,"data"),[r,t,g,o,s]),E=F.useMemo(()=>av(r,t,g,o,s,"assets"),[r,t,g,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Q=!1;if(t.forEach(nt=>{let tt=o.routes[nt.route.id];!tt||!tt.hasLoader||(!y.some(st=>st.route.id===nt.route.id)&&nt.route.id in m&&u[nt.route.id]?.shouldRevalidate||tt.hasClientLoader?Q=!0:G.add(nt.route.id))}),G.size===0)return[];let q=d1(r,f,"data");return Q&&G.size>0&&q.searchParams.set("_routes",t.filter(nt=>G.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,t,r,u]),b=F.useMemo(()=>y1(E,o),[E,o]),k=b1(E);return F.createElement(F.Fragment,null,S.map(G=>F.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),b.map(G=>F.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),k.map(({key:G,link:Q})=>F.createElement("link",{key:G,nonce:n.nonce,...Q})))}function R1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.9.1")}catch{}function I1({basename:r,children:t,window:n}){let s=F.useRef();s.current==null&&(s.current=mb({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(g=>{F.startTransition(()=>f(g))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(i1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var $E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...b},k){let{basename:G}=F.useContext($n),Q=typeof y=="string"&&$E.test(y),q,nt=!1;if(typeof y=="string"&&Q&&(q=y,XE))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=Gi(V.pathname,G);V.origin===R.origin&&N!=null?y=N+V.search+V.hash:nt=!0}catch{Vn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=jb(y,{relative:o}),[st,Rt,ht]=A1(s,b),Dt=O1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function O(R){t&&t(R),R.defaultPrevented||Dt(R)}let w=F.createElement("a",{...b,...ht,href:q||tt,onClick:nt||u?t:O,ref:R1(k,Rt),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return st&&!Q?F.createElement(F.Fragment,null,w,F.createElement(S1,{page:tt})):w});ZE.displayName="Link";var C1=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Xl(f,{relative:y.relative}),b=Jr(),k=F.useContext(dh),{navigator:G,basename:Q}=F.useContext($n),q=k!=null&&k1(S)&&m===!0,nt=G.encodeLocation?G.encodeLocation(S).pathname:S.pathname,tt=b.pathname,st=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),st=st?st.toLowerCase():null,nt=nt.toLowerCase()),st&&Q&&(st=Gi(st,Q)||st);const Rt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ht=tt===nt||!o&&tt.startsWith(nt)&&tt.charAt(Rt)==="/",Dt=st!=null&&(st===nt||!o&&st.startsWith(nt)&&st.charAt(nt.length)==="/"),O={isActive:ht,isPending:Dt,isTransitioning:q},w=ht?t:void 0,R;typeof s=="function"?R=s(O):R=[s,ht?"active":null,Dt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return F.createElement(ZE,{...y,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(O):g)});C1.displayName="NavLink";var D1=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Pc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...b},k)=>{let G=x1(),Q=P1(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&$E.test(m),tt=st=>{if(g&&g(st),st.defaultPrevented)return;st.preventDefault();let Rt=st.nativeEvent.submitter,ht=Rt?.getAttribute("formmethod")||f;G(Rt||st.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return F.createElement("form",{ref:k,method:q,action:Q,onSubmit:s?g:tt,...b,"data-discover":!nt&&r==="render"?"true":void 0})});D1.displayName="Form";function N1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(r){let t=F.useContext(oo);return re(t,N1(r)),t}function O1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=FE(),g=Jr(),y=Xl(r,{relative:u});return F.useCallback(E=>{if(u1(E,t)){E.preventDefault();let S=n!==void 0?n:Ul(g)===Ul(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,o,u,f])}var M1=0,V1=()=>`__${String(++M1)}__`;function x1(){let{router:r}=WE("useSubmit"),{basename:t}=F.useContext($n),n=Wb();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=f1(s,t);if(o.navigate===!1){let E=o.fetcherKey||V1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function P1(r,{relative:t}={}){let{basename:n}=F.useContext($n),s=F.useContext(vi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Xl(r||".",{relative:t})},f=Jr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fi([n,u.pathname])),Ul(u)}function k1(r,{relative:t}={}){let n=F.useContext(jE);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),o=Xl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Gi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Gi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kc(o.pathname,f)!=null||Kc(o.pathname,u)!=null}const L1=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},U1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,k=y&63;g||(k=64,f||(b=64)),s.push(n[E],n[S],n[b],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(JE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):U1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new z1;const b=u<<2|m>>4;if(s.push(b),y!==64){const k=m<<4&240|y>>2;if(s.push(k),S!==64){const G=y<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const t=JE(r);return tT.encodeByteArray(t,!0)},Yc=function(r){return B1(r).replace(/\./g,"")},eT=function(r){try{return tT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=()=>j1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&eT(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return L1()||q1()||H1()||F1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nT=r=>ph()?.emulatorHosts?.[r],G1=r=>{const t=nT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iT=()=>ph()?.config,rT=r=>ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(n)),Yc(JSON.stringify(f)),""].join(".")}const Ml={};function Y1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function X1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let lv=!1;function aT(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Ml[r]===t||Ml[r]||lv)return;Ml[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=Y1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{lv=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=X1(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),q=document.getElementById(Q)||document.createElement("a"),nt=n("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const st=b.element;m(st),E(q,Q);const Rt=y();g(tt,nt),st.append(tt,G,q,Rt),document.body.appendChild(st)}u?(G.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Z1(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ew(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nw(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function rw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="FirebaseError";class $i extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=sw,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?aw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $i(o,m,s)}}function aw(r,t){return r.replace(ow,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const ow=/\{\$([^}]+)}/g;function lw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(uv(u)&&uv(f)){if(!Hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function uw(r,t){const n=new cw(r,t);return n.subscribe.bind(n)}class cw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Q1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mw(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(r){return r===zs?void 0:r}function mw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const gw={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},yw=Vt.INFO,_w={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},vw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=_w[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bm{constructor(t){this.name=t,this._logLevel=yw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const Ew=(r,t)=>t.some(n=>r instanceof n);let cv,hv;function Tw(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aw(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,sm=new WeakMap,lT=new WeakMap,Qd=new WeakMap,jm=new WeakMap;function Sw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&oT.set(n,r)}).catch(()=>{}),jm.set(t,r),t}function bw(r){if(sm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});sm.set(r,t)}let am={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||lT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ww(r){am=r(am)}function Rw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Kd(this),t,...n);return lT.set(s,t.sort?t.sort():[t]),zr(s)}:Aw().includes(r)?function(...t){return r.apply(Kd(this),t),zr(oT.get(this))}:function(...t){return zr(r.apply(Kd(this),t))}}function Iw(r){return typeof r=="function"?Rw(r):(r instanceof IDBTransaction&&bw(r),Ew(r,Tw())?new Proxy(r,am):r)}function zr(r){if(r instanceof IDBRequest)return Sw(r);if(Qd.has(r))return Qd.get(r);const t=Iw(r);return t!==r&&(Qd.set(r,t),jm.set(t,r)),t}const Kd=r=>jm.get(r);function Cw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(zr(f.result),g.oldVersion,g.newVersion,zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Dw=["get","getKey","getAll","getAllKeys","count"],Nw=["put","add","delete","clear"],Yd=new Map;function fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Nw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Dw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Yd.set(t,u),u}ww(r=>({...r,get:(t,n,s)=>fv(t,n)||r.get(t,n,s),has:(t,n)=>!!fv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mw(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",dv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Bm("@firebase/app"),Vw="@firebase/app-compat",xw="@firebase/analytics-compat",Pw="@firebase/analytics",kw="@firebase/app-check-compat",Lw="@firebase/app-check",Uw="@firebase/auth",zw="@firebase/auth-compat",Bw="@firebase/database",jw="@firebase/data-connect",qw="@firebase/database-compat",Hw="@firebase/functions",Fw="@firebase/functions-compat",Gw="@firebase/installations",Qw="@firebase/installations-compat",Kw="@firebase/messaging",Yw="@firebase/messaging-compat",Xw="@firebase/performance",$w="@firebase/performance-compat",Zw="@firebase/remote-config",Ww="@firebase/remote-config-compat",Jw="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",rR="firebase",sR="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",aR={[om]:"fire-core",[Vw]:"fire-core-compat",[Pw]:"fire-analytics",[xw]:"fire-analytics-compat",[Lw]:"fire-app-check",[kw]:"fire-app-check-compat",[Uw]:"fire-auth",[zw]:"fire-auth-compat",[Bw]:"fire-rtdb",[jw]:"fire-data-connect",[qw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Fw]:"fire-fn-compat",[Gw]:"fire-iid",[Qw]:"fire-iid-compat",[Kw]:"fire-fcm",[Yw]:"fire-fcm-compat",[Xw]:"fire-perf",[$w]:"fire-perf-compat",[Zw]:"fire-rc",[Ww]:"fire-rc-compat",[Jw]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,oR=new Map,um=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(n){Qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if(um.has(t))return Qi.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,r);for(const n of Xc.values())mv(n,r);for(const n of oR.values())mv(n,r);return!0}function qm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new $l("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=sR;function uT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:lm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw Br.create("no-options");const u=Xc.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new pw(o);for(const g of um.values())f.addComponent(g);const m=new uR(n,s,f);return Xc.set(o,m),m}function cT(r=lm){const t=Xc.get(r);if(!t&&r===lm&&iT())return uT();if(!t)throw Br.create("no-app",{appName:r});return t}function jr(r,t,n){let s=aR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qi.warn(f.join(" "));return}Ja(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",hR=1,zl="firebase-heartbeat-store";let Xd=null;function hT(){return Xd||(Xd=Cw(cR,hR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function fR(r){try{const n=(await hT()).transaction(zl),s=await n.objectStore(zl).get(fT(r));return await n.done,s}catch(t){if(t instanceof $i)Qi.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t?.message});Qi.warn(n.message)}}}async function pv(r,t){try{const s=(await hT()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,fT(r)),await s.done}catch(n){if(n instanceof $i)Qi.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(s.message)}}}function fT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,mR=30;class pR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:n,unsentEntries:s}=gR(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function gR(r,t=dR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),yv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?rw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yv(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function _R(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){Ja(new Fs("platform-logger",t=>new Ow(t),"PRIVATE")),Ja(new Fs("heartbeat",t=>new pR(t),"PRIVATE")),jr(om,dv,r),jr(om,dv,"esm2020"),jr("fire-js","")}vR("");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ER=dT,mT=new $l("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Bm("@firebase/auth");function TR(r,...t){$c.logLevel<=Vt.WARN&&$c.warn(`Auth (${co}): ${r}`,...t)}function Lc(r,...t){$c.logLevel<=Vt.ERROR&&$c.error(`Auth (${co}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(r,...t){throw Fm(r,...t)}function Qn(r,...t){return Fm(r,...t)}function Hm(r,t,n){const s={...ER(),[t]:n};return new $l("auth","Firebase",s).create(t,{appName:r.name})}function qr(r){return Hm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&yi(r,"argument-error"),Hm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mT.create(r,...t)}function Tt(r,t,...n){if(!r)throw Fm(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function Ki(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function SR(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||J1()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile=$1()||tw()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new Wl(3e4,6e4);function gh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,n,s,o={}){return gT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return W1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await _T(r,r.config.apiHost,n,m),y)})}async function gT(r,t,n){r._canInitEmulator=!1;const s={...RR,...t};try{const o=new DR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Dc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hm(r,E,y);yi(r,E)}}catch(o){if(o instanceof $i)throw o;yi(r,"network-request-failed",{message:String(o)})}}async function yT(r,t,n,s,o={}){const u=await ho(r,t,n,s,o);return"mfaPendingCredential"in u&&yi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _T(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Gm(r.config,o):`${r.config.apiScheme}://${o}`;return IR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),CR.get())})}}function Dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OR(r,t=!1){const n=Pe(r),s=await n.getIdToken(t),o=Qm(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Vl($d(o.auth_time)),issuedAtTime:Vl($d(o.iat)),expirationTime:Vl($d(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $d(r){return Number(r)*1e3}function Qm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(n);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function vv(r){const t=Qm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof $i&&MR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){const t=r.auth,n=await r.getIdToken(),s=await Bl(r,Zc(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?vT(o.providerUserInfo):[],f=PR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function xR(r){const t=Pe(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function vT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,t){const n=await gT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await _T(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(g.credentials="include"),pT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(r,t){return ho(r,"POST","/v2/accounts:revokeToken",gh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=vv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Gn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new VR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return OR(this,t)}reload(){return xR(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await Bl(this,NR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:k,providerData:G,stsTokenManager:Q}=n;Tt(S&&Q,t,"internal-error");const q=Ya.fromJSON(this.name,Q);Tt(typeof S=="string",t,"internal-error"),xr(s,t.name),xr(o,t.name),Tt(typeof b=="boolean",t,"internal-error"),Tt(typeof k=="boolean",t,"internal-error"),xr(u,t.name),xr(f,t.name),xr(m,t.name),xr(g,t.name),xr(y,t.name),xr(E,t.name);const nt=new Gn({uid:S,auth:t,email:o,emailVerified:b,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(nt.providerData=G.map(tt=>({...tt}))),g&&(nt._redirectEventId=g),nt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ya;m.updateFromIdToken(s);const g=new Gn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function Hi(r){Ki(r instanceof Function,"Expected a class definition");let t=Ev.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Ev.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ET.type="NONE";const Tv=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zc(this.auth,{idToken:t}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,t):null}return Gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Hi(Tv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Hi(Tv);const f=Uc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await Zc(t,{idToken:E}).catch(()=>{});if(!b)break;S=await Gn._fromGetAccountInfoResponse(t,b,E)}else S=Gn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(IT(t))return"Webos";if(AT(t))return"Safari";if((t.includes("chrome/")||ST(t))&&!t.includes("edge/"))return"Chrome";if(wT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function TT(r=Ze()){return/firefox\//i.test(r)}function AT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ST(r=Ze()){return/crios\//i.test(r)}function bT(r=Ze()){return/iemobile/i.test(r)}function wT(r=Ze()){return/android/i.test(r)}function RT(r=Ze()){return/blackberry/i.test(r)}function IT(r=Ze()){return/webos/i.test(r)}function Km(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UR(r=Ze()){return Km(r)&&!!window.navigator?.standalone}function zR(){return ew()&&document.documentMode===10}function CT(r=Ze()){return Km(r)||wT(r)||IT(r)||RT(r)||/windows phone/i.test(r)||bT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,t=[]){let n;switch(r){case"Browser":n=Av(Ze());break;case"Worker":n=`${Av(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(r,t={}){return ho(r,"GET","/v2/passwordPolicy",gh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=6;class HR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zc(this,{idToken:t}),s=await Gn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(On(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(qr(this));const n=t?Pe(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jR(this),n=new HR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jl(r){return Pe(r)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GR(r){Ym=r}function QR(r){return Ym.loadJS(r)}function KR(){return Ym.gapiScript}function YR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r,t){const n=qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,t??{}))return o;yi(o,"already-initialized")}return n.initialize({options:t})}function $R(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function ZR(r,t,n){const s=Jl(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=NT(t),{host:f,port:m}=WR(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Hs(y,s.config.emulator)&&Hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uo(f)?(sT(`${u}//${f}${g}`),aT("Auth",!0)):JR()}function NT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function WR(r){const t=NT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:bv(f)}}}function bv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function JR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return yT(r,"POST","/v1/accounts:signInWithIdp",gh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="http://localhost";class Gs extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends tu{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends tu{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t){return yT(r,"POST","/v1/accounts:signUp",gh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Gn._fromIdTokenResponse(t,s,o),f=wv(s);return new Qr({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=wv(s);return new Qr({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r){if(On(r.app))return Promise.reject(qr(r));const t=Jl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Qr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await eI(t,{returnSecureToken:!0}),s=await Qr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends $i{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Jc(t,n,s,o)}}function MT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,u,t,s):u})}async function iI(r,t,n=!1){const s=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qr._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,t,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(qr(s));const o="reauthenticate";try{const u=await Bl(r,MT(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const f=Qm(u.idToken);Tt(f,s,"internal-error");const{sub:m}=f;return Tt(r.uid===m,s,"user-mismatch"),Qr._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r,t,n=!1){if(On(r.app))return Promise.reject(qr(r));const s="signIn",o=await MT(r,s,t),u=await Qr._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,t){return Pe(r).setPersistence(t)}function oI(r,t,n,s){return Pe(r).onIdTokenChanged(t,n,s)}function lI(r,t,n){return Pe(r).beforeAuthStateChanged(t,n)}function uI(r,t,n,s){return Pe(r).onAuthStateChanged(t,n,s)}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1e3,hI=10;class xT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,hI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}xT.type="LOCAL";const PT=xT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kT.type="SESSION";const LT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await fI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=$m("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function mI(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function yI(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",_I=1,eh="firebaseLocalStorage",BT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(r,t){return r.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function vI(){const r=indexedDB.deleteDatabase(zT);return new eu(r).toPromise()}function fm(){const r=indexedDB.open(zT,_I);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(eh,{keyPath:BT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(eh)?t(s):(s.close(),await vI(),t(await fm()))})})}async function Rv(r,t,n){const s=_h(r,!0).put({[BT]:t,value:n});return new eu(s).toPromise()}async function EI(r,t){const n=_h(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function Iv(r,t){const n=_h(r,!0).delete(t);return new eu(n).toPromise()}const TI=800,AI=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>AI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(yI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await Rv(t,th,"1"),await Iv(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>EI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Iv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=_h(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const SI=jT;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t){return t?Hi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends OT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bI(r){return sI(r.auth,new Zm(r),r.bypassAuthState)}function wI(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),rI(n,new Zm(r),r.bypassAuthState)}async function RI(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),iI(n,new Zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return wI;default:yi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Wl(2e3,1e4);async function CI(r,t,n){if(On(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=Jl(r);AR(r,t,Xm);const o=qT(s,n);return new Bs(s,"signInViaPopup",t,o).executeNotNull()}class Bs extends HT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,II.get())};t()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="pendingRedirect",zc=new Map;class NI extends HT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const s=await OI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OI(r,t){const n=xI(t),s=VI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function MI(r,t){zc.set(r._key(),t)}function VI(r){return Hi(r._redirectPersistence)}function xI(r){return Uc(DI,r.config.apiKey,r.name)}async function PI(r,t,n=!1){if(On(r.app))return Promise.reject(qr(r));const s=Jl(r),o=qT(s,t),f=await new NI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=600*1e3;class LI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!FT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(t))}saveEventToCache(t){this.cachedEventUids.add(Cv(t)),this.lastProcessedEventTime=Date.now()}}function Cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function FT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function UI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,t={}){return ho(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jI=/^https?/;async function qI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zI(r);for(const n of t)try{if(HI(n))return}catch{}yi(r,"unauthorized-domain")}function HI(r){const t=cm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!jI.test(n))return!1;if(BI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Wl(3e4,6e4);function Dv(){const r=fi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GI(r){return new Promise((t,n)=>{function s(){Dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dv(),n(Qn(r,"network-request-failed"))},timeout:FI.get()})}if(fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(fi().gapi?.load)s();else{const o=YR("iframefcb");return fi()[o]=()=>{gapi.load?s():n(Qn(r,"network-request-failed"))},QR(`${KR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function QI(r){return Bc=Bc||GI(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Wl(5e3,15e3),YI="__/auth/iframe",XI="emulator/auth/iframe",$I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Gm(t,XI):`https://${r.config.authDomain}/${YI}`,s={apiKey:t.apiKey,appName:r.name,v:co},o=ZI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function JI(r){const t=await QI(r),n=fi().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:WI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$I,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},KI.get());function g(){fi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eC=500,nC=600,iC="_blank",rC="http://localhost";class Nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sC(r,t,n,s=eC,o=nC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...tC,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=ST(y)?iC:n),TT(y)&&(t=t||rC,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[k,G])=>`${b}${k}=${G},`,"");if(UR(y)&&m!=="_self")return aC(t||"",m),new Nv(null);const S=window.open(t||"",m,E);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new Nv(S)}function aC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="__/auth/handler",lC="emulator/auth/handler",uC=encodeURIComponent("fac");async function Ov(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:o};if(t instanceof Xm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",lw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof tu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${uC}=${encodeURIComponent(g)}`:"";return`${cC(r)}?${Zl(m).slice(1)}${y}`}function cC({config:r}){return r.emulator?Gm(r,lC):`https://${r.authDomain}/${oC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class hC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=PI,this._overrideRedirectResult=MI}async _openPopup(t,n,s,o){Ki(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ov(t,n,s,cm(),o);return sC(t,u,$m())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Ov(t,n,s,cm(),o);return mI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ki(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await JI(t),s=new LI(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zd,{type:Zd},o=>{const u=o?.[0]?.[Zd];u!==void 0&&n(!!u),yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||AT()||Km()}}const fC=hC;var Mv="@firebase/auth",Vv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pC(r){Ja(new Fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},y=new FR(s,o,u,g);return $R(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new Fs("auth-internal",t=>{const n=Jl(t.getProvider("auth").getImmediate());return(s=>new dC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Mv,Vv,mC(r)),jr(Mv,Vv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=300,yC=rT("authIdTokenMaxAge")||gC;let xv=null;const _C=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yC)return;const o=n?.token;xv!==o&&(xv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vC(r=cT()){const t=qm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=XR(r,{popupRedirectResolver:fC,persistence:[SI,PT,LT]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=_C(u.toString());lI(n,f,()=>f(n.currentUser)),oI(n,m=>f(m))}}const o=nT("auth");return o&&ZR(n,`http://${o}`),n}function EC(){return document.getElementsByTagName("head")?.[0]??document}GR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pC("Browser");var TC="firebase",AC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(TC,AC,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,GT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function R(){}R.prototype=w.prototype,O.F=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.D=function(V,N,P){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return w.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],N=O.g[2];let P=O.g[3],C;C=w+(P^R&(N^P))+V[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(N^w&(R^N))+V[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=N+(R^P&(w^R))+V[2]+606105819&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(w^N&(P^w))+V[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(P^R&(N^P))+V[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(N^w&(R^N))+V[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=N+(R^P&(w^R))+V[6]+2821735955&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(w^N&(P^w))+V[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(P^R&(N^P))+V[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(N^w&(R^N))+V[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=N+(R^P&(w^R))+V[10]+4294925233&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(w^N&(P^w))+V[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(P^R&(N^P))+V[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(N^w&(R^N))+V[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=N+(R^P&(w^R))+V[14]+2792965006&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(w^N&(P^w))+V[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(N^P&(R^N))+V[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(w^R))+V[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(P^w))+V[11]+643717713&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(N^P))+V[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^P&(R^N))+V[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(w^R))+V[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(P^w))+V[15]+3634488961&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(N^P))+V[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^P&(R^N))+V[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(w^R))+V[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(P^w))+V[3]+4107603335&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(N^P))+V[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^P&(R^N))+V[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(w^R))+V[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(P^w))+V[7]+1735328473&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(N^P))+V[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(R^N^P)+V[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^N)+V[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=N+(P^w^R)+V[11]+1839030562&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^w)+V[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^P)+V[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^N)+V[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=N+(P^w^R)+V[7]+4139469664&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^w)+V[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^P)+V[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^N)+V[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=N+(P^w^R)+V[3]+3572445317&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^w)+V[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^P)+V[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^N)+V[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=N+(P^w^R)+V[15]+530742520&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^w)+V[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(N^(R|~P))+V[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~N))+V[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=N+(w^(P|~R))+V[14]+2878612391&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~w))+V[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~P))+V[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~N))+V[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=N+(w^(P|~R))+V[10]+4293915773&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~w))+V[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~P))+V[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~N))+V[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=N+(w^(P|~R))+V[6]+2734768916&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~w))+V[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~P))+V[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~N))+V[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=N+(w^(P|~R))+V[2]+718787259&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~w))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.v=function(O,w){w===void 0&&(w=O.length);const R=w-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<w;){if(N==0)for(;P<=R;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(V[N++]=O.charCodeAt(P++),N==this.blockSize){o(this,V),N=0;break}}else for(;P<w;)if(V[N++]=O[P++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;w=this.o*8;for(var R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.v(O),O=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)O[w++]=this.g[R]>>>V&255;return O};function u(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function f(O,w){this.h=w;const R=[];let V=!0;for(let N=O.length-1;N>=0;N--){const P=O[N]|0;V&&P==w||(R[N]=P,V=!1)}this.g=R}var m={};function g(O){return-128<=O&&O<128?u(O,function(w){return new f([w|0],w<0?-1:0)}):new f([O|0],O<0?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(O<0)return q(y(-O));const w=[];let R=1;for(let V=0;O>=R;V++)w[V]=O/R|0,R*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return q(E(O.substring(1),w));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let V=S;for(let P=0;P<O.length;P+=8){var N=Math.min(8,O.length-P);const C=parseInt(O.substring(P,P+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var S=g(0),b=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-q(this).m();let O=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);O+=(V>=0?V:4294967296+V)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(Q(this))return"-"+q(this).toString(O);const w=y(Math.pow(O,6));var R=this;let V="";for(;;){const N=Rt(R,w).g;R=nt(R,N.j(w));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(O);if(R=N,G(R))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(let w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=nt(this,O),Q(O)?-1:G(O)?0:1};function q(O){const w=O.g.length,R=[];for(let V=0;V<w;V++)R[V]=~O.g[V];return new f(R,~O.h).add(b)}r.abs=function(){return Q(this)?q(this):this},r.add=function(O){const w=Math.max(this.g.length,O.g.length),R=[];let V=0;for(let N=0;N<=w;N++){let P=V+(this.i(N)&65535)+(O.i(N)&65535),C=(P>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=C>>>16,P&=65535,C&=65535,R[N]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function nt(O,w){return O.add(q(w))}r.j=function(O){if(G(this)||G(O))return S;if(Q(this))return Q(O)?q(this).j(q(O)):q(q(this).j(O));if(Q(O))return q(this.j(q(O)));if(this.l(k)<0&&O.l(k)<0)return y(this.m()*O.m());const w=this.g.length+O.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<O.g.length;N++){const P=this.i(V)>>>16,C=this.i(V)&65535,le=O.i(N)>>>16,ne=O.i(N)&65535;R[2*V+2*N]+=C*ne,tt(R,2*V+2*N),R[2*V+2*N+1]+=P*ne,tt(R,2*V+2*N+1),R[2*V+2*N+1]+=C*le,tt(R,2*V+2*N+1),R[2*V+2*N+2]+=P*le,tt(R,2*V+2*N+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function tt(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function st(O,w){this.g=O,this.h=w}function Rt(O,w){if(G(w))throw Error("division by zero");if(G(O))return new st(S,S);if(Q(O))return w=Rt(q(O),w),new st(q(w.g),q(w.h));if(Q(w))return w=Rt(O,q(w)),new st(q(w.g),w.h);if(O.g.length>30){if(Q(O)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;V.l(O)<=0;)R=ht(R),V=ht(V);var N=Dt(R,1),P=Dt(V,1);for(V=Dt(V,2),R=Dt(R,2);!G(V);){var C=P.add(V);C.l(O)<=0&&(N=N.add(R),P=C),V=Dt(V,1),R=Dt(R,1)}return w=nt(O,N.j(w)),new st(N,w)}for(N=S;O.l(w)>=0;){for(R=Math.max(1,Math.floor(O.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(R),C=P.j(w);Q(C)||C.l(O)>0;)R-=V,P=y(R),C=P.j(w);G(P)&&(P=b),N=N.add(P),O=nt(O,C)}return new st(N,O)}r.B=function(O){return Rt(this,O).h},r.and=function(O){const w=Math.max(this.g.length,O.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&O.i(V);return new f(R,this.h&O.h)},r.or=function(O){const w=Math.max(this.g.length,O.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|O.i(V);return new f(R,this.h|O.h)},r.xor=function(O){const w=Math.max(this.g.length,O.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^O.i(V);return new f(R,this.h^O.h)};function ht(O){const w=O.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(R,O.h)}function Dt(O,w){const R=w>>5;w%=32;const V=O.g.length-R,N=[];for(let P=0;P<V;P++)N[P]=w>0?O.i(P+R)>>>w|O.i(P+R+1)<<32-w:O.i(P+R);return new f(N,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Hr=f}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,Cl,KT,jc,dm,YT,XT,$T;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break t;_=_[U]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var _=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&_.push([A,p[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,_){return c.call.apply(c.bind,arguments)}function y(c,p,_){return y=g,y.apply(null,arguments)}function E(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function _(){}_.prototype=p.prototype,c.Z=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,U,H){for(var it=Array(arguments.length-2),St=2;St<arguments.length;St++)it[St-2]=arguments[St];return p.prototype[U].apply(A,it)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function G(c,p){for(let A=1;A<arguments.length;A++){const U=arguments[A];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=c.length||0;const H=U.length||0;c.length=_+H;for(let it=0;it<H;it++)c[_+it]=U[it]}else c.push(U)}}class Q{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=O;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,_){const A=st.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new Q(()=>new Rt,c=>c.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Dt=!1,O=new tt,w=()=>{const c=Promise.resolve(void 0);ht=()=>{c.then(R)}};function R(){for(var c;c=nt();){try{c.h.call(c.g)}catch(_){q(_)}var p=st;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function le(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(le,N),le.prototype.init=function(c,p){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(_=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),K=0;function at(c,p,_,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=U,this.key=++K,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function D(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function J(c){const p={};for(const _ in c)p[_]=c[_];return p}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,p){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let H=0;H<lt.length;H++)_=lt[H],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,p,_,A,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const it=vt(c,p,A,U);return it>-1?(p=c[it],_||(p.fa=!1)):(p=new at(p,this.src,H,!!A,U),p.fa=_,c.push(p)),p};function Mt(c,p){const _=p.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,p,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(pt(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vt(c,p,_,A){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==A)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Gt={};function xn(c,p,_,A,U){if(Array.isArray(p)){for(let H=0;H<p.length;H++)xn(c,p[H],_,A,U);return null}return _=uu(_),c&&c[ne]?c.J(p,_,m(A)?!!A.capture:!1,U):_o(c,p,_,!1,A,U)}function _o(c,p,_,A,U,H){if(!p)throw Error("Invalid event type");const it=m(U)?!!U.capture:!!U;let St=vo(c);if(St||(c[ke]=St=new dt(c)),_=St.add(p,_,A,it,H),_.proxy)return _;if(A=Js(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)P||(U=it),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(ea(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Js(){function c(_){return p.call(c.src,c.listener,_)}const p=Lh;return c}function ta(c,p,_,A,U){if(Array.isArray(p))for(var H=0;H<p.length;H++)ta(c,p[H],_,A,U);else A=m(A)?!!A.capture:!!A,_=uu(_),c&&c[ne]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],_=vt(p,_,A,U),_>-1&&(pt(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=vo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=vt(p,_,A,U)),(_=c>-1?p[c]:null)&&ns(_))}function ns(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ne])Mt(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(ea(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=vo(p))?(Mt(_,c),_.h==0&&(_.src=null,p[ke]=null)):pt(c)}}}function ea(c){return c in Gt?Gt[c]:Gt[c]="on"+c}function Lh(c,p){if(c.da)c=!0;else{p=new le(p,this);const _=c.listener,A=c.ha||c.src;c.fa&&ns(c),c=_.call(A,p)}return c}function vo(c){return c=c[ke],c instanceof dt?c:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function uu(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(p){return c.handleEvent(p)}),c[rn])}function be(){V.call(this),this.i=new dt(this),this.M=this,this.G=null}S(be,V),be.prototype[ne]=!0,be.prototype.removeEventListener=function(c,p,_,A){ta(this,c,p,_,A)};function De(c,p){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var U=p;p=new N(A,c),rt(p,U)}U=!0;let H,it;if(_)for(it=_.length-1;it>=0;it--)H=p.g=_[it],U=Ei(H,A,!0,p)&&U;if(H=p.g=c,U=Ei(H,A,!0,p)&&U,U=Ei(H,A,!1,p)&&U,_)for(it=0;it<_.length;it++)H=p.g=_[it],U=Ei(H,A,!1,p)&&U}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const _=c.g[p];for(let A=0;A<_.length;A++)pt(_[A]);delete c.g[p],c.h--}}this.G=null},be.prototype.J=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},be.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function Ei(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let H=0;H<p.length;++H){const it=p[H];if(it&&!it.da&&it.capture==_){const St=it.listener,te=it.ha||it.src;it.fa&&Mt(c.i,it),U=St.call(te,A)!==!1&&U}}return U&&!A.defaultPrevented}function Uh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Eo(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,Eo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zh extends V{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){V.call(this),this.h=c,this.g={}}S(is,V);var Zi=[];function Fe(c){Ut(c.g,function(p,_){this.g.hasOwnProperty(_)&&ns(p)},c),c.g={}}is.prototype.N=function(){is.Z.N.call(this),Fe(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,We=f.JSON.parse,Bh=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wi(){N.call(this,"d")}S(Wi,N);function Pn(){N.call(this,"c")}S(Pn,N);var En={},Ji=null;function na(){return Ji=Ji||new be}En.Ia="serverreachability";function To(c){N.call(this,En.Ia,c)}S(To,N);function tr(c){const p=na();De(p,new To(p))}En.STAT_EVENT="statevent";function ia(c,p){N.call(this,En.STAT_EVENT,c),this.stat=p}S(ia,N);function fe(c){const p=na();De(p,new ia(p,c))}En.Ja="timingevent";function fu(c,p){N.call(this,En.Ja,c),this.size=p}S(fu,N);function er(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function Ao(c,p,_,A,U,H){c.info(function(){if(c.g)if(H){var it="",St=H.split("&");for(let qt=0;qt<St.length;qt++){var te=St[qt].split("=");if(te.length>1){const pe=te[0];te=te[1];const cn=pe.split("_");it=cn.length>=2&&cn[1]=="type"?it+(pe+"="+te+"&"):it+(pe+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+_+`
`+it})}function So(c,p,_,A,U,H,it){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+_+`
`+H+" "+it})}function Ti(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Wn(c,_)+(A?" "+A:"")})}function jh(c,p){c.info(function(){return"TIMEOUT: "+p})}nr.prototype.info=function(){};function Wn(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var _=H[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return vn(H)}catch{return p}}var de={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ai;function rs(){}S(rs,cu),rs.prototype.g=function(){return new XMLHttpRequest},Ai=new rs;function ss(c){return encodeURIComponent(String(c))}function qh(c){var p=1;c=c.split(":");const _=[];for(;p>0&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function kn(c,p,_,A){this.j=c,this.i=p,this.l=_,this.S=A||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var ra={},Jn={};function ti(c,p,_){c.M=1,c.A=bi(se(p)),c.u=_,c.R=!0,rr(c,null)}function rr(c,p){c.F=Date.now(),as(c),c.B=se(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),gu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new ir,c.g=ma(c.j,_?p:null,!c.u),c.P>0&&(c.O=new zh(y(c.Y,c,c.g),c.P)),p=c.V,_=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Zi[0]=U.toString()),U=Zi);for(let H=0;H<U.length;H++){const it=xn(_,U[H],A||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.J?J(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),tr(),Ao(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Ge(c)==3?p.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Ge(this.g),te=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ys(this.g)))){this.K||St!=4||te==7||(te==8||qt<=0?tr(3):tr(2)),ni(this);var p=this.g.ca();this.X=p;var _=sr(this);if(this.o=p==200,So(this.i,this.v,this.B,this.l,this.S,St,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break e}}H=null}if(c=H)Ti(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sa(this,c);else{this.o=!1,this.m=3,fe(12),ii(this),os(this);break t}}if(this.R){c=!0;let pe;for(;!this.K&&this.C<_.length;)if(pe=du(this,_),pe==Jn){St==4&&(this.m=4,fe(14),c=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==ra){this.m=4,fe(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ti(this.i,this.l,pe,null),sa(this,pe);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,fe(16),c=!1),this.o=this.o&&c,!c)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),ii(this),os(this);else if(_.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Vo(it),it.P=!0,fe(11))}}else Ti(this.i,this.l,_,null),sa(this,_);St==4&&ii(this),this.o&&!this.K&&(St==4?xo(this.j,this):(this.o=!1,as(this)))}else _s(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,fe(12)):(this.m=0,fe(13)),ii(this),os(this)}}}catch{}finally{}};function sr(c){if(!me(c))return c.g.la();const p=ys(c.g);if(p==="")return"";let _="";const A=p.length,U=Ge(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ii(c),os(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,_+=c.h.i.decode(p[H],{stream:!(U&&H==A-1)});return p.length=0,c.h.g+=_,c.C=0,c.h.g}function me(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Jn:(_=Number(p.substring(_,A)),isNaN(_)?ra:(A+=1,A+_>p.length?Jn:(p=p.slice(A,A+_),c.C=A+_,p)))}kn.prototype.cancel=function(){this.K=!0,ii(this)};function as(c){c.T=Date.now()+c.H,ei(c,c.H)}function ei(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=er(y(c.aa,c),p)}function ni(c){c.D&&(f.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(jh(this.i,this.B),this.M!=2&&(tr(),fe(17)),ii(this),this.m=2,os(this)):ei(this,this.T-c)};function os(c){c.j.I==0||c.K||xo(c.j,c)}function ii(c){ni(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Fe(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function sa(c,p){try{var _=c.j;if(_.I!=0&&(_.g==c||cs(_.h,c))){if(!c.L&&cs(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)da(_),ri(_);else break t;Mo(_),fe(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=er(y(_.Va,_),6e3));Tn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ii(_,11)}else if((c.L||_.g==c)&&da(_),!C(p))for(U=_.Ba.g.parse(p),p=0;p<U.length;p++){let qt=U[p];const pe=qt[0];if(!(pe<=_.K))if(_.K=pe,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const cn=qt[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const si=qt[4];si!=null&&(_.za=si,_.j.info("SVER="+_.za));const zn=qt[5];zn!=null&&typeof zn=="number"&&zn>0&&(A=1.5*zn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bn=c.g;if(Bn){const jn=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var H=A.h;H.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(A.G){const ko=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(A.wa=ko,Qt(A.J,A.G,ko))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var it=c;if(A.na=wu(A,A.L?A.ba:null,A.W),it.L){Si(A.h,it);var St=it,te=A.O;te&&(St.H=te),St.D&&(ni(St),as(St)),A.g=it}else Tu(A);_.i.length>0&&As(_)}else qt[0]!="stop"&&qt[0]!="close"||Ii(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ii(_,7):Es(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}tr(4)}catch{}}var Hh=class{constructor(c,p){this.g=c,this.map=p}};function ls(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function us(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tn(c){return c.h?1:c.g?c.g.size:0}function cs(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function aa(c,p){c.g?c.g.add(p):c.h=p}function Si(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ls.prototype.cancel=function(){if(this.i=oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function oa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.G);return p}return k(c.i)}var la=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fh(c,p){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let U,H=null;A>=0?(U=c[_].substring(0,A),H=c[_].substring(A+1)):U=c[_],p(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ln(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Ln?(this.l=c.l,ar(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,or(this,yu(c.i)),this.m=c.m):c&&(p=String(c).match(la))?(this.l=!1,ar(this,p[1]||"",!0),this.o=fs(p[2]||""),this.g=fs(p[3]||"",!0),hs(this,p[4]),this.h=fs(p[5]||"",!0),or(this,p[6]||"",!0),this.m=fs(p[7]||"")):(this.l=!1,this.i=new An(null,this.l))}Ln.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ne(p,wo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ne(p,wo,!0),"@"),c.push(ss(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ne(_,_.charAt(0)=="/"?lr:Ro,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ne(_,pu)),c.join("")},Ln.prototype.resolve=function(c){const p=se(this);let _=!!c.j;_?ar(p,c.j):_=!!c.o,_?p.o=c.o:_=!!c.g,_?p.g=c.g:_=c.u!=null;var A=c.h;if(_)hs(p,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=p.h.lastIndexOf("/");U!=-1&&(A=p.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let it=0;it<U.length;){const St=U[it++];St=="."?A&&it==U.length&&H.push(""):St==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&it==U.length&&H.push("")):(H.push(St),A=!0)}A=H.join("/")}else A=U}return _?p.h=A:_=c.i.toString()!=="",_?or(p,yu(c.i)):_=!!c.m,_&&(p.m=c.m),p};function se(c){return new Ln(c)}function ar(c,p,_){c.j=_?fs(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function or(c,p,_){p instanceof An?(c.i=p,Do(c.i,c.l)):(_||(p=Ne(p,mu)),c.i=new An(p,c.l))}function Qt(c,p,_){c.i.set(p,_)}function bi(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fs(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ne(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,bo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wo=/[#\/\?@]/g,Ro=/[#\?:]/g,lr=/[#\?]/g,mu=/[#\?@]/g,pu=/#/g;function An(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function wi(c){c.g||(c.g=new Map,c.h=0,c.i&&Fh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=An.prototype,r.add=function(c,p){wi(this),this.i=null,c=Un(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Io(c,p){wi(c),p=Un(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Co(c,p){return wi(c),p=Un(c,p),c.g.has(p)}r.forEach=function(c,p){wi(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(p,U,A,this)},this)},this)};function ua(c,p){wi(c);let _=[];if(typeof p=="string")Co(c,p)&&(_=_.concat(c.g.get(Un(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)_=_.concat(c[p]);return _}r.set=function(c,p){return wi(this),this.i=null,c=Un(this,c),Co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=ua(this,c),c.length>0?String(c[0]):p):p};function gu(c,p,_){Io(c,p),_.length>0&&(c.i=null,c.g.set(Un(c,p),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var _=p[A];const U=ss(_);_=ua(this,_);for(let H=0;H<_.length;H++){let it=U;_[H]!==""&&(it+="="+ss(_[H])),c.push(it)}}return this.i=c.join("&")};function yu(c){const p=new An;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Un(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Do(c,p){p&&!c.j&&(wi(c),c.i=null,c.g.forEach(function(_,A){const U=A.toLowerCase();A!=U&&(Io(this,A),gu(this,U,_))},c)),c.j=p}function No(c,p){const _=new nr;if(f.Image){const A=new Image;A.onload=E(Je,_,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Je,_,"TestLoadImage: error",!1,p,A),A.onabort=E(Je,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Je,_,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function ur(c,p){const _=new nr,A=new AbortController,U=setTimeout(()=>{A.abort(),Je(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Je(_,"TestPingServer: ok",!0,p):Je(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Je(_,"TestPingServer: error",!1,p)})}function Je(c,p,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function _u(){this.g=new Bh}function ds(c){this.i=c.Sb||null,this.h=c.ab||!1}S(ds,cu),ds.prototype.g=function(){return new ms(this.i,this.h)};function ms(c,p){be.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ms,be),r=ms.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function cr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?tn(this):Ri(this),this.readyState==3&&cr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},r.Na=function(c){this.g&&(this.response=c,tn(this))},r.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ri(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hr(c){let p="";return Ut(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Sn(c,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=hr(_),typeof c=="string"?_!=null&&ss(_):Qt(c,p,_))}function Zt(c){be.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,be);var ca=/^https?$/i,vu=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ai.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){ps(this,H);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(vu,p,void 0)>=0)||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ps(this,H)}};function ps(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,gs(c),we(c)}function gs(c){c.A||(c.A=!0,De(c,"complete"),De(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,De(this,"complete"),De(this,"abort"),we(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),we(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Oo(this):this.Xa())},r.Xa=function(){Oo(this)};function Oo(c){if(c.h&&typeof u<"u"){if(c.v&&Ge(c)==4)setTimeout(c.Ca.bind(c),0);else if(De(c,"readystatechange"),Ge(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=H===0){let it=String(c.D).match(la)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),A=!ca.test(it?it.toLowerCase():"")}_=A}if(_)De(c,"complete"),De(c,"success");else{c.o=6;try{var U=Ge(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",gs(c)}}finally{we(c)}}}}function we(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,p||De(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ge(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ge(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),We(p)}};function ys(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(c){const p={};c=(c.g&&Ge(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var _=qh(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[U]||[];p[U]=H,H.push(_)}D(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ha(c){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,c),this.Za=vs("retryDelaySeedMs",1e4,c),this.Ta=vs("forwardChannelMaxRetries",2,c),this.va=vs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ls(c&&c.concurrentRequestLimit),this.Ba=new _u,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ha.prototype,r.ka=8,r.I=1,r.connect=function(c,p,_,A){fe(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=wu(this,null,this.W),As(this)};function Es(c){if(Ts(c),c.I==3){var p=c.V++,_=se(c.J);if(Qt(_,"SID",c.M),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),Ss(c,_),p=new kn(c,c.j,p),p.M=2,p.A=bi(se(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=ma(p.j,null),p.g.ea(p.A)),p.F=Date.now(),as(p)}bu(c)}function ri(c){c.g&&(Vo(c),c.g.cancel(),c.g=null)}function Ts(c){ri(c),c.v&&(f.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function As(c){if(!us(c.h)&&!c.m){c.m=!0;var p=c.Ea;ht||w(),Dt||(ht(),Dt=!0),O.add(p,c),c.D=0}}function Gh(c,p){return Tn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=er(y(c.Ea,c,p),Su(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new kn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=J(H),rt(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=fa(this,U,p),_=se(this.J),Qt(_,"RID",c),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),Ss(this,_),H&&(this.R?p="headers="+ss(hr(H))+"&"+p:this.u&&Sn(_,this.u,H)),aa(this.h,U),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",p),Qt(_,"SID","null"),U.U=!0,ti(U,_,null)):ti(U,_,p),this.I=2}}else this.I==3&&(c?Eu(this,c):this.i.length==0||us(this.h)||Eu(this))};function Eu(c,p){var _;p?_=p.l:_=c.V++;const A=se(c.J);Qt(A,"SID",c.M),Qt(A,"RID",_),Qt(A,"AID",c.K),Ss(c,A),c.u&&c.o&&Sn(A,c.u,c.o),_=new kn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),p&&(c.i=p.G.concat(c.i)),p=fa(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),aa(c.h,_),ti(_,A,p)}function Ss(c,p){c.H&&Ut(c.H,function(_,A){Qt(p,A,_)}),c.l&&Ut({},function(_,A){Qt(p,A,_)})}function fa(c,p,_){_=Math.min(c.i.length,_);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let St=-1;for(;;){const te=["count="+_];St==-1?_>0?(St=U[0].g,te.push("ofs="+St)):St=0:te.push("ofs="+St);let qt=!0;for(let pe=0;pe<_;pe++){var H=U[pe].g;const cn=U[pe].map;if(H-=St,H<0)St=Math.max(0,U[pe].g-100),qt=!1;else try{H="req"+H+"_"||"";try{var it=cn instanceof Map?cn:Object.entries(cn);for(const[si,zn]of it){let Bn=zn;m(zn)&&(Bn=vn(zn)),te.push(H+si+"="+encodeURIComponent(Bn))}}catch(si){throw te.push(H+"type="+encodeURIComponent("_badmap")),si}}catch{A&&A(cn)}}if(qt){it=te.join("&");break t}}it=void 0}return c=c.i.splice(0,_),p.G=c,it}function Tu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ht||w(),Dt||(ht(),Dt=!0),O.add(p,c),c.A=0}}function Mo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=er(y(c.Da,c),Su(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=er(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fe(10),ri(this),Au(this))};function Vo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Au(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=se(c.na);Qt(p,"RID","rpc"),Qt(p,"SID",c.M),Qt(p,"AID",c.K),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(p,"TO",c.ia),Qt(p,"TYPE","xmlhttp"),Ss(c,p),c.u&&c.o&&Sn(p,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=bi(se(p)),_.u=null,_.R=!0,rr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ri(this),Mo(this),fe(19))};function da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xo(c,p){var _=null;if(c.g==p){da(c),Vo(c),c.g=null;var A=2}else if(cs(c.h,p))_=p.G,Si(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;A=na(),De(A,new fu(A,_)),As(c)}else Tu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(A==1&&Gh(c,p)||A==2&&Mo(c)))switch(_&&_.length>0&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Su(c,p){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*p}function Ii(c,p){if(c.j.info("Error code "+p),p==2){var _=y(c.bb,c),A=c.Ua;const U=!A;A=new Ln(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ar(A,"https"),bi(A),U?No(A.toString(),_):ur(A.toString(),_)}else fe(2);c.I=0,c.l&&c.l.pa(p),bu(c),Ts(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const p=oa(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ja,p),G(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function wu(c,p,_){var A=_ instanceof Ln?se(_):new Ln(_);if(A.g!="")p&&(A.g=p+"."+A.g),hs(A,A.u);else{var U=f.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const H=new Ln(null);A&&ar(H,A),p&&(H.g=p),U&&hs(H,U),_&&(H.h=_),A=H}return _=c.G,p=c.wa,_&&p&&Qt(A,_,p),Qt(A,"VER",c.ka),Ss(c,A),A}function ma(c,p,_){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Zt(new ds({ab:_})):new Zt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function pa(){}pa.prototype.g=function(c,p){return new en(c,p)};function en(c,p){be.call(this),this.g=new ha(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new fr(this)}S(en,be),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Es(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vn(c),c=_);p.i.push(new Hh(p.Ya++,c)),p.I==3&&As(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,en.Z.N.call(this)};function Po(c){Wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Po,Wi);function Iu(){Pn.call(this),this.status=1}S(Iu,Pn);function fr(c){this.g=c}S(fr,Ru),fr.prototype.ra=function(){De(this.g,"a")},fr.prototype.qa=function(c){De(this.g,new Po(c))},fr.prototype.pa=function(c){De(this.g,new Iu)},fr.prototype.oa=function(){De(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,$T=function(){return new pa},XT=function(){return na()},YT=En,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,jc=de,Le.COMPLETE="complete",KT=Le,hu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",be.prototype.listen=be.prototype.J,Cl=hu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,QT=Zt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Lv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Bm("@firebase/firestore");function Fa(){return Qs.logLevel}function ut(r,...t){if(Qs.logLevel<=Vt.DEBUG){const n=t.map(Wm);Qs.debug(`Firestore (${fo}): ${r}`,...n)}}function Yi(r,...t){if(Qs.logLevel<=Vt.ERROR){const n=t.map(Wm);Qs.error(`Firestore (${fo}): ${r}`,...n)}}function to(r,...t){if(Qs.logLevel<=Vt.WARN){const n=t.map(Wm);Qs.warn(`Firestore (${fo}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ZT(r,s,n)}function ZT(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yi(s),new Error(s)}function jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ZT(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends $i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Xe.UNAUTHENTICATED)))}shutdown(){}}class bC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wC{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new WT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class RC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new RC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function mm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Wd(o)===Wd(u)?xt(o,u):Wd(o)?1:-1}return xt(r.length,t.length)}const NC=55296,OC=57343;function Wd(r){const t=r.charCodeAt(0);return t>=NC&&t<=OC}function eo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="__name__";class hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=hi.isNumericId(t),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(t).compare(hi.extractNumericId(n)):mm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Jt extends hi{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends hi{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return MC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new qe([zv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(Jt.fromString(t))}static fromName(t){return new mt(Jt.fromString(t).popFirst(5))}static empty(){return new mt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,t,n){if(!n)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function VC(r,t,n,s){if(t===!0&&s===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Bv(r){if(!mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jv(r){if(mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function t0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Kn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,t){const n={typeString:r};return t&&(n.value=t),n}function nu(r,t){if(!t0(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Hv);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Se("string",ee._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ee(0,0))}static max(){return new At(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function xC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new Kr(o,mt.empty(),t)}function PC(r){return new Kr(r.readTime,r.key,jl)}class Kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(At.min(),mt.empty(),jl)}static max(){return new Kr(At.max(),mt.empty(),jl)}}function kC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==LC)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function zC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Th(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function BC(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="";function jC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Fv(t)),t=qC(r.get(n),t);return Fv(t)}function qC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case e0:n+="";break;default:n+=u}}return n}function Fv(r){return r+e0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ts(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function n0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Ce(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new i0("Invalid base64 string: "+u):u}})(t);return new He(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=HC.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="server_timestamp",s0="__type__",a0="__previous_value__",o0="__local_write_time__";function ep(r){return(r?.mapValue?.fields||{})[s0]?.stringValue===r0}function Ah(r){const t=r.mapValue.fields[a0];return ep(t)?Ah(t):t}function ql(r){const t=Yr(r.mapValue.fields[o0].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const ih="(default)";class Hl{constructor(t,n){this.projectId=t,this.database=n||ih}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Hl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__type__",GC="__max__",Mc={mapValue:{}},u0="__vector__",rh="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:KC(r)?9007199254740991:QC(r)?10:11:_t(28295,{value:r})}function _i(r,t){if(r===t)return!0;const n=$r(r);if(n!==$r(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),m=_e(u.doubleValue);return f===m?nh(f)===nh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Gv(f)!==Gv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!_i(f[g],m[g])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Fl(r,t){return(r.values||[]).find((n=>_i(n,t)))!==void 0}function no(r,t){if(r===t)return 0;const n=$r(r),s=$r(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=_e(u.integerValue||u.doubleValue),g=_e(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Kv(r.timestampValue,t.timestampValue);case 4:return Kv(ql(r),ql(t));case 5:return mm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Xr(u),g=Xr(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(_e(u.latitude),_e(f.latitude));return m!==0?m:xt(_e(u.longitude),_e(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[rh]?.arrayValue,E=g[rh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Yv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const b=mm(g[S],E[S]);if(b!==0)return b;const k=no(m[g[S]],y[E[S]]);if(k!==0)return k}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function Kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Yr(r),s=Yr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Yv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function io(r){return pm(r)}function pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Xr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${pm(n.fields[f])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function qc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+qc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ts(s.fields,((u,f)=>{o+=u.length+qc(f)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function Xv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function gm(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function QC(r){return(r?.mapValue?.fields||{})[l0]?.stringValue===u0}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ts(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xl(r.arrayValue.values[n]);return t}return{...r}}function KC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Hc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ts(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new un(xl(this.value))}}function c0(r){const t=[];return ts(r.fields,((n,s)=>{const o=new qe([n]);if(Hc(s)){const u=c0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,At.min(),At.min(),At.min(),un.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,At.min(),At.min(),un.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,At.min(),At.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n){this.position=t,this.inclusive=n}}function Wv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n="asc"){this.field=t,this.dir=n}}function YC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{}class Ae extends h0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new $C(t,n,s):n==="array-contains"?new JC(t,s):n==="in"?new t2(t,s):n==="not-in"?new e2(t,s):n==="array-contains-any"?new n2(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ZC(t,s):new WC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends h0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Xn(t,n)}matches(t){return f0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f0(r){return r.op==="and"}function d0(r){return XC(r)&&f0(r)}function XC(r){for(const t of r.filters)if(t instanceof Xn)return!1;return!0}function ym(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+io(r.value);if(d0(r))return r.filters.map((t=>ym(t))).join(",");{const t=r.filters.map((n=>ym(n))).join(",");return`${r.op}(${t})`}}function m0(r,t){return r instanceof Ae?(function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)})(r,t):r instanceof Xn?(function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&m0(f,o.filters[m])),!0):!1})(r,t):void _t(19439)}function p0(r){return r instanceof Ae?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(r):r instanceof Xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"})(r):"Filter"}class $C extends Ae{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ZC extends Ae{constructor(t,n){super(t,"in",n),this.keys=g0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class WC extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=g0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function g0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class JC extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return np(n)&&Fl(n.arrayValue,this.value)}}class t2 extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class e2 extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class n2 extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function tE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new i2(r,t,n,s,o,u,f)}function ip(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ym(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Th(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>io(s))).join(",")),t.Te=n}return t.Te}function rp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!m0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Jv(r.startAt,t.startAt)&&Jv(r.endAt,t.endAt)}function _m(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function r2(r,t,n,s,o,u,f,m){return new go(r,t,n,s,o,u,f,m)}function Sh(r){return new go(r)}function eE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y0(r){return r.collectionGroup!==null}function Pl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(qe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Gl(u,s))})),n.has(qe.keyField().canonicalString())||t.Ie.push(new Gl(qe.keyField(),s))}return t.Ie}function di(r){const t=bt(r);return t.Ee||(t.Ee=s2(t,Pl(r))),t.Ee}function s2(r,t){if(r.limitType==="F")return tE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gl(o.field,u)}));const n=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function vm(r,t){const n=r.filters.concat([t]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Em(r,t,n){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function bh(r,t){return rp(di(r),di(t))&&r.limitType===t.limitType}function _0(r){return`${ip(di(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>p0(o))).join(", ")}]`),Th(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>io(o))).join(",")),`Target(${s})`})(di(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Pl(s),o))})(r,t)}function a2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function v0(r){return(t,n)=>{let s=!1;for(const o of Pl(r)){const u=o2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function o2(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?no(g,y):_t(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ts(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new oe(mt.comparator);function Xi(){return l2}const E0=new oe(mt.comparator);function Dl(...r){let t=E0;for(const n of r)t=t.insert(n.key,n);return t}function T0(r){let t=E0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function js(){return kl()}function A0(){return kl()}function kl(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const u2=new oe(mt.comparator),c2=new Ce(mt.comparator);function Pt(...r){let t=c2;for(const n of r)t=t.add(n);return t}const h2=new Ce(xt);function f2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function S0(r){return{integerValue:""+r}}function d2(r,t){return BC(t)?S0(t):sp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function m2(r,t,n){return r instanceof ah?(function(o,u){const f={fields:{[s0]:{stringValue:r0},[o0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ep(u)&&(u=Ah(u)),u&&(f.fields[a0]=u),{mapValue:f}})(n,t):r instanceof Ql?w0(r,t):r instanceof Kl?R0(r,t):(function(o,u){const f=b0(o,u),m=nE(f)+nE(o.Ae);return gm(f)&&gm(o.Ae)?S0(m):sp(o.serializer,m)})(r,t)}function p2(r,t,n){return r instanceof Ql?w0(r,t):r instanceof Kl?R0(r,t):n}function b0(r,t){return r instanceof oh?(function(s){return gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ah extends Rh{}class Ql extends Rh{constructor(t){super(),this.elements=t}}function w0(r,t){const n=I0(t);for(const s of r.elements)n.some((o=>_i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Kl extends Rh{constructor(t){super(),this.elements=t}}function R0(r,t){let n=I0(t);for(const s of r.elements)n=n.filter((o=>!_i(o,s)));return{arrayValue:{values:n}}}class oh extends Rh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function nE(r){return _e(r.integerValue||r.doubleValue)}function I0(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Kl&&o instanceof Kl?eo(s.elements,o.elements,_i):s instanceof oh&&o instanceof oh?_i(s.Ae,o.Ae):s instanceof ah&&o instanceof ah})(r.transform,t.transform)}class y2{constructor(t,n){this.version=t,this.transformResults=n}}class Yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function C0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new N0(r.key,Yn.none()):new iu(r.key,r.data,Yn.none());{const n=r.data,s=un.empty();let o=new Ce(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new es(r.key,s,new _n(o.toArray()),Yn.none())}}function _2(r,t,n){r instanceof iu?(function(o,u,f){const m=o.value.clone(),g=rE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof es?(function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=rE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(D0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ll(r,t,n,s){return r instanceof iu?(function(u,f,m,g){if(!Fc(u.precondition,f))return m;const y=u.value.clone(),E=sE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof es?(function(u,f,m,g){if(!Fc(u.precondition,f))return m;const y=sE(u.fieldTransforms,g,f),E=f.data;return E.setAll(D0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function v2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=b0(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function iE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,((u,f)=>g2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class iu extends Ih{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends Ih{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function rE(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,p2(f,m,n[o]))}return s}function sE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,m2(u,f,t))}return s}class N0 extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&_2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=A0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=C0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((n,s)=>iE(n,s)))&&eo(this.baseMutations,t.baseMutations,((n,s)=>iE(n,s)))}}class ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return u2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ap(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Lt;function b2(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function O0(r){if(r===void 0)return Yi("GRPC error has no .code"),$.UNKNOWN;switch(r){case Te.OK:return $.OK;case Te.CANCELLED:return $.CANCELLED;case Te.UNKNOWN:return $.UNKNOWN;case Te.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Te.INTERNAL:return $.INTERNAL;case Te.UNAVAILABLE:return $.UNAVAILABLE;case Te.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Te.NOT_FOUND:return $.NOT_FOUND;case Te.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Te.ABORTED:return $.ABORTED;case Te.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Te.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Lt=Te||(Te={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Hr([4294967295,4294967295],0);function aE(r){const t=w2().encode(r),n=new GT;return n.update(t),new Uint8Array(n.digest())}function oE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class op{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Hr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Hr.fromNumber(s)));return o.compare(R2)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=aE(t),[s,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new op(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=aE(t),[s,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ru.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ch(At.min(),o,new oe(xt),Xi(),Pt())}}class ru{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ru(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class M0{constructor(t,n){this.targetId=t,this.Ce=n}}class V0{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new ru(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=uE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Xi(),this.Je=Vc(),this.He=Vc(),this.Ye=new oe(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_m(u))if(s===0){const f=new mt(u.path);this.et(n,f,$e.newNoDocument(f,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(g){if(g instanceof i0)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new op(f,o,u)}catch(g){return to(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&_m(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,$e.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Ch(t,n,this.Ye,this.je,s);return this.je=Xi(),this.Je=Vc(),this.He=Vc(),this.Ye=new oe(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new lE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new oe(mt.comparator)}function uE(){return new oe(mt.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},D2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N2={and:"AND",or:"OR"};class O2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tm(r,t){return r.useProto3Json||Th(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function M2(r,t){return lh(r,t.toTimestamp())}function mi(r){return jt(!!r,49232),At.fromTimestamp((function(n){const s=Yr(n);return new ee(s.seconds,s.nanos)})(r))}function lp(r,t){return Am(r,t).canonicalString()}function Am(r,t){const n=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function P0(r){const t=Jt.fromString(r);return jt(B0(t),10190,{key:t.toString()}),t}function Sm(r,t){return lp(r.databaseId,t.path)}function Jd(r,t){const n=P0(t);if(n.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(L0(n))}function k0(r,t){return lp(r.databaseId,t)}function V2(r){const t=P0(r);return t.length===4?Jt.emptyPath():L0(t)}function bm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function L0(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cE(r,t,n){return{name:Sm(r,t),fields:n.value.mapValue.fields}}function x2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:O0(y.code);return new ot(E,y.message||"")})(f);n=new V0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jd(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):At.min(),m=new un({mapValue:{fields:s.document.fields}}),g=$e.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Gc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Jd(r,s.document),u=s.readTime?mi(s.readTime):At.min(),f=$e.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Jd(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new S2(o,u),m=s.targetId;n=new M0(m,f)}}return n}function P2(r,t){let n;if(t instanceof iu)n={update:cE(r,t.key,t.value)};else if(t instanceof N0)n={delete:Sm(r,t.key)};else if(t instanceof es)n={update:cE(r,t.key,t.data),updateMask:F2(t.fieldMask)};else{if(!(t instanceof E2))return _t(16599,{Vt:t.type});n={verify:Sm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:M2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,t.precondition)),n}function k2(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(At.min())&&(f=mi(u)),new y2(f,o.transformResults||[])})(n,t)))):[]}function L2(r,t){return{documents:[k0(r,t.path)]}}function U2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=k0(r,o);const u=(function(y){if(y.length!==0)return z0(Xn.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Qa(b.field),direction:j2(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Tm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function z2(r){let t=V2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=U0(S);return b instanceof Xn&&d0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(G){return new Gl(Ka(G.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,Th(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(S){const b=!!S.before,k=S.values||[];return new sh(k,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const b=!S.before,k=S.values||[];return new sh(k,b)})(n.endAt)),r2(t,o,f,u,m,"F",g,y)}function B2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function U0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ae.create(Ka(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Xn.create(n.compositeFilter.filters.map((s=>U0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(r):_t(30097,{filter:r})}function j2(r){return C2[r]}function q2(r){return D2[r]}function H2(r){return N2[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return qe.fromServerFormat(r.fieldPath)}function z0(r){return r instanceof Ae?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:q2(n.op),value:n.value}}})(r):r instanceof Xn?(function(n){const s=n.getFilters().map((o=>z0(o)));return s.length===1?s[0]:{compositeFilter:{op:H2(n.op),filters:s}}})(r):_t(54877,{filter:r})}function F2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function B0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,s,o,u=At.min(),f=At.min(),m=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.yt=t}}function Q2(r){const t=z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.Cn=new Y2}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Kr.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class Y2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(j0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",X2=1048576;function dE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class $2{constructor(t){this.Ir=t,this.buffer=new Ce(dE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(fE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ut(fE,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Vr(3e5)}))}}class W2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Eh.ce);const s=new $2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(hE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Fa()<=Vt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function J2(r,t){return new W2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new $s((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ll(s.mutation,o,_n.empty(),ee.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=js();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Dl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=js();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Xi();const f=kl(),m=(function(){return kl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof es)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ll(E.mutation,y,E.mutation.getFieldMask(),ee.now())):f.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new eD(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=kl();let o=new oe(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||_n.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Pt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=A0();E.forEach((b=>{if(!u.has(b)){const k=C0(n.get(b),s.get(b));k!==null&&S.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):y0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(js());let m=jl,g=u;return f.next((y=>W.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Pt()))).next((E=>({batchId:m,changes:T0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(S,b){return new go(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))}));let m=Dl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ll(E.mutation,y,_n.empty(),ee.now()),wh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:mi(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new oe(mt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=js();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=js(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new A2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Qr=new Ce(xe.$r),this.Ur=new Ce(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new xe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new Jt([])),s=new xe(n,t),o=new xe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new Jt([])),s=new xe(n,t),o=new xe(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(xe.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new T2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new xe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(xt);return n.forEach((o=>{const u=new xe(o,0),f=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new xe(new mt(u),0);let m=new Ce(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new xe(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.ri=t,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Xi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Xi();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kC(PC(E),s)<=0||(o.has(E.key)||wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new lD(this)}getSize(t){return W.resolve(this.size)}}class lD extends tD{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.persistence=t,this.si=new $s((n=>ip(n)),rp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new sD,this.referenceDelegate=t(this),this.Pi=new uD(this),this.indexManager=new K2,this.remoteDocumentCache=(function(o){return new oD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new G2(n),this.Ii=new iD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new rD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new aD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new cD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class cD extends UC{constructor(t){super(),this.currentSequenceNumber=t}}class cp{constructor(t){this.persistence=t,this.Ri=new up,this.Vi=null}static mi(t){return new cp(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class uh{constructor(t,n){this.persistence=t,this.pi=new $s((s=>jC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=J2(this,n)}static mi(t,n){return new uh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qc(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nw()?8:zC(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new hD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Fa()<=Vt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Fa()<=Vt.DEBUG&&ut("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Fa()<=Vt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):W.resolve())}ys(t,n){if(eE(n))return W.resolve(null);let s=di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Em(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return eE(n)||o.isEqual(At.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(Fa()<=Vt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.vs(t,f,n,xC(o,jl)).next((m=>m)))}))}Ds(t,n){let s=new Ce(v0(t));return n.forEach(((o,u)=>{wh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Fa()<=Vt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(t,n,Kr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",dD=3e8;class mD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new oe(xt),this.xs=new $s((u=>ip(u)),rp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function pD(r,t,n,s){return new mD(r,t,n,s)}async function H0(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function gD(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,b=S.keys();let k=W.resolve();return b.forEach((G=>{k=k.next((()=>E.getEntry(g,G))).next((Q=>{const q=y.docVersions.get(G);jt(q!==null,48541),Q.version.compareTo(q)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function F0(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function yD(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let k=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?k=k.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),(function(Q,q,nt){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=dD?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(b,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let g=Xi(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(_D(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function _D(r,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Xi();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ut(fp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function vD(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function ED(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ur(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function wm(r,t,n){const s=bt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!po(f))throw f;ut(fp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function mE(r,t,n){const s=bt(r);let o=At.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=bt(g),b=S.xs.get(E);return b!==void 0?W.resolve(S.Ms.get(b)):S.Pi.getTargetData(y,E)})(s,f,di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Pt()))).next((m=>(TD(s,a2(t),m),{documents:m,Qs:u})))))}function TD(r,t,n){let s=r.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class pE{constructor(){this.activeTargetIds=f2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AD{constructor(){this.Mo=new pE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class yE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(gE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(gE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Rm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Rm(),m=this.zo(t,n.toUriEncodedString());ut(tm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=uo(y);return this.Jo(t,m,g,s,E).then((S=>(ut(tm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw to(tm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=bD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class ID extends wD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Rm();return new Promise(((m,g)=>{const y=new QT;y.setWithCredentials(!0),y.listenOnce(KT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();ut(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case jc.TIMEOUT:ut(Ye,`RPC '${t}' ${f} timed out`),g(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const b=y.getStatus();if(ut(Ye,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k?.error;if(G&&G.status&&G.message){const Q=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(tt)>=0?tt:$.UNKNOWN})(G.status);g(new ot(Q,G.message))}else g(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ut(Ye,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=$T(),m=XT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ut(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let b=!1,k=!1;const G=new RD({Yo:q=>{k?ut(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(b||(ut(Ye,`Opening RPC '${t}' stream ${o} transport.`),S.open(),b=!0),ut(Ye,`RPC '${t}' stream ${o} sending:`,q),S.send(q))},Zo:()=>S.close()}),Q=(q,nt,tt)=>{q.listen(nt,(st=>{try{tt(st)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return Q(S,Cl.EventType.OPEN,(()=>{k||(ut(Ye,`RPC '${t}' stream ${o} transport opened.`),G.o_())})),Q(S,Cl.EventType.CLOSE,(()=>{k||(k=!0,ut(Ye,`RPC '${t}' stream ${o} transport closed`),G.a_(),this.E_(S))})),Q(S,Cl.EventType.ERROR,(q=>{k||(k=!0,to(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),G.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Cl.EventType.MESSAGE,(q=>{if(!k){const nt=q.data[0];jt(!!nt,16349);const tt=nt,st=tt?.error||tt[0]?.error;if(st){ut(Ye,`RPC '${t}' stream ${o} received error:`,st);const Rt=st.status;let ht=(function(w){const R=Te[w];if(R!==void 0)return O0(R)})(Rt),Dt=st.message;ht===void 0&&(ht=$.INTERNAL,Dt="Unknown error status: "+Rt+" with message "+st.message),k=!0,G.a_(new ot(ht,Dt)),S.close()}else ut(Ye,`RPC '${t}' stream ${o} received:`,nt),G.u_(nt)}})),Q(m,YT.STAT_EVENT,(q=>{q.stat===dm.PROXY?ut(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===dm.NOPROXY&&ut(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(r){return new O2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class Q0{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CD extends Q0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=x2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?mi(f.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=bm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=_m(g)?{documents:L2(u,g)}:{query:U2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=x0(u,f.resumeToken);const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=lh(u,f.snapshotVersion.toTimestamp());const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=B2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=bm(this.serializer),n.removeTarget=t,this.q_(n)}}class DD extends Q0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=k2(t.writeResults,t.commitTime),s=mi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>P2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class OD extends ND{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Am(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Am(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class VD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Zs(this)&&(ut(Ks,"Restarting streams for network reachability change."),await(async function(g){const y=bt(g);y.Ea.add(4),await su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Nh(y)})(this))}))})),this.Ra=new MD(s,o)}}async function Nh(r){if(Zs(r))for(const t of r.da)await t(!0)}async function su(r){for(const t of r.da)await t(!1)}function K0(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gp(n)?pp(n):yo(n).O_()&&mp(n,t))}function dp(r,t){const n=bt(r),s=yo(n);n.Ia.delete(t),s.O_()&&Y0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Zs(n)&&n.Ra.set("Unknown"))}function mp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yo(r).Y_(t)}function Y0(r,t){r.Va.Ue(t),yo(r).Z_(t)}function pp(r){r.Va=new I2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Ra.ua()}function gp(r){return Zs(r)&&!yo(r).x_()&&r.Ia.size>0}function Zs(r){return bt(r).Ea.size===0}function X0(r){r.Va=void 0}async function xD(r){r.Ra.set("Online")}async function PD(r){r.Ia.forEach(((t,n)=>{mp(r,t)}))}async function kD(r,t){X0(r),gp(r)?(r.Ra.ha(t),pp(r)):r.Ra.set("Unknown")}async function LD(r,t,n){if(r.Ra.set("Online"),t instanceof V0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ut(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ch(r,s)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof M0?r.Va.st(t):r.Va.tt(t),!n.isEqual(At.min()))try{const s=await F0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),Y0(u,g);const S=new Ur(E.target,g,y,E.sequenceNumber);mp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ut(Ks,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,t,n){if(!po(t))throw t;r.Ea.add(1),await su(r),r.Ra.set("Offline"),n||(n=()=>F0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Nh(r)}))}function $0(r,t){return t().catch((n=>ch(r,n,t)))}async function Oh(r){const t=bt(r),n=Zr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:tp;for(;UD(t);)try{const o=await vD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,zD(t,o)}catch(o){await ch(t,o)}Z0(t)&&W0(t)}function UD(r){return Zs(r)&&r.Ta.length<10}function zD(r,t){r.Ta.push(t);const n=Zr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Z0(r){return Zs(r)&&!Zr(r).x_()&&r.Ta.length>0}function W0(r){Zr(r).start()}async function BD(r){Zr(r).ra()}async function jD(r){const t=Zr(r);for(const n of r.Ta)t.ea(n.mutations)}async function qD(r,t,n){const s=r.Ta.shift(),o=ap.from(s,t,n);await $0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oh(r)}async function HD(r,t){t&&Zr(r).X_&&await(async function(s,o){if((function(f){return b2(f)&&f!==$.ABORTED})(o.code)){const u=s.Ta.shift();Zr(s).B_(),await $0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Oh(s)}})(r,t),Z0(r)&&W0(r)}async function vE(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ut(Ks,"RemoteStore received new credentials");const s=Zs(n);n.Ea.add(3),await su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Nh(n)}async function FD(r,t){const n=bt(r);t?(n.Ea.delete(2),await Nh(n)):t||(n.Ea.add(2),await su(n),n.Ra.set("Unknown"))}function yo(r){return r.ma||(r.ma=(function(n,s,o){const u=bt(n);return u.sa(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:xD.bind(null,r),t_:PD.bind(null,r),r_:kD.bind(null,r),H_:LD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),gp(r)?pp(r):r.Ra.set("Unknown")):(await r.ma.stop(),X0(r))}))),r.ma}function Zr(r){return r.fa||(r.fa=(function(n,s,o){const u=bt(n);return u.sa(),new DD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BD.bind(null,r),r_:HD.bind(null,r),ta:jD.bind(null,r),na:qD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new yp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(r,t){if(Yi("AsyncQueue",`${t}: ${r}`),po(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.ga=new oe(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class so{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new so(t,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QD{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=TE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function TE(){return new $s((r=>_0(r)),bh)}async function J0(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new GD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=_p(f,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vp(n)}async function tA(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KD(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vp(n)}function YD(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vp(r){r.Ca.forEach((t=>{t.next()}))}var Im,AE;(AE=Im||(Im={})).Ma="default",AE.Cache="cache";class eA{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.key=t}}class iA{constructor(t){this.key=t}}class XD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=v0(t),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new EE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const b=o.get(E),k=wh(this.query,S)?S:null,G=!!b&&this.mutatedKeys.has(b.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;b&&k?b.data.isEqual(k.data)?G!==Q&&(s.track({type:3,doc:k}),q=!0):this.su(b,k)||(s.track({type:2,doc:k}),q=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),q=!0):b&&!k&&(s.track({type:1,doc:b}),q=!0,(g||y)&&(m=!0)),q&&(k?(f=f.add(k),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(k,G){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:q})}};return Q(k)-Q(G)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new so(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new iA(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new nA(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class $D{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZD{constructor(t){this.key=t,this.hu=!1}}class WD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $s((m=>_0(m)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(mt.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JD(r,t,n=!0){const s=uA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await rA(s,t,n,!0),o}async function tN(r,t){const n=uA(r);await rA(n,t,!0,!1)}async function rA(r,t,n,s){const o=await ED(r.localStore,di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&K0(r.remoteStore,o),m}async function eN(r,t,n,s,o){r.pu=(S,b,k)=>(async function(Q,q,nt,tt){let st=q.view.ru(nt);st.Cs&&(st=await mE(Q.localStore,q.query,!1).then((({documents:O})=>q.view.ru(O,st))));const Rt=tt&&tt.targetChanges.get(q.targetId),ht=tt&&tt.targetMismatches.get(q.targetId)!=null,Dt=q.view.applyChanges(st,Q.isPrimaryClient,Rt,ht);return bE(Q,q.targetId,Dt.au),Dt.snapshot})(r,S,b,k);const u=await mE(r.localStore,t,!0),f=new XD(t,u.Qs),m=f.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);bE(r,n,y.au);const E=new $D(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function nN(r,t,n){const s=bt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!bh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dp(s.remoteStore,o.targetId),Cm(s,o.targetId)})).catch(mo)):(Cm(s,o.targetId),await wm(s.localStore,o.targetId,!0))}async function iN(r,t){const n=bt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dp(n.remoteStore,s.targetId))}async function rN(r,t,n){const s=hN(r);try{const o=await(function(f,m){const g=bt(f),y=ee.now(),E=m.reduce(((k,G)=>k.add(G.key)),Pt());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=Xi(),Q=Pt();return g.Ns.getEntries(k,E).next((q=>{G=q,G.forEach(((nt,tt)=>{tt.isValidDocument()||(Q=Q.add(nt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,G))).next((q=>{S=q;const nt=[];for(const tt of m){const st=v2(tt,S.get(tt.key).overlayedDocument);st!=null&&nt.push(new es(tt.key,st,c0(st.value.mapValue),Yn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,nt,m)})).next((q=>{b=q;const nt=q.applyToLocalDocumentSet(S,Q);return g.documentOverlayCache.saveOverlays(k,q.batchId,nt)}))})).then((()=>({batchId:b.batchId,changes:T0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new oe(xt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await au(s,o.changes),await Oh(s.remoteStore)}catch(o){const u=_p(o,"Failed to persist write");n.reject(u)}}async function sA(r,t){const n=bt(r);try{const s=await yD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?jt(f.hu,14607):o.removedDocuments.size>0&&(jt(f.hu,42227),f.hu=!1))})),await au(n,s,t)}catch(s){await mo(s)}}function SE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=bt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const b of S.Sa)b.va(m)&&(y=!0)})),y&&vp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new oe(mt.comparator);f=f.insert(u,$e.newNoDocument(u,At.min()));const m=Pt().add(u),g=new Ch(At.min(),new Map,new oe(xt),f,m);await sA(s,g),s.du=s.du.remove(u),s.Au.delete(t),Tp(s)}else await wm(s.localStore,t,!1).then((()=>Cm(s,t,n))).catch(mo)}async function aN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await gD(n.localStore,t);oA(n,s,null),aA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await au(n,o)}catch(o){await mo(o)}}async function oN(r,t,n){const s=bt(r);try{const o=await(function(f,m){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(jt(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);oA(s,t,n),aA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await au(s,o)}catch(o){await mo(o)}}function aA(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function oA(r,t,n){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Cm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||lA(r,s)}))}function lA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(dp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Tp(r))}function bE(r,t,n){for(const s of n)s instanceof nA?(r.Ru.addReference(s.key,t),lN(r,s)):s instanceof iA?(ut(Ep,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||lA(r,s.key)):_t(19791,{wu:s})}function lN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ut(Ep,"New document in limbo: "+n),r.Eu.add(s),Tp(r))}function Tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(Jt.fromString(t)),s=r.fu.next();r.Au.set(s,new ZD(n)),r.du=r.du.insert(n,s),K0(r.remoteStore,new Ur(di(Sh(n.path)),s,"TargetPurposeLimboResolution",Eh.ce))}}async function au(r,t,n){const s=bt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=hp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(b=>W.forEach(b.Es,(k=>E.persistence.referenceDelegate.addReference(S,b.targetId,k))).next((()=>W.forEach(b.ds,(k=>E.persistence.referenceDelegate.removeReference(S,b.targetId,k)))))))))}catch(S){if(!po(S))throw S;ut(fp,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const k=E.Ms.get(b),G=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(b,Q)}}})(s.localStore,u))}async function uN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ut(Ep,"User change. New user:",t.toKey());const s=await H0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ot($.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await au(n,s.Ls)}}function cN(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function uA(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sN.bind(null,t),t.Pu.H_=KD.bind(null,t.eventManager),t.Pu.yu=YD.bind(null,t.eventManager),t}function hN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return pD(this.persistence,new fD,t.initialUser,this.serializer)}Cu(t){return new q0(cp.mi,this.serializer)}Du(t){return new AD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class fN extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){jt(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new q0((s=>uh.mi(s,n)),this.serializer)}}class Dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await FD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QD})()}createDatastore(t){const n=Dh(t.databaseInfo.databaseId),s=(function(u){return new ID(u)})(t.databaseInfo);return(function(u,f,m,g){return new OD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new VD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return yE.v()?new yE:new SD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new WD(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=bt(n);ut(Ks,"RemoteStore shutting down."),s.Ea.add(5),await su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class dN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ut(Wr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ut(Wr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_p(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(Wr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await H0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await mN(r);ut(Wr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>vE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>vE(t.remoteStore,o))),r._onlineComponents=t}async function mN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Wr,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await nm(r,new hh)}}else ut(Wr,"Using default OfflineComponentProvider"),await nm(r,new fN(void 0));return r._offlineComponents}async function hA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Wr,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(ut(Wr,"Using default OnlineComponentProvider"),await wE(r,new Dm))),r._onlineComponents}function pN(r){return hA(r).then((t=>t.syncEngine))}async function Nm(r){const t=await hA(r),n=t.eventManager;return n.onListen=JD.bind(null,t.syncEngine),n.onUnlisten=nN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iN.bind(null,t.syncEngine),n}function gN(r,t,n={}){const s=new Fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new cA({next:b=>{E.Nu(),f.enqueueAndForget((()=>tA(u,S)));const k=b.docs.has(m);!k&&b.fromCache?y.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&g&&g.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new eA(Sh(m.path),E,{includeMetadataChanges:!0,qa:!0});return J0(u,S)})(await Nm(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",IE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=j0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<X2)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new SC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(ut("ComponentProvider","Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}function yN(r,t,n,s={}){r=Kn(r,Mh);const o=uo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(sT(`https://${m}`),aT("Firestore",!0)),u.host!==dA&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Hs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Xe.MOCK_USER;else{y=K1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(S)}r._authCredentials=new bC(new WT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class he{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(nu(n,he._jsonSchema))return new he(t,s||null,new mt(Jt.fromString(n.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Se("string",he._jsonSchemaVersion),referencePath:Se("string")};class Gr extends Ws{constructor(t,n,s){super(t,n,Sh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new mt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function mA(r,t,...n){if(r=Pe(r),JT("collection","path",t),r instanceof Mh){const s=Jt.fromString(t,...n);return jv(s),new Gr(r,null,s)}{if(!(r instanceof he||r instanceof Gr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return jv(s),new Gr(r.firestore,null,s)}}function Vh(r,t,...n){if(r=Pe(r),arguments.length===1&&(t=Jm.newId()),JT("doc","path",t),r instanceof Mh){const s=Jt.fromString(t,...n);return Bv(s),new he(r,null,new mt(s))}{if(!(r instanceof he||r instanceof Gr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Bv(s),new he(r.firestore,r instanceof Gr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G0(this,"async_queue_retry"),this._c=()=>{const s=em();s&&ut(DE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;ut(DE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",OE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=yp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function OE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ys extends Mh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new NE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function _N(r,t){const n=typeof r=="object"?r:cT(),s=typeof r=="string"?r:ih,o=qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=G1("firestore");u&&yN(o,...u)}return o}function Ap(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vN(r),r._firestoreClient}function vN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new FC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(He.fromBase64String(t))}catch(n){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Mn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Se("string",Mn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,pi._jsonSchema))return new pi(t.latitude,t.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Se("string",pi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new gi(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Se("string",gi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^__.*__$/;class TN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new es(t,this.data,this.fieldMask,n,this.fieldTransforms):new iu(t,this.data,n,this.fieldTransforms)}}class pA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new es(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function gA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class bp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(gA(this.Ac)&&EN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Dh(t)}Cc(t,n,s,o=!1){return new bp({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(r){const t=r._freezeSettings(),n=Dh(r._databaseId);return new AN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function yA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);wp("Data must be an object, but it was:",f,s);const m=_A(s,f);let g,y;if(u.merge)g=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=Om(t,S,n);if(!f.contains(b))throw new ot($.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EA(E,b)||E.push(b)}g=new _n(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new TN(new un(m),g,y)}class kh extends Sp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}function SN(r,t,n,s){const o=r.Cc(1,t,n);wp("Data must be an object, but it was:",o,s);const u=[],f=un.empty();ts(s,((g,y)=>{const E=Rp(t,g,n);y=Pe(y);const S=o.yc(E);if(y instanceof kh)u.push(E);else{const b=ou(y,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new _n(u);return new pA(f,m,o.fieldTransforms)}function bN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Om(t,s,n)],g=[o];if(u.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Om(t,u[b])),g.push(u[b+1]);const y=[],E=un.empty();for(let b=m.length-1;b>=0;--b)if(!EA(y,m[b])){const k=m[b];let G=g[b];G=Pe(G);const Q=f.yc(k);if(G instanceof kh)y.push(k);else{const q=ou(G,Q);q!=null&&(y.push(k),E.set(k,q))}}const S=new _n(y);return new pA(E,S,f.fieldTransforms)}function wN(r,t,n,s=!1){return ou(n,r.Cc(s?4:3,t))}function ou(r,t){if(vA(r=Pe(r)))return wp("Unsupported field value:",t,r),_A(r,t);if(r instanceof Sp)return(function(s,o){if(!gA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=ou(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ee.fromDate(s);return{timestampValue:lh(o.serializer,u)}}if(s instanceof ee){const u=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(s instanceof pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:x0(o.serializer,s._byteString)};if(s instanceof he){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gi)return(function(f,m){return{mapValue:{fields:{[l0]:{stringValue:u0},[rh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return sp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${vh(s)}`)})(r,t)}function _A(r,t){const n={};return n0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ts(r,((s,o)=>{const u=ou(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof pi||r instanceof Mn||r instanceof he||r instanceof Sp||r instanceof gi)}function wp(r,t,n){if(!vA(n)||!t0(n)){const s=vh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Om(r,t,n){if((t=Pe(t))instanceof xh)return t._internalPath;if(typeof t=="string")return Rp(r,t);throw fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RN=new RegExp("[~\\*/\\[\\]]");function Rp(r,t,n){if(t.search(RN)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xh(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot($.INVALID_ARGUMENT,m+r+g)}function EA(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ip("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IN extends TA{data(){return super.data()}}function Ip(r,t){return typeof t=="string"?Rp(r,t):t instanceof xh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class AA extends Cp{}function DN(r,t,...n){let s=[];t instanceof Cp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Np)).length,m=u.filter((g=>g instanceof Dp)).length;if(f>1||f>0&&m>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Dp extends AA{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Dp(t,n,s)}_apply(t){const n=this._parse(t);return SA(t._query,n),new Ws(t.firestore,t.converter,vm(t._query,n))}_parse(t){const n=Ph(t.firestore);return(function(u,f,m,g,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xE(S,E);const G=[];for(const Q of S)G.push(VE(g,u,Q));b={arrayValue:{values:G}}}else b=VE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xE(S,E),b=wN(m,f,S,E==="in"||E==="not-in");return Ae.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Np extends Cp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Np(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)SA(f,g),f=vm(f,g)})(t._query,n),new Ws(t.firestore,t.converter,vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Op extends AA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Op(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new go(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function NN(r,t="asc"){const n=t,s=Ip("orderBy",r);return Op._create(s,n)}function VE(r,t,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(t)&&n.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!mt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(r,new mt(s))}if(n instanceof he)return Xv(r,n._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function xE(r,t){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ON{convertValue(t,n="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ts(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[rh].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new gi(n)}convertGeoPoint(t){return new pi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=Yr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);jt(B0(s),9688,{name:t});const o=new Hl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Ol{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends TA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ip("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Se("string",qs._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class Qc extends qs{data(t={}){return super.data(t)}}class Wa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:MN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){r=Kn(r,he);const t=Kn(r.firestore,Ys);return gN(Ap(t),r._key).then((n=>IA(t,r,n)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Se("string",Wa._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class wA extends ON{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,n)}}function xN(r,t,n){r=Kn(r,he);const s=Kn(r.firestore,Ys),o=bA(r.converter,t,n);return Mp(s,[yA(Ph(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yn.none())])}function PN(r,t,n,...s){r=Kn(r,he);const o=Kn(r.firestore,Ys),u=Ph(o);let f;return f=typeof(t=Pe(t))=="string"||t instanceof xh?bN(u,"updateDoc",r._key,t,n,s):SN(u,"updateDoc",r._key,t),Mp(o,[f.toMutation(r._key,Yn.exists(!0))])}function kN(r,t){const n=Kn(r.firestore,Ys),s=Vh(r),o=bA(r.converter,t);return Mp(n,[yA(Ph(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function RA(r,...t){r=Pe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ME(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ME(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof he)f=Kn(r.firestore,Ys),m=Sh(r._key.path),u={next:g=>{t[s]&&t[s](IA(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Kn(r,Ws);f=Kn(g.firestore,Ys),m=g._query;const y=new wA(f);u={next:E=>{t[s]&&t[s](new Wa(f,y,g,E))},error:t[s+1],complete:t[s+2]},CN(r._query)}return(function(y,E,S,b){const k=new cA(b),G=new eA(E,k,S);return y.asyncQueue.enqueueAndForget((async()=>J0(await Nm(y),G))),()=>{k.Nu(),y.asyncQueue.enqueueAndForget((async()=>tA(await Nm(y),G)))}})(Ap(f),m,o,u)}function Mp(r,t){return(function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget((async()=>rN(await pN(s),o,u))),u.promise})(Ap(r),t)}function IA(r,t,n){const s=n.docs.get(t._key),o=new wA(r);return new qs(r,o,t._key,s,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){fo=o})(co),Ja(new Fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ys(new wC(s.getProvider("auth-internal")),new CC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),jr(kv,Lv,t),jr(kv,Lv,"esm2020")})();const LN={apiKey:"AIzaSyDWjt0YeuEhUCMMOKToGUhjq21K8HlZ8Fk",authDomain:"rock-f5937.firebaseapp.com",projectId:"rock-f5937",storageBucket:"rock-f5937.appspot.com",messagingSenderId:"1066836195707",appId:"1:1066836195707:web:153c8721f8cf0510af65de",measurementId:"G-SLZXLRZMCG"},CA=uT(LN),ao=vC(CA);aI(ao,PT).catch(()=>{});const lu=_N(CA);function UN(r){const[t,n]=F.useState(null);return F.useEffect(()=>{if(!r){n(null);return}const s=Vh(lu,"roles",r.uid),o=RA(s,u=>n(u.data()||{}),()=>n({}));return()=>o()},[r]),t}function zN(r){return!!(r?.admin||r?.lead||r?.rm)}const Vp=["Nieuw","IDENTIFY","MAP","ENGAGE","PROPOSAL","COMMIT"];function BN(){const[r,t]=F.useState([]),[n,s]=F.useState(!0),[o,u]=F.useState("ALL"),[f,m]=F.useState(""),[g,y]=F.useState(!1),E=UN(ao.currentUser);F.useEffect(()=>{const b=DN(mA(lu,"leads"),NN("created_at","desc")),k=RA(b,G=>{const Q=G.docs.map(q=>({id:q.id,...q.data()}));t(Q),s(!1)});return()=>k()},[]);const S=F.useMemo(()=>r.filter(b=>!(o!=="ALL"&&(b.stage||"").toUpperCase()!==o.toUpperCase()||f&&!`${b.company} ${b.name||""} ${b.email||""}`.toLowerCase().includes(f.toLowerCase()))),[r,o,f]);return et.jsxs("div",{className:"space-y-4",children:[et.jsxs("header",{className:"flex items-center justify-between",children:[et.jsx("h1",{className:"text-2xl font-bold",children:"Leads"}),zN(E)&&et.jsx("button",{onClick:()=>y(!0),className:"rounded-xl bg-brand text-white px-4 py-2 font-semibold",children:"+ Nieuwe lead"})]}),et.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[et.jsxs("select",{value:o,onChange:b=>u(b.target.value),className:"border rounded-lg px-3 py-2",children:[et.jsx("option",{value:"ALL",children:"Alle stages"}),Vp.map(b=>et.jsx("option",{value:b,children:b},b))]}),et.jsx("input",{value:f,onChange:b=>m(b.target.value),placeholder:"Zoek op company/contact/email…",className:"border rounded-lg px-3 py-2 min-w-[280px]"}),et.jsxs("span",{className:"text-sm text-slate-500",children:[S.length," items"]})]}),et.jsx("div",{className:"overflow-auto rounded-2xl border bg-white",children:et.jsxs("table",{className:"min-w-full text-sm",children:[et.jsx("thead",{className:"bg-slate-50 text-slate-600",children:et.jsxs("tr",{children:[et.jsx("th",{className:"text-left px-4 py-2",children:"Company"}),et.jsx("th",{className:"text-left px-4 py-2",children:"Contact"}),et.jsx("th",{className:"text-left px-4 py-2",children:"Email"}),et.jsx("th",{className:"text-left px-4 py-2",children:"Phone"}),et.jsx("th",{className:"text-left px-4 py-2",children:"Stage"}),et.jsx("th",{className:"text-left px-4 py-2",children:"Acties"})]})}),et.jsxs("tbody",{children:[n&&et.jsx("tr",{children:et.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:6,children:"Laden…"})}),!n&&S.length===0&&et.jsx("tr",{children:et.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:6,children:"Geen resultaten"})}),S.map(b=>et.jsx(jN,{row:b},b.id))]})]})}),g&&et.jsx(qN,{onClose:()=>y(!1)})]})}function jN({row:r}){async function t(n){r.id&&await PN(Vh(lu,"leads",r.id),{stage:n})}return et.jsxs("tr",{className:"border-t",children:[et.jsx("td",{className:"px-4 py-2 font-medium",children:r.company}),et.jsx("td",{className:"px-4 py-2",children:r.name||"—"}),et.jsx("td",{className:"px-4 py-2",children:r.email||"—"}),et.jsx("td",{className:"px-4 py-2",children:r.phone||"—"}),et.jsx("td",{className:"px-4 py-2",children:et.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5",children:r.stage||"Nieuw"})}),et.jsx("td",{className:"px-4 py-2",children:et.jsx("div",{className:"flex gap-1 flex-wrap",children:Vp.map(n=>et.jsx("button",{onClick:()=>t(n),className:"px-2 py-1 rounded border text-xs "+((r.stage||"").toUpperCase()===n.toUpperCase()?"bg-brand text-white border-brand":"hover:bg-slate-50"),children:n},n))})})]})}function qN({onClose:r}){const[t,n]=F.useState(""),[s,o]=F.useState(""),[u,f]=F.useState(""),[m,g]=F.useState(""),[y,E]=F.useState(""),[S,b]=F.useState(!1),k=ao.currentUser;async function G(Q){if(Q.preventDefault(),!!t){b(!0);try{await kN(mA(lu,"leads"),{company:t,name:s,email:u,phone:m||null,notes:y,stage:"Nieuw",created_at:Date.now(),ownerUid:k?.uid,created_by:k?.uid}),r(),n(""),o(""),f(""),g(""),E("")}catch(q){console.error("ADD LEAD ERROR",q?.code,q?.message),alert(`Mislukt: ${q?.code} – ${q?.message}`)}finally{b(!1)}}}return et.jsxs("div",{className:"fixed inset-0 z-50",children:[et.jsx("div",{className:"absolute inset-0 bg-black/20",onClick:r}),et.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:et.jsxs("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl",children:[et.jsxs("div",{className:"px-5 py-4 border-b flex items-center justify-between",children:[et.jsx("h2",{className:"text-lg font-semibold",children:"Nieuwe lead"}),et.jsx("button",{onClick:r,children:"✕"})]}),et.jsxs("form",{onSubmit:G,className:"p-5 space-y-3",children:[et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Company *"}),et.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:t,onChange:Q=>n(Q.target.value),required:!0})]}),et.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Contact"}),et.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s,onChange:Q=>o(Q.target.value)})]}),et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Email"}),et.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",value:u,onChange:Q=>f(Q.target.value)})]})]}),et.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Phone"}),et.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:m,onChange:Q=>g(Q.target.value)})]}),et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Stage"}),et.jsx("select",{className:"w-full border rounded-lg px-3 py-2",value:"Nieuw",onChange:()=>{},children:Vp.map(Q=>et.jsx("option",{value:Q,children:Q},Q))})]})]}),et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Notes"}),et.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,value:y,onChange:Q=>E(Q.target.value)})]}),et.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[et.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-lg border",children:"Annuleren"}),et.jsx("button",{disabled:S,className:"px-4 py-2 rounded-lg bg-brand text-white font-semibold",children:S?"Opslaan…":"Opslaan"})]})]})]})})]})}function PE(){const[r,t]=F.useState("");async function n(u){const f=Vh(lu,"roles",u);(await VN(f)).exists()||await xN(f,{viewer:!0,rm:!0},{merge:!0})}async function s(){t("");try{const u=new ji,f=await CI(ao,u);await n(f.user.uid)}catch(u){t(u?.message||String(u))}}async function o(){t("");try{const u=await nI(ao);await n(u.user.uid)}catch(u){t(u?.message||String(u))}}return et.jsx("div",{className:"min-h-screen grid place-items-center bg-bg p-6",children:et.jsxs("div",{className:"w-full max-w-sm bg-white rounded-2xl border shadow-card p-6 space-y-4",children:[et.jsx("h1",{className:"text-xl font-semibold",children:"Inloggen"}),r&&et.jsx("div",{className:"text-red-600 text-sm",children:r}),et.jsx("button",{onClick:s,className:"w-full rounded-lg bg-brand text-white py-2 font-medium",children:"Inloggen met Google"}),et.jsx("button",{onClick:o,className:"w-full rounded-lg border py-2 font-medium",children:"Ga verder als gast (anoniem)"}),et.jsx("p",{className:"text-xs text-slate-500",children:"Gast = alleen voor testen. In productie een normale provider gebruiken."})]})})}function HN(){const[r,t]=F.useState(null),[n,s]=F.useState(!1);return F.useEffect(()=>{const o=uI(ao,u=>{t(u),s(!0)});return()=>o()},[]),n?r?et.jsx(I1,{children:et.jsxs("div",{className:"min-h-screen bg-bg text-ink",children:[et.jsx("header",{className:"sticky top-0 bg-white/80 backdrop-blur border-b",children:et.jsx("div",{className:"max-w-5xl mx-auto p-3 font-semibold",children:"ROCK CRM"})}),et.jsx("main",{className:"max-w-5xl mx-auto p-4",children:et.jsxs(r1,{children:[et.jsx(Il,{path:"/",element:et.jsx(n1,{to:"/pipeline",replace:!0})}),et.jsx(Il,{path:"/pipeline",element:et.jsx(BN,{})}),et.jsx(Il,{path:"/contacts",element:et.jsx(Contacts,{})}),et.jsx(Il,{path:"/signin",element:et.jsx(PE,{})})]})})]})}):et.jsx(PE,{}):et.jsx("div",{className:"p-8",children:"Laden…"})}db.createRoot(document.getElementById("root")).render(et.jsx(sb.StrictMode,{children:et.jsx(HN,{})}));
