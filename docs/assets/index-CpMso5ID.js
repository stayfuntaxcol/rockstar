(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function iT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Nb(){if(hv)return Ml;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var fv;function Db(){return fv||(fv=1,om.exports=Nb()),om.exports}var M=Db(),lm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function xb(){if(dv)return Ie;dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Q={};function z(N,ne,ue){this.props=N,this.context=ne,this.refs=Q,this.updater=ue||P}z.prototype.isReactComponent={},z.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ie(){}ie.prototype=z.prototype;function Z(N,ne,ue){this.props=N,this.context=ne,this.refs=Q,this.updater=ue||P}var se=Z.prototype=new ie;se.constructor=Z,F(se,z.prototype),se.isPureReactComponent=!0;var Re=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function x(N,ne,ue,Y,ae,ye){return ue=ye.ref,{$$typeof:r,type:N,key:ne,ref:ue!==void 0?ue:null,props:ye}}function w(N,ne){return x(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ue){return ne[ue]})}var D=/\/+/g;function L(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):ne.toString(36)}function C(){}function rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ke(N,ne,ue,Y,ae){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case r:case e:me=!0;break;case E:return me=N._init,Ke(me(N._payload),ne,ue,Y,ae)}}if(me)return ae=ae(N),me=Y===""?"."+L(N,0):Y,Re(ae)?(ue="",me!=null&&(ue=me.replace(D,"$&/")+"/"),Ke(ae,ne,ue,"",function(Ft){return Ft})):ae!=null&&(R(ae)&&(ae=w(ae,ue+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+me)),ne.push(ae)),1;me=0;var Ze=Y===""?".":Y+":";if(Re(N))for(var je=0;je<N.length;je++)Y=N[je],ye=Ze+L(Y,je),me+=Ke(Y,ne,ue,ye,ae);else if(je=b(N),typeof je=="function")for(N=je.call(N),je=0;!(Y=N.next()).done;)Y=Y.value,ye=Ze+L(Y,je++),me+=Ke(Y,ne,ue,ye,ae);else if(ye==="object"){if(typeof N.then=="function")return Ke(rt(N),ne,ue,Y,ae);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return me}function X(N,ne,ue){if(N==null)return N;var Y=[],ae=0;return Ke(N,Y,"","",function(ye){return ne.call(ue,ye,ae++)}),Y}function oe(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(ue){(N._status===0||N._status===-1)&&(N._status=1,N._result=ue)},function(ue){(N._status===0||N._status===-1)&&(N._status=2,N._result=ue)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ke(){}return Ie.Children={map:X,forEach:function(N,ne,ue){X(N,function(){ne.apply(this,arguments)},ue)},count:function(N){var ne=0;return X(N,function(){ne++}),ne},toArray:function(N){return X(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=z,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=Z,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return fe.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cloneElement=function(N,ne,ue){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Y=F({},N.props),ae=N.key,ye=void 0;if(ne!=null)for(me in ne.ref!==void 0&&(ye=void 0),ne.key!==void 0&&(ae=""+ne.key),ne)!Ce.call(ne,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ne.ref===void 0||(Y[me]=ne[me]);var me=arguments.length-2;if(me===1)Y.children=ue;else if(1<me){for(var Ze=Array(me),je=0;je<me;je++)Ze[je]=arguments[je+2];Y.children=Ze}return x(N.type,ae,void 0,void 0,ye,Y)},Ie.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,ne,ue){var Y,ae={},ye=null;if(ne!=null)for(Y in ne.key!==void 0&&(ye=""+ne.key),ne)Ce.call(ne,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ae[Y]=ne[Y]);var me=arguments.length-2;if(me===1)ae.children=ue;else if(1<me){for(var Ze=Array(me),je=0;je<me;je++)Ze[je]=arguments[je+2];ae.children=Ze}if(N&&N.defaultProps)for(Y in me=N.defaultProps,me)ae[Y]===void 0&&(ae[Y]=me[Y]);return x(N,ye,void 0,void 0,null,ae)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=R,Ie.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:oe}},Ie.memo=function(N,ne){return{$$typeof:y,type:N,compare:ne===void 0?null:ne}},Ie.startTransition=function(N){var ne=fe.T,ue={};fe.T=ue;try{var Y=N(),ae=fe.S;ae!==null&&ae(ue,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ke,de)}catch(ye){de(ye)}finally{fe.T=ne}},Ie.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ie.use=function(N){return fe.H.use(N)},Ie.useActionState=function(N,ne,ue){return fe.H.useActionState(N,ne,ue)},Ie.useCallback=function(N,ne){return fe.H.useCallback(N,ne)},Ie.useContext=function(N){return fe.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,ne){return fe.H.useDeferredValue(N,ne)},Ie.useEffect=function(N,ne,ue){var Y=fe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(N,ne)},Ie.useId=function(){return fe.H.useId()},Ie.useImperativeHandle=function(N,ne,ue){return fe.H.useImperativeHandle(N,ne,ue)},Ie.useInsertionEffect=function(N,ne){return fe.H.useInsertionEffect(N,ne)},Ie.useLayoutEffect=function(N,ne){return fe.H.useLayoutEffect(N,ne)},Ie.useMemo=function(N,ne){return fe.H.useMemo(N,ne)},Ie.useOptimistic=function(N,ne){return fe.H.useOptimistic(N,ne)},Ie.useReducer=function(N,ne,ue){return fe.H.useReducer(N,ne,ue)},Ie.useRef=function(N){return fe.H.useRef(N)},Ie.useState=function(N){return fe.H.useState(N)},Ie.useSyncExternalStore=function(N,ne,ue){return fe.H.useSyncExternalStore(N,ne,ue)},Ie.useTransition=function(){return fe.H.useTransition()},Ie.version="19.1.1",Ie}var mv;function np(){return mv||(mv=1,lm.exports=xb()),lm.exports}var q=np();const Ob=iT(q);var um={exports:{}},Vl={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function Mb(){return pv||(pv=1,(function(r){function e(X,oe){var de=X.length;X.push(oe);e:for(;0<de;){var ke=de-1>>>1,N=X[ke];if(0<o(N,oe))X[ke]=oe,X[de]=N,de=ke;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],de=X.pop();if(de!==oe){X[0]=de;e:for(var ke=0,N=X.length,ne=N>>>1;ke<ne;){var ue=2*(ke+1)-1,Y=X[ue],ae=ue+1,ye=X[ae];if(0>o(Y,de))ae<N&&0>o(ye,Y)?(X[ke]=ye,X[ae]=de,ke=ae):(X[ke]=Y,X[ue]=de,ke=ue);else if(ae<N&&0>o(ye,de))X[ke]=ye,X[ae]=de,ke=ae;else break e}}return oe}function o(X,oe){var de=X.sortIndex-oe.sortIndex;return de!==0?de:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,b=3,P=!1,F=!1,Q=!1,z=!1,ie=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(X){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=X)s(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function fe(X){if(Q=!1,Re(X),!F)if(n(p)!==null)F=!0,Ce||(Ce=!0,L());else{var oe=n(y);oe!==null&&Ke(fe,oe.startTime-X)}}var Ce=!1,x=-1,w=5,R=-1;function V(){return z?!0:!(r.unstable_now()-R<w)}function D(){if(z=!1,Ce){var X=r.unstable_now();R=X;var oe=!0;try{e:{F=!1,Q&&(Q=!1,Z(x),x=-1),P=!0;var de=b;try{t:{for(Re(X),A=n(p);A!==null&&!(A.expirationTime>X&&V());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,b=A.priorityLevel;var N=ke(A.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){A.callback=N,Re(X),oe=!0;break t}A===n(p)&&s(p),Re(X)}else s(p);A=n(p)}if(A!==null)oe=!0;else{var ne=n(y);ne!==null&&Ke(fe,ne.startTime-X),oe=!1}}break e}finally{A=null,b=de,P=!1}oe=void 0}}finally{oe?L():Ce=!1}}}var L;if(typeof se=="function")L=function(){se(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=D,L=function(){rt.postMessage(null)}}else L=function(){ie(D,0)};function Ke(X,oe){x=ie(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var de=b;b=oe;try{return X()}finally{b=de}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=b;b=X;try{return oe()}finally{b=de}},r.unstable_scheduleCallback=function(X,oe,de){var ke=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,X={id:E++,callback:oe,priorityLevel:X,startTime:de,expirationTime:N,sortIndex:-1},de>ke?(X.sortIndex=de,e(y,X),n(p)===null&&X===n(y)&&(Q?(Z(x),x=-1):Q=!0,Ke(fe,de-ke))):(X.sortIndex=N,e(p,X),F||P||(F=!0,Ce||(Ce=!0,L()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var oe=b;return function(){var de=b;b=oe;try{return X.apply(this,arguments)}finally{b=de}}}})(hm)),hm}var gv;function Vb(){return gv||(gv=1,cm.exports=Mb()),cm.exports}var fm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Pb(){if(yv)return Yt;yv=1;var r=np();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Yt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var _v;function kb(){if(_v)return fm.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=Pb(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Lb(){if(vv)return Vl;vv=1;var r=Vb(),e=np(),n=kb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case z:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case Ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case se:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Ke=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],N=-1;function ne(t){return{current:t}}function ue(t){0>N||(t.current=ke[N],ke[N]=null,N--)}function Y(t,i){N++,ke[N]=t.current,t.current=i}var ae=ne(null),ye=ne(null),me=ne(null),Ze=ne(null);function je(t,i){switch(Y(me,i),Y(ye,t),Y(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ae),Y(ae,t)}function Ft(){ue(ae),ue(ye),ue(me)}function lr(t){t.memoizedState!==null&&Y(Ze,t);var i=ae.current,a=z_(i,t.type);i!==a&&(Y(ye,t),Y(ae,a))}function sn(t){ye.current===t&&(ue(ae),ue(ye)),Ze.current===t&&(ue(Ze),Cl._currentValue=de)}var Un=Object.prototype.hasOwnProperty,bi=r.unstable_scheduleCallback,ms=r.unstable_cancelCallback,lf=r.unstable_shouldYield,Co=r.unstable_requestPaint,an=r.unstable_now,Ru=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,uf=r.unstable_LowPriority,No=r.unstable_IdlePriority,cf=r.log,ps=r.unstable_setDisableYieldValue,ur=null,Gt=null;function An(t){if(typeof cf=="function"&&ps(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ur,t)}catch{}}var Jt=Math.clz32?Math.clz32:Cu,hf=Math.log,Iu=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(hf(t)/Iu|0)|0}var ii=256,cr=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=jn(l):(v&=T,v!==0?h=jn(v):a||(a=T&~t,a!==0&&(h=jn(a))))):(T=l&~d,T!==0?h=jn(T):v!==0?h=jn(v):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function hr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ca(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=ii;return ii<<=1,(ii&4194048)===0&&(ii=256),t}function fr(){var t=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),t}function ha(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Jt(a),ee=1<<$;T[$]=0,I[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&dr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function dr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function mr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function xo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ri(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function ff(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var ri=Math.random().toString(36).slice(2),mt="__reactFiber$"+ri,jt="__reactProps$"+ri,Ii="__reactContainer$"+ri,gs="__reactEvents$"+ri,ys="__reactListeners$"+ri,df="__reactHandles$"+ri,zn="__reactResources$"+ri,pr="__reactMarker$"+ri;function fa(t){delete t[mt],delete t[jt],delete t[gs],delete t[ys],delete t[df]}function si(t){var i=t[mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=F_(t);t!==null;){if(a=t[mt])return a;t=F_(t)}return i}t=a,a=t.parentNode}return null}function ai(t){if(t=t[mt]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yr(t){var i=t[zn];return i||(i=t[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[pr]=!0}var Du=new Set,_s={};function oi(t,i){li(t,i),li(t+"Capture",i)}function li(t,i){for(_s[t]=i,t=0;t<i.length;t++)Du.add(i[t])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},da={};function mf(t){return Un.call(da,t)?!0:Un.call(ui,t)?!1:vs.test(t)?da[t]=!0:(ui[t]=!0,!1)}function Es(t,i,a){if(mf(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ts(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ss,ma;function Ci(t){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+ma}var pa=!1;function ga(t,i){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){H=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function pf(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return Ci("Activity");default:return""}}function Bn(t){try{var i="";do i+=pf(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function As(t){var i=_r(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function vr(t){t._valueTracker||(t._valueTracker=As(t))}function Qe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bs=/[\n"\\]/g;function Ot(t){return t.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ot(i)):t.value!==""+ot(i)&&(t.value=""+ot(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Po(t,v,ot(i)):a!=null?Po(t,v,ot(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ot(T):t.removeAttribute("name")}function Vo(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ot(a):"",i=i!=null?""+ot(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Po(t,i,a){i==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ot(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function xu(t,i,a){if(i!=null&&(i=""+ot(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ot(a):""}function Ou(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ot(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Di.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(t,d,i[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return Vu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Uo=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,en=null;function Pu(t){var i=ai(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Mo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));Mo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Qe(l)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var ws=!1;function Rs(t,i,a){if(ws)return t(i,a);ws=!0;try{var l=t(i);return l}finally{if(ws=!1,(Tr!==null||en!==null)&&(bc(),Tr&&(i=Tr,t=en,en=Tr=null,Pu(i),t)))for(i=0;i<t.length;i++)Pu(t[i])}}function Sr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(tn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{xi=!1}var In=null,Je=null,_a=null;function ku(){if(_a)return _a;var t,i=Je,a=i.length,l,h="value"in In?In.value:In.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return _a=h.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Cs(){return!0}function zo(){return!1}function Rt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Cs:zo,this.isPropagationStopped=zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),i}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Rt(Kt),Ds=E({},Kt,{view:0,detail:0}),xs=Rt(Ds),va,Os,ci,Ms=E({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(va=t.screenX-ci.screenX,Os=t.screenY-ci.screenY):Os=va=0,ci=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Vs=Rt(Ms),gf=E({},Ms,{dataTransfer:0}),Lu=Rt(gf),Ps=E({},Ds,{relatedTarget:0}),Ea=Rt(Ps),Uu=E({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=Rt(Uu),qo=E({},Kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Rt(qo),Ta=E({},Kt,{data:0}),Ho=Rt(Ta),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Sa(){return qu}var Hu=E({},Ds,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Rt(Hu),nn=E({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Rt(nn),Fu=E({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),br=Rt(Fu),c=E({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),g=Rt(c),_=E({},Ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Rt(_),j=E({},Kt,{newState:0,oldState:0}),K=Rt(j),re=[9,13,27,32],be=tn&&"CompositionEvent"in window,it=null;tn&&"documentMode"in document&&(it=document.documentMode);var He=tn&&"TextEvent"in window&&!it,gt=tn&&(!be||it&&8<it&&11>=it),fn=" ",hi=!1;function Hn(t,i){switch(t){case"keyup":return re.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function Go(t,i){switch(t){case"compositionend":return Fn(i);case"keypress":return i.which!==32?null:(hi=!0,fn);case"textInput":return t=i.data,t===fn&&hi?null:t;default:return null}}function nA(t,i){if(Gn)return t==="compositionend"||!be&&Hn(t,i)?(t=ku(),_a=Je=In=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gt&&i.locale!=="ko"?null:i.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iA[t.type]:i==="textarea"}function eg(t,i,a,l){Tr?en?en.push(l):en=[l]:Tr=l,i=Dc(i,"onChange"),0<i.length&&(a=new Ns("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Qo=null;function rA(t){V_(t,0)}function Gu(t){var i=gr(t);if(Qe(i))return t}function tg(t,i){if(t==="change")return i}var ng=!1;if(tn){var yf;if(tn){var _f="oninput"in document;if(!_f){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),_f=typeof ig.oninput=="function"}yf=_f}else yf=!1;ng=yf&&(!document.documentMode||9<document.documentMode)}function rg(){Ko&&(Ko.detachEvent("onpropertychange",sg),Qo=Ko=null)}function sg(t){if(t.propertyName==="value"&&Gu(Qo)){var i=[];eg(i,Qo,t,jo(t)),Rs(rA,i)}}function sA(t,i,a){t==="focusin"?(rg(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",sg)):t==="focusout"&&rg()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Qo)}function oA(t,i){if(t==="click")return Gu(i)}function lA(t,i){if(t==="input"||t==="change")return Gu(i)}function uA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:uA;function Yo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Un.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,i){var a=ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ni(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ni(t.document)}return i}function vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cA=tn&&"documentMode"in document&&11>=document.documentMode,ba=null,Ef=null,Xo=null,Tf=!1;function cg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||ba==null||ba!==Ni(l)||(l=ba,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Dc(Ef,"onSelect"),0<l.length&&(i=new Ns("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Sf={},hg={};tn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ls(t){if(Sf[t])return Sf[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hg)return Sf[t]=i[a];return t}var fg=Ls("animationend"),dg=Ls("animationiteration"),mg=Ls("animationstart"),hA=Ls("transitionrun"),fA=Ls("transitionstart"),dA=Ls("transitioncancel"),pg=Ls("transitionend"),gg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Kn(t,i){gg.set(t,i),oi(i,[t])}var yg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Bn(i)},yg.set(t,i),i)}return{value:t,source:i,stack:Bn(i)}}var Nn=[],Ra=0,bf=0;function Ku(){for(var t=Ra,i=bf=Ra=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&_g(a,h,d)}}function Qu(t,i,a,l){Nn[Ra++]=t,Nn[Ra++]=i,Nn[Ra++]=a,Nn[Ra++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function Ia(t,i){return Qu(t,null,null,i),Yu(t)}function _g(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<El)throw El=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function mA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new mA(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Rf(t)&&(v=1);else if(typeof t=="string")v=gb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=mn(31,a,i,h),t.elementType=R,t.lanes=d,t;case F:return Us(a.children,h,d,i);case Q:v=8,h|=24;break;case z:return t=mn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case fe:return t=mn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case Ce:return t=mn(19,a,i,h),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:case se:v=10;break e;case Z:v=9;break e;case Re:v=11;break e;case x:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function Cf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Na=[],Da=0,$u=null,Wu=0,Dn=[],xn=0,js=null,Vi=1,Pi="";function zs(t,i){Na[Da++]=Wu,Na[Da++]=$u,$u=t,Wu=i}function Eg(t,i,a){Dn[xn++]=Vi,Dn[xn++]=Pi,Dn[xn++]=js,js=t;var l=Vi;t=Pi;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-Jt(i)+h|a<<h|l,Pi=d+t}else Vi=1<<d|a<<h|l,Pi=t}function Nf(t){t.return!==null&&(zs(t,1),Eg(t,1,0))}function Df(t){for(;t===$u;)$u=Na[--Da],Na[Da]=null,Wu=Na[--Da],Na[Da]=null;for(;t===js;)js=Dn[--xn],Dn[xn]=null,Pi=Dn[--xn],Dn[xn]=null,Vi=Dn[--xn],Dn[xn]=null}var rn=null,ht=null,Be=!1,Bs=null,fi=!1,xf=Error(s(519));function qs(t){var i=Error(s(418,""));throw Zo(Cn(i,t)),xf}function Tg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[mt]=t,i[jt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Oe(Sl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Vo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vr(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ou(i,l.value,l.defaultValue,l.children),vr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||U_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||qs(t)}function Sg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:rn=rn.return}}function $o(t){if(t!==rn)return!1;if(!Be)return Sg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&ht&&qs(t),Sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=Yn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,zr(t.type)?(t=Wd,Wd=null,ht=t):ht=i):ht=rn?Yn(t.stateNode.nextSibling):null;return!0}function Wo(){ht=rn=null,Be=!1}function Ag(){var t=Bs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Bs=null),t}function Zo(t){Bs===null?Bs=[t]:Bs.push(t)}var Of=ne(null),Hs=null,ki=null;function wr(t,i,a){Y(Of,i._currentValue),i._currentValue=a}function Li(t){t._currentValue=Of.current,ue(Of)}function Mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Vf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Mf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Mf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ze.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&Vf(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return bg(Hs,t)}function Ju(t,i){return Hs===null&&Fs(t),bg(t,i)}function bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(t===null)throw Error(s(308));ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ki=ki.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,It={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new pA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&gA(yA,function(){t.controller.abort()})}var tl=null,kf=0,xa=0,Oa=null;function _A(t,i){if(tl===null){var a=tl=[];kf=0,xa=Ud(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(wg,wg),i}function wg(){if(--kf===0&&tl!==null){Oa!==null&&(Oa.status="fulfilled");var t=tl;tl=null,xa=0,Oa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(t,i),Rg!==null&&Rg(t,i)};var Gs=ne(null);function Lf(){var t=Gs.current;return t!==null?t:et.pooledCache}function ec(t,i){i===null?Y(Gs,Gs.current):Y(Gs,i.pool)}function Ig(){var t=Lf();return t===null?null:{parent:It._currentValue,pool:t}}var nl=Error(s(460)),Cg=Error(s(474)),tc=Error(s(542)),Uf={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function Dg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(nc,nc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t;default:if(typeof i.status=="string")i.then(nc,nc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t}throw il=i,nl}}var il=null;function xg(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function Og(t){if(t===nl||t===tc)throw Error(s(483))}var Rr=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),_g(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mr(t,a)}}function Bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var qf=!1;function sl(){if(qf){var t=Oa;if(t!==null)throw t}}function al(t,i,a,l){qf=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,$=B=I=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===xa&&(qf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,_e=T;H=i;var $e=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){ee=Se.call($e,ee,H);break e}ee=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,H=typeof Se=="function"?Se.call($e,ee,H):Se,H==null)break e;ee=E({},ee,H);break e;case 2:Rr=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=G,I=ee):$=$.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),kr|=v,t.lanes=v,t.memoizedState=ee}}function Mg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mg(a[t],i)}var Ma=ne(null),ic=ne(0);function Pg(t,i){t=Fi,Y(ic,t),Y(Ma,i),Fi=t|i.baseLanes}function Hf(){Y(ic,Fi),Y(Ma,Ma.current)}function Ff(){Fi=ic.current,ue(Ma),ue(ic)}var Nr=0,Ne=null,Ye=null,Et=null,rc=!1,Va=!1,Ks=!1,sc=0,ol=0,Pa=null,EA=0;function yt(){throw Error(s(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Kf(t,i,a,l,h,d){return Nr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?_y:vy,Ks=!1,d=a(l,h),Ks=!1,Va&&(d=Lg(i,a,l,h)),kg(t),d}function kg(t){X.H=hc;var i=Ye!==null&&Ye.next!==null;if(Nr=0,Et=Ye=Ne=null,rc=!1,ol=0,Pa=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Zu(t)&&(Mt=!0))}function Lg(t,i,a,l){Ne=t;var h=0;do{if(Va&&(Pa=null),ol=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Et=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=IA,d=i(a,l)}while(Va);return d}function TA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Qf(){var t=sc!==0;return sc=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Xf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Nr=0,Et=Ye=Ne=null,Va=!1,ol=sc=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ne.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Ye===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=Et===null?Ne.memoizedState:Et.next;if(i!==null)Et=i,Ye=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Et===null?Ne.memoizedState=Et=t:Et=Et.next=t}return Et}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Pa===null&&(Pa=[]),t=Dg(Pa,t,i),i=Ne,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?_y:vy),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===se)return Qt(t)}throw Error(s(438,String(t)))}function Wf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$f(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function oc(t){var i=Tt();return Zf(i,Ye,t)}function Zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,$=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Le&ee)===ee:(Nr&ee)===ee){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===xa&&($=!0);else if((Nr&H)===H){B=B.next,H===xa&&($=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,Ne.lanes|=H,kr|=H;ee=B.action,Ks&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else H={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ne.lanes|=ee,kr|=ee;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!dn(d,t.memoizedState)&&(Mt=!0,$&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(t,i,a){var l=Ne,h=Tt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=Bg.bind(null,l,h,t);if(ul(2048,8,T,[t]),h.getSnapshot!==i||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,ka(9,lc(),zg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Nr&124)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=$f(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,l){i.value=a,i.getSnapshot=l,qg(i)&&Hg(t)}function Bg(t,i,a){return a(function(){qg(i)&&Hg(t)})}function qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Hg(t){var i=Ia(t,2);i!==null&&vn(i,t,2)}function ed(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ks){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Zf(t,Ye,typeof l=="function"?l:Ui)}function SA(t,i,a,l,h){if(cc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),I=X.S;I!==null&&I(v,T),Kg(t,i,T)}catch(B){td(t,i,B)}finally{X.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(B){td(t,i,B)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,i,l)},function(l){return td(t,i,l)}):Qg(t,i,a)}function Qg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function td(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function $g(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ne;if(Be){if(ht){t:{for(var h=ht,d=fi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Yn(h.nextSibling),l=h.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=l,a=py.bind(null,Ne,l),l.dispatch=a,l=ed(!1),d=ad.bind(null,Ne,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=SA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=Tt();return Zg(i,Ye,t)}function Zg(t,i,a){if(i=Zf(t,i,Xg)[0],t=oc(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(v){throw v===nl?tc:v}else l=i;i=Tt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ka(9,lc(),AA.bind(null,h,a),null)),[l,d,t]}function AA(t,i){t.action=i}function Jg(t){var i=Tt(),a=Ye;if(a!==null)return Zg(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=$f(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function ey(){return Tt().memoizedState}function uc(t,i,a,l){var h=on();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=ka(1|i,lc(),a,l)}function ul(t,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Gf(l,Ye.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ne.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function ty(t,i){uc(8390656,8,t,i)}function ny(t,i){ul(2048,8,t,i)}function iy(t,i){return ul(4,2,t,i)}function ry(t,i){return ul(4,4,t,i)}function sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,a){a=a!=null?a.concat([t]):null,ul(4,4,sy.bind(null,i,t),a)}function nd(){}function oy(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ly(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function id(t,i,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=h_(),Ne.lanes|=t,kr|=t,a)}function uy(t,i,a,l){return dn(a,i)?a:Ma.current!==null?(t=id(t,a,l),dn(t,i)||(Mt=!0),t):(Nr&42)===0?(Mt=!0,t.memoizedState=a):(t=h_(),Ne.lanes|=t,kr|=t,i)}function cy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,ad(t,!1,i,a);try{var I=h(),B=X.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=vA(I,l);cl(t,i,$,_n(t))}else cl(t,i,l,_n(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},_n())}finally{oe.p=d,X.T=v}}function bA(){}function rd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=hy(t).queue;cy(t,h,i,de,a===null?bA:function(){return fy(t),a(l)})}function hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function fy(t){var i=hy(t).next.queue;cl(t,i,{},_n())}function sd(){return Qt(Cl)}function dy(){return Tt().memoizedState}function my(){return Tt().memoizedState}function wA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=Ir(a);var l=Cr(i,t,a);l!==null&&(vn(l,i,a),rl(l,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function RA(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?gy(i,a):(a=wf(t,i,a,l),a!==null&&(vn(a,t,l),yy(a,i,l)))}function py(t,i,a){var l=_n();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))gy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return Qu(t,i,h,0),et===null&&Ku(),!1}catch{}finally{}if(a=wf(t,i,h,l),a!==null)return vn(a,t,l),yy(a,i,l),!0}return!1}function ad(t,i,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&vn(i,t,2)}function cc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function gy(t,i){Va=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mr(t,a)}}var hc={readContext:Qt,use:ac,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},_y={readContext:Qt,use:ac,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Ks){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=RA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=ed(t);var i=t.queue,a=py.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=on();return id(a,t,i)},useTransition:function(){var t=ed(!1);return t=cy.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(Bg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,lc(),zg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=et.identifierPrefix;if(Be){var a=Pi,l=Vi;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=EA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:sd,useFormState:$g,useActionState:$g,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return on().memoizedState=wA.bind(null,Ne)}},vy={readContext:Qt,use:ac,useCallback:oy,useContext:Qt,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:oc,useRef:ey,useState:function(){return oc(Ui)},useDebugValue:nd,useDeferredValue:function(t,i){var a=Tt();return uy(a,Ye.memoizedState,t,i)},useTransition:function(){var t=oc(Ui)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:sd,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=Tt();return Fg(a,Ye,t,i)},useMemoCache:Wf,useCacheRefresh:my},IA={readContext:Qt,use:ac,useCallback:oy,useContext:Qt,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:Jf,useRef:ey,useState:function(){return Jf(Ui)},useDebugValue:nd,useDeferredValue:function(t,i){var a=Tt();return Ye===null?id(a,t,i):uy(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Jf(Ui)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:sd,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=Tt();return Ye!==null?Fg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:my},La=null,hl=0;function fc(t){var i=hl;return hl+=1,La===null&&(La=[]),Dg(La,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ey(t){var i=t._init;return i(t._payload)}function Ty(t){function i(k,O){if(t){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Mi(k,O),k.index=0,k.sibling=null,k}function d(k,O,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,U,W){return O===null||O.tag!==6?(O=If(U,k.mode,W),O.return=k,O):(O=h(O,U),O.return=k,O)}function I(k,O,U,W){var he=U.type;return he===F?$(k,O,U.props.children,W,U.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ey(he)===O.type)?(O=h(O,U.props),fl(O,U),O.return=k,O):(O=Xu(U.type,U.key,U.props,null,k.mode,W),fl(O,U),O.return=k,O)}function B(k,O,U,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Cf(U,k.mode,W),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function $(k,O,U,W,he){return O===null||O.tag!==7?(O=Us(U,k.mode,W,he),O.return=k,O):(O=h(O,U),O.return=k,O)}function ee(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=If(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return U=Xu(O.type,O.key,O.props,null,k.mode,U),fl(U,O),U.return=k,U;case P:return O=Cf(O,k.mode,U),O.return=k,O;case w:var W=O._init;return O=W(O._payload),ee(k,O,U)}if(Ke(O)||L(O))return O=Us(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return ee(k,fc(O),U);if(O.$$typeof===se)return ee(k,Ju(k,O),U);dc(k,O)}return null}function H(k,O,U,W){var he=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:T(k,O,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===he?I(k,O,U,W):null;case P:return U.key===he?B(k,O,U,W):null;case w:return he=U._init,U=he(U._payload),H(k,O,U,W)}if(Ke(U)||L(U))return he!==null?null:$(k,O,U,W,null);if(typeof U.then=="function")return H(k,O,fc(U),W);if(U.$$typeof===se)return H(k,O,Ju(k,U),W);dc(k,U)}return null}function G(k,O,U,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(U)||null,T(O,k,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return k=k.get(W.key===null?U:W.key)||null,I(O,k,W,he);case P:return k=k.get(W.key===null?U:W.key)||null,B(O,k,W,he);case w:var De=W._init;return W=De(W._payload),G(k,O,U,W,he)}if(Ke(W)||L(W))return k=k.get(U)||null,$(O,k,W,he,null);if(typeof W.then=="function")return G(k,O,U,fc(W),he);if(W.$$typeof===se)return G(k,O,U,Ju(O,W),he);dc(O,W)}return null}function Se(k,O,U,W){for(var he=null,De=null,pe=O,ve=O=0,Pt=null;pe!==null&&ve<U.length;ve++){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var ze=H(k,pe,U[ve],W);if(ze===null){pe===null&&(pe=Pt);break}t&&pe&&ze.alternate===null&&i(k,pe),O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze,pe=Pt}if(ve===U.length)return a(k,pe),Be&&zs(k,ve),he;if(pe===null){for(;ve<U.length;ve++)pe=ee(k,U[ve],W),pe!==null&&(O=d(pe,O,ve),De===null?he=pe:De.sibling=pe,De=pe);return Be&&zs(k,ve),he}for(pe=l(pe);ve<U.length;ve++)Pt=G(pe,k,ve,U[ve],W),Pt!==null&&(t&&Pt.alternate!==null&&pe.delete(Pt.key===null?ve:Pt.key),O=d(Pt,O,ve),De===null?he=Pt:De.sibling=Pt,De=Pt);return t&&pe.forEach(function(Gr){return i(k,Gr)}),Be&&zs(k,ve),he}function _e(k,O,U,W){if(U==null)throw Error(s(151));for(var he=null,De=null,pe=O,ve=O=0,Pt=null,ze=U.next();pe!==null&&!ze.done;ve++,ze=U.next()){pe.index>ve?(Pt=pe,pe=null):Pt=pe.sibling;var Gr=H(k,pe,ze.value,W);if(Gr===null){pe===null&&(pe=Pt);break}t&&pe&&Gr.alternate===null&&i(k,pe),O=d(Gr,O,ve),De===null?he=Gr:De.sibling=Gr,De=Gr,pe=Pt}if(ze.done)return a(k,pe),Be&&zs(k,ve),he;if(pe===null){for(;!ze.done;ve++,ze=U.next())ze=ee(k,ze.value,W),ze!==null&&(O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze);return Be&&zs(k,ve),he}for(pe=l(pe);!ze.done;ve++,ze=U.next())ze=G(pe,k,ve,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze);return t&&pe.forEach(function(Cb){return i(k,Cb)}),Be&&zs(k,ve),he}function $e(k,O,U,W){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var he=U.key;O!==null;){if(O.key===he){if(he=U.type,he===F){if(O.tag===7){a(k,O.sibling),W=h(O,U.props.children),W.return=k,k=W;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Ey(he)===O.type){a(k,O.sibling),W=h(O,U.props),fl(W,U),W.return=k,k=W;break e}a(k,O);break}else i(k,O);O=O.sibling}U.type===F?(W=Us(U.props.children,k.mode,W,U.key),W.return=k,k=W):(W=Xu(U.type,U.key,U.props,null,k.mode,W),fl(W,U),W.return=k,k=W)}return v(k);case P:e:{for(he=U.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),W=h(O,U.children||[]),W.return=k,k=W;break e}else{a(k,O);break}else i(k,O);O=O.sibling}W=Cf(U,k.mode,W),W.return=k,k=W}return v(k);case w:return he=U._init,U=he(U._payload),$e(k,O,U,W)}if(Ke(U))return Se(k,O,U,W);if(L(U)){if(he=L(U),typeof he!="function")throw Error(s(150));return U=he.call(U),_e(k,O,U,W)}if(typeof U.then=="function")return $e(k,O,fc(U),W);if(U.$$typeof===se)return $e(k,O,Ju(k,U),W);dc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),W=h(O,U),W.return=k,k=W):(a(k,O),W=If(U,k.mode,W),W.return=k,k=W),v(k)):a(k,O)}return function(k,O,U,W){try{hl=0;var he=$e(k,O,U,W);return La=null,he}catch(pe){if(pe===nl||pe===tc)throw pe;var De=mn(29,pe,null,k.mode);return De.lanes=W,De.return=k,De}finally{}}}var Ua=Ty(!0),Sy=Ty(!1),On=ne(null),di=null;function Dr(t){var i=t.alternate;Y(Ct,Ct.current&1),Y(On,t),di===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(di=t)}function Ay(t){if(t.tag===22){if(Y(Ct,Ct.current),Y(On,t),di===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(di=t)}}else xr()}function xr(){Y(Ct,Ct.current),Y(On,On.current)}function ji(t){ue(On),di===t&&(di=null),ue(Ct)}var Ct=ne(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Cr(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cr(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Cr(t,l,a),i!==null&&(vn(i,t,a),rl(i,t,a))}};function by(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ry(t){pc(t)}function Iy(t){console.error(t)}function Cy(t){pc(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function Dy(t){return t=Ir(t),t.tag=3,t}function xy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ny(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ny(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function CA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return di===null?Md():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(t,l,h)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(t,l,h)),!1}throw Error(s(435,a.tag))}return Pd(t,l,h),Md(),!1}if(Be)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),Zo(Cn(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),Zo(Cn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=ud(t.stateNode,l,h),Bf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),vl===null?vl=[d]:vl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),Bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),xy(h,t,a,l),Bf(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),Mt=!1;function zt(t,i,a,l){i.child=t===null?Sy(i,null,a,l):Ua(i,t.child,a,l)}function My(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Fs(i),l=Kf(t,i,a,v,d,h),T=Qf(),t!==null&&!Mt?(Yf(t,i,h),zi(t,i,h)):(Be&&T&&Nf(i),i.flags|=1,zt(t,i,l,h),i.child)}function Vy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Py(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Py(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,yd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return cd(t,i,a,l,h)}function ky(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ly(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Pg(i,d):Hf(),Ay(i);else return i.lanes=i.childLanes=536870912,Ly(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ec(i,d.cachePool),Pg(i,d),xr(),i.memoizedState=null):(t!==null&&ec(i,null),Hf(),xr());return zt(t,i,h,a),i.child}function Ly(t,i,a,l){var h=Lf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ec(i,null),Hf(),Ay(i),t!==null&&Jo(t,i,l,!0),null}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,h){return Fs(i),a=Kf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!Mt?(Yf(t,i,h),zi(t,i,h)):(Be&&l&&Nf(i),i.flags|=1,zt(t,i,a,h),i.child)}function Uy(t,i,a,l,h,d){return Fs(i),i.updateQueue=null,a=Lg(i,l,a,h),kg(t),l=Qf(),t!==null&&!Mt?(Yf(t,i,d),zi(t,i,d)):(Be&&l&&Nf(i),i.flags|=1,zt(t,i,a,d),i.child)}function jy(t,i,a,l,h){if(Fs(i),i.stateNode===null){var d=Ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ca,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(od(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Qs(a,T);d.props=I;var B=d.context,$=a.contextType;v=Ca,typeof $=="object"&&$!==null&&(v=Qt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&wy(i,d,l,v),Rr=!1;var H=i.memoizedState;d.state=H,al(i,l,d,h),sl(),B=i.memoizedState,T||H!==B||Rr?(typeof ee=="function"&&(od(i,a,ee,l),B=i.memoizedState),(I=Rr||by(i,a,I,l,H,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,zf(t,i),v=i.memoizedProps,$=Qs(a,v),d.props=$,ee=i.pendingProps,H=d.context,B=a.contextType,I=Ca,typeof B=="object"&&B!==null&&(I=Qt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==I)&&wy(i,d,l,I),Rr=!1,H=i.memoizedState,d.state=H,al(i,l,d,h),sl();var G=i.memoizedState;v!==ee||H!==G||Rr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof T=="function"&&(od(i,a,T,l),G=i.memoizedState),($=Rr||by(i,a,$,l,H,G,I)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ua(i,t.child,null,h),i.child=Ua(i,null,a,h)):zt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function zy(t,i,a,l){return Wo(),i.flags|=256,zt(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Ig()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function By(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Dr(i):xr(),Be){var T=ht,I;if(I=T){e:{for(I=T,T=fi;I.nodeType!==8;){if(!T){T=null;break e}if(I=Yn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:js!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},I=mn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,ht=null,I=!0):I=!1}I||qs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return $d(T)?i.lanes=32:i.lanes=536870912,null;ji(i)}return T=l.children,l=l.fallback,h?(xr(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=Us(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=fd(a),h.childLanes=dd(t,v,a),i.memoizedState=hd,l):(Dr(i),md(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),h=l.fallback,T=i.mode,l=_c({mode:"visible",children:l.children},T),h=Us(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ua(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,v,a),i.memoizedState=hd,i=h);else if(Dr(i),$d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Mt||Jo(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:xo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ia(t,l),vn(v,t,l),Oy;T.data==="$?"||Md(),i=pd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ht=Yn(T.nextSibling),rn=i,Be=!0,Bs=null,fi=!1,t!==null&&(Dn[xn++]=Vi,Dn[xn++]=Pi,Dn[xn++]=js,Vi=t.id,Pi=t.overflow,js=i),i=md(i,l.children),i.flags|=4096);return i}return h?(xr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Mi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Mi(B,h):(h=Us(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=fd(a):(I=T.cachePool,I!==null?(B=It._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Ig(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=dd(t,v,a),i.memoizedState=hd,l):(Dr(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=mn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pd(t,i,a){return Ua(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Mf(t.return,i,a)}function gd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Hy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,a,i);else if(t.tag===19)qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Y(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function NA(t,i,a){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),wr(i,It,t.memoizedState.cache),Wo();break;case 27:case 5:lr(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?By(t,i,a):(Dr(i),t=zi(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Hy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,ky(t,i,a);case 24:wr(i,It,t.memoizedState.cache)}return zi(t,i,a)}function Fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return Mt=!1,NA(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(i.flags&1048576)!==0&&Eg(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Rf(l)?(t=Qs(l,t),i.tag=1,i=jy(null,i,l,t,a)):(i.tag=0,i=cd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Re){i.tag=11,i=My(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=Vy(null,i,l,t,a);break e}}throw i=rt(l)||l,Error(s(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),jy(t,i,l,h,a);case 3:e:{if(je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,zf(t,i),al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,wr(i,It,l),l!==d.cache&&Vf(i,[It],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zy(t,i,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),i),Zo(h),i=zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Yn(t.firstChild),rn=i,Be=!0,Bs=null,fi=!0,a=Sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){i=zi(t,i,a);break e}zt(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Oc(me.current).createElement(a),l[mt]=i,l[jt]=t,qt(l,a,t),pt(l),i.stateNode=l):i.memoizedState=Y_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return lr(i),t===null&&Be&&(l=i.stateNode=G_(i.type,i.pendingProps,me.current),rn=i,fi=!0,h=ht,zr(i.type)?(Wd=h,ht=Yn(l.firstChild)):ht=h),zt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ht)&&(l=ib(l,i.type,i.pendingProps,fi),l!==null?(i.stateNode=l,rn=i,ht=Yn(l.firstChild),fi=!1,h=!0):h=!1),h||qs(i)),lr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:v!==null&&Qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Kf(t,i,TA,null,null,a),Cl._currentValue=h),yc(t,i),zt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ht)&&(a=rb(a,i.pendingProps,fi),a!==null?(i.stateNode=a,rn=i,ht=null,t=!0):t=!1),t||qs(i)),null;case 13:return By(t,i,a);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ua(i,null,l,a):zt(t,i,l,a),i.child;case 11:return My(t,i,i.type,i.pendingProps,a);case 7:return zt(t,i,i.pendingProps,a),i.child;case 8:return zt(t,i,i.pendingProps.children,a),i.child;case 12:return zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fs(i),h=Qt(h),l=l(h),i.flags|=1,zt(t,i,l,a),i.child;case 14:return Vy(t,i,i.type,i.pendingProps,a);case 15:return Py(t,i,i.type,i.pendingProps,a);case 19:return Hy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=_c(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ky(t,i,a);case 24:return Fs(i),l=Qt(It),t===null?(h=Lf(),h===null&&(h=et,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),wr(i,It,h)):((t.lanes&a)!==0&&(zf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,It,l)):(l=d.cache,wr(i,It,l),l!==h.cache&&Vf(i,[It],a,!0))),zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function Gy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J_(i)){if(i=On.current,i!==null&&((Le&4194048)===Le?di!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==di))throw il=Uf,Cg;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fr():536870912,t.lanes|=i,qa|=i)}function dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DA(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(It),Ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ag())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(lt(i),Gy(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),lt(i),Gy(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),lt(i),i.flags&=-16777217),null;case 27:sn(i),a=me.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ae.current,$o(i)?Tg(i):(t=G_(h,l,a),i.stateNode=t,Bi(i))}return lt(i),null;case 5:if(sn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=ae.current,$o(i))Tg(i);else{switch(h=Oc(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[mt]=i,t[jt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U_(t.nodeValue,a)),t||qs(i)}else t=Oc(t).createTextNode(l),t[mt]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$o(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[mt]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=Ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ji(i),i):(ji(i),null)}if(ji(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),lt(i),null;case 4:return Ft(),t===null&&qd(i.stateNode.containerInfo),lt(i),null;case 10:return Li(i.type),lt(i),null;case 19:if(ue(Ct),h=i.memoizedState,h===null)return lt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)vg(a,t),a=a.sibling;return Y(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&an()>Sc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=mc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return lt(i),null}else 2*an()-h.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,t=Ct.current,Y(Ct,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return ji(i),Ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(It),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Li(It),Ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 13:if(ji(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Ct),null;case 4:return Ft(),null;case 10:return Li(i.type),null;case 22:case 23:return ji(i),Ff(),t!==null&&ue(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Li(It),null;case 25:return null;default:return null}}function Ky(t,i){switch(Df(i),i.tag){case 3:Li(It),Ft();break;case 26:case 27:case 5:sn(i);break;case 4:Ft();break;case 13:ji(i);break;case 19:ue(Ct);break;case 10:Li(i.type);break;case 22:case 23:ji(i),Ff(),t!==null&&ue(Gs);break;case 24:Li(It)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Or(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch($){We(h,I,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function Qy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vg(i,a)}catch(l){We(t,t.return,l)}}}function Yy(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function mi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Xy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function _d(t,i,a){try{var l=t.stateNode;ZA(l,t.type,a,i),l[jt]=i}catch(h){We(t,t.return,h)}}function $y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function Wy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[mt]=t,i[jt]=a}catch(d){We(t,t.return,d)}}var qi=!1,_t=!1,Td=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function OA(t,i){if(t=t.containerInfo,Gd=Uc,t=ug(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,$=0,ee=t,H=null;t:for(;;){for(var G;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++$===l&&(I=v),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Uc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function Jy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(t,a),l&4&&ml(5,a);break;case 1:if(Mr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Qy(a),l&512&&pl(a,a.return);break;case 3:if(Mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Wy(a);case 26:case 5:Mr(t,a),i===null&&l&4&&Xy(a),l&512&&pl(a,a.return);break;case 12:Mr(t,a);break;case 13:Mr(t,a),l&4&&n_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BA.bind(null,a),sb(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||_t,h=qi;var d=_t;qi=l,(_t=i)&&!d?Vr(t,a,(a.subtreeFlags&8772)!==0):Mr(t,a),qi=h,_t=d}break;case 30:break;default:Mr(t,a)}}function e_(t){var i=t.alternate;i!==null&&(t.alternate=null,e_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,ln=!1;function Hi(t,i,a){for(a=a.child;a!==null;)t_(t,i,a),a=a.sibling}function t_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ur,a)}catch{}switch(a.tag){case 26:_t||mi(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||mi(a,i);var l=st,h=ln;zr(a.type)&&(st=a.stateNode,ln=!1),Hi(t,i,a),bl(a.stateNode),st=l,ln=h;break;case 5:_t||mi(a,i);case 6:if(l=st,h=ln,st=null,Hi(t,i,a),st=l,ln=h,st!==null)if(ln)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:st!==null&&(ln?(t=st,H_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):H_(st,a.stateNode));break;case 4:l=st,h=ln,st=a.stateNode.containerInfo,ln=!0,Hi(t,i,a),st=l,ln=h;break;case 0:case 11:case 14:case 15:_t||Or(2,a,i),_t||Or(4,a,i),Hi(t,i,a);break;case 1:_t||(mi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yy(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,Hi(t,i,a),_t=l;break;default:Hi(t,i,a)}}function n_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){We(i,i.return,a)}}function MA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zy),i;default:throw Error(s(435,t.tag))}}function Sd(t,i){var a=MA(t);i.forEach(function(l){var h=qA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){st=T.stateNode,ln=!1;break e}break;case 5:st=T.stateNode,ln=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(st===null)throw Error(s(160));t_(d,v,h),st=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)i_(i,t),i=i.sibling}var Qn=null;function i_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Or(3,t,t.return),ml(3,t),Or(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(_t||a===null||mi(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(pn(i,t),gn(t),l&512&&(_t||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pr]||d[mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[mt]=t,pt(d),l=d;break e;case"link":var v=W_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=W_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[mt]=t,pt(d),l=d}t.stateNode=l}else Z_(h,t.type,t.stateNode);else t.stateNode=$_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z_(h,t.type,t.stateNode):$_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(_t||a===null||mi(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(_t||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Pc=null,h=Qn,Qn=Mc(i.containerInfo),pn(i,t),Qn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(G){We(t,t.return,G)}Td&&(Td=!1,r_(t));break;case 4:l=Qn,Qn=Mc(t.stateNode.containerInfo),pn(i,t),gn(t),Qn=l;break;case 12:pn(i,t),gn(t);break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=qi,$=_t;if(qi=B||h,_t=$||I,pn(i,t),_t=$,qi=B,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||qi||_t||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if($y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(t);Ec(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=vd(t);Ec(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=vd(t);Ed(t,B,I);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jy(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),Ys(i);break;case 1:mi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yy(i,i.return,a),Ys(i);break;case 27:bl(i.stateNode);case 26:case 5:mi(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function Vr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,a),ml(4,d);break;case 1:if(Vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mg(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&Qy(d),pl(d,d.return);break;case 27:Wy(d);case 26:case 5:Vr(h,d,a),a&&l===null&&v&4&&Xy(d),pl(d,d.return);break;case 12:Vr(h,d,a);break;case 13:Vr(h,d,a),a&&v&4&&n_(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,a),pl(d,d.return);break;case 30:break;default:Vr(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function pi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(t,i,a,l),i=i.sibling}function s_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:pi(t,i,a,l),h&2048&&ml(9,i);break;case 1:pi(t,i,a,l);break;case 3:pi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){pi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else pi(t,i,a,l);break;case 13:pi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?pi(t,i,a,l):gl(t,i):d._visibility&2?pi(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ad(v,i);break;case 24:pi(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:pi(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ja(d,v,T,I,h),ml(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ja(d,v,T,I,h):gl(d,v):($._visibility|=2,ja(d,v,T,I,h)),h&&B&2048&&Ad(v.alternate,v);break;case 24:ja(d,v,T,I,h),h&&B&2048&&bd(v.alternate,v);break;default:ja(d,v,T,I,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:gl(a,l),h&2048&&bd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function za(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 26:za(t),t.flags&yl&&t.memoizedState!==null&&_b(Qn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var i=Qn;Qn=Mc(t.stateNode.containerInfo),za(t),Qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yl,yl=16777216,za(t),yl=i):za(t));break;default:za(t)}}function o_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Or(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):_l(t);break;default:_l(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Or(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function u_(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(e_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var VA={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},PA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,xe=null,Le=0,Ge=0,yn=null,Pr=!1,Ba=!1,wd=!1,Fi=0,ft=0,kr=0,Xs=0,Rd=0,Mn=0,qa=0,vl=null,un=null,Id=!1,Cd=0,Sc=1/0,Ac=null,Lr=null,Bt=0,Ur=null,Ha=null,Fa=0,Nd=0,Dd=null,c_=null,El=0,xd=null;function _n(){if((Fe&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var t=xa;return t!==0?t:Ud()}return Ri()}function h_(){Mn===0&&(Mn=(Le&536870912)===0||Be?Do():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function vn(t,i,a){(t===et&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),jr(t,Le,Mn,!1)),dt(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Xs|=a),ft===4&&jr(t,Le,Mn,!1)),gi(t))}function f_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||hr(t,i),h=l?UA(t,i):Vd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!kA(a)){h=Vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=vl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,v).flags|=256),v=Vd(T,v,!1),v!==2){if(wd&&!I){T.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,Mn,!Pr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cd+300-an(),10<h)){if(jr(l,i,Mn,!Pr),bn(l,0,!0)!==0)break e;l.timeoutHandle=B_(d_.bind(null,l,a,un,Ac,Id,i,Mn,Xs,qa,Pr,d,2,-0,0),h);break e}d_(l,a,un,Ac,Id,i,Mn,Xs,qa,Pr,d,0,-0,0)}}break}while(!0);gi(t)}function d_(t,i,a,l,h,d,v,T,I,B,$,ee,H,G){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:yb},a_(i),ee=vb(),ee!==null)){t.cancelPendingCommit=ee(E_.bind(null,t,i,d,a,l,h,v,T,I,$,1,H,G)),jr(t,d,v,!B);return}E_(t,i,d,a,l,h,v,T,I)}function kA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~Rd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&dr(t,a,i)}function bc(){return(Fe&6)===0?(Tl(0),!1):!0}function Od(){if(xe!==null){if(Ge===0)var t=xe.return;else t=xe,ki=Hs=null,Xf(t),La=null,hl=0,t=xe;for(;t!==null;)Ky(t.alternate,t),t=t.return;xe=null}}function Ga(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Od(),et=t,xe=a=Mi(t.current,null),Le=i,Ge=0,yn=null,Pr=!1,Ba=hr(t,i),wd=!1,qa=Mn=Rd=Xs=kr=ft=0,un=vl=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Ku(),a}function m_(t,i){Ne=null,X.H=hc,i===nl||i===tc?(i=xg(),Ge=3):i===Cg?(i=xg(),Ge=4):Ge=i===Oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,xe===null&&(ft=1,gc(t,Cn(i,t.current)))}function p_(){var t=X.H;return X.H=hc,t===null?hc:t}function g_(){var t=X.A;return X.A=VA,t}function Md(){ft=4,Pr||(Le&4194048)!==Le&&On.current!==null||(Ba=!0),(kr&134217727)===0&&(Xs&134217727)===0||et===null||jr(et,Le,Mn,!1)}function Vd(t,i,a){var l=Fe;Fe|=2;var h=p_(),d=g_();(et!==t||Le!==i)&&(Ac=null,Ga(t,i)),i=!1;var v=ft;e:do try{if(Ge!==0&&xe!==null){var T=xe,I=yn;switch(Ge){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var B=Ge;if(Ge=0,yn=null,Ka(t,T,I,B),a&&Ba){v=0;break e}break;default:B=Ge,Ge=0,yn=null,Ka(t,T,I,B)}}LA(),v=ft;break}catch($){m_(t,$)}while(!0);return i&&t.shellSuspendCounter++,ki=Hs=null,Fe=l,X.H=h,X.A=d,xe===null&&(et=null,Le=0,Ku()),v}function LA(){for(;xe!==null;)y_(xe)}function UA(t,i){var a=Fe;Fe|=2;var l=p_(),h=g_();et!==t||Le!==i?(Ac=null,Sc=an()+500,Ga(t,i)):Ba=hr(t,i);e:do try{if(Ge!==0&&xe!==null){i=xe;var d=yn;t:switch(Ge){case 1:Ge=0,yn=null,Ka(t,i,d,1);break;case 2:case 9:if(Ng(d)){Ge=0,yn=null,__(i);break}i=function(){Ge!==2&&Ge!==9||et!==t||(Ge=7),gi(t)},d.then(i,i);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ng(d)?(Ge=0,yn=null,__(i)):(Ge=0,yn=null,Ka(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||J_(v)){Ge=0,yn=null;var I=T.sibling;if(I!==null)xe=I;else{var B=T.return;B!==null?(xe=B,wc(B)):xe=null}break t}}Ge=0,yn=null,Ka(t,i,d,5);break;case 6:Ge=0,yn=null,Ka(t,i,d,6);break;case 8:Od(),ft=6;break e;default:throw Error(s(462))}}jA();break}catch($){m_(t,$)}while(!0);return ki=Hs=null,X.H=l,X.A=h,Fe=a,xe!==null?0:(et=null,Le=0,Ku(),ft)}function jA(){for(;xe!==null&&!lf();)y_(xe)}function y_(t){var i=Fy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?wc(t):xe=i}function __(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Xf(i);default:Ky(a,i),i=xe=vg(i,Fi),i=Fy(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?wc(t):xe=i}function Ka(t,i,a,l){ki=Hs=null,Xf(i),La=null,hl=0;var h=i.return;try{if(CA(t,h,i,a,Le)){ft=1,gc(t,Cn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,gc(t,Cn(a,t.current)),xe=null;return}i.flags&32768?(Be||l===1?t=!0:Ba||(Le&536870912)!==0?t=!1:(Pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,t)):wc(i)}function wc(t){var i=t;do{if((i.flags&32768)!==0){v_(i,Pr);return}t=i.return;var a=DA(i.alternate,i,Fi);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ft===0&&(ft=5)}function v_(t,i){do{var a=xA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function E_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Rc();while(Bt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,Nu(t,a,d,v,T,I),t===et&&(xe=et=null,Le=0),Ha=i,Ur=t,Fa=a,Nd=d,Dd=h,c_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HA(wi,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,v=Fe,Fe|=4;try{OA(t,i,a)}finally{Fe=v,oe.p=h,X.T=l}}Bt=1,T_(),S_(),A_()}}function T_(){if(Bt===1){Bt=0;var t=Ur,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Fe;Fe|=4;try{i_(i,t);var d=Kd,v=ug(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&lg(T.ownerDocument.documentElement,T)){if(I!==null&&vf(T)){var B=I.start,$=I.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),Se=T.textContent.length,_e=Math.min(I.start,Se),$e=I.end===void 0?_e:Math.min(I.end,Se);!G.extend&&_e>$e&&(v=$e,$e=_e,_e=v);var k=og(T,_e),O=og(T,$e);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var U=ee.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),_e>$e?(G.addRange(U),G.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),G.addRange(U))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Uc=!!Gd,Kd=Gd=null}finally{Fe=h,oe.p=l,X.T=a}}t.current=i,Bt=2}}function S_(){if(Bt===2){Bt=0;var t=Ur,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Fe;Fe|=4;try{Jy(t,i.alternate,i)}finally{Fe=h,oe.p=l,X.T=a}}Bt=3}}function A_(){if(Bt===4||Bt===3){Bt=0,Co();var t=Ur,i=Ha,a=Fa,l=c_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,Ha=Ur=null,b_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Oo(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ur,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=h}}(Fa&3)!==0&&Rc(),gi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===xd?El++:(El=0,xd=t):El=0,Tl(0)}}function b_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Rc(t){return T_(),S_(),A_(),w_()}function w_(){if(Bt!==5)return!1;var t=Ur,i=Nd;Nd=0;var a=Oo(Fa),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Dd,Dd=null;var d=Ur,v=Fa;if(Bt=0,Ha=Ur=null,Fa=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,l_(d.current),s_(d,d.current,v,a),Fe=T,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ur,d)}catch{}return!0}finally{oe.p=h,X.T=l,b_(t,i)}}function R_(t,i,a){i=Cn(a,i),i=ud(t.stateNode,i,2),t=Cr(t,i,2),t!==null&&(dt(t,2),gi(t))}function We(t,i,a){if(t.tag===3)R_(t,t,a);else for(;i!==null;){if(i.tag===3){R_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Cn(a,t),a=Dy(2),l=Cr(i,a,2),l!==null&&(xy(a,l,i,t),dt(l,2),gi(l));break}}i=i.return}}function Pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new PA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=zA.bind(null,t,i,a),i.then(t,t))}function zA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>an()-Cd?(Fe&2)===0&&Ga(t,0):Rd|=a,qa===Le&&(qa=0)),gi(t)}function I_(t,i){i===0&&(i=fr()),t=Ia(t,i),t!==null&&(dt(t,i),gi(t))}function BA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(t,a)}function qA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),I_(t,a)}function HA(t,i){return bi(t,i)}var Ic=null,Qa=null,kd=!1,Cc=!1,Ld=!1,$s=0;function gi(t){t!==Qa&&t.next===null&&(Qa===null?Ic=Qa=t:Qa=Qa.next=t),Cc=!0,kd||(kd=!0,GA())}function Tl(t,i){if(!Ld&&Cc){Ld=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,x_(l,d))}else d=Le,d=bn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hr(l,d)||(a=!0,x_(l,d));l=l.next}while(a);Ld=!1}}function FA(){C_()}function C_(){Cc=kd=!1;var t=0;$s!==0&&(JA()&&(t=$s),$s=0);for(var i=an(),a=null,l=Ic;l!==null;){var h=l.next,d=N_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}Tl(t)}function N_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Jt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ca(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Le,a=bn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ms(l),Oo(a)){case 2:case 8:a=xt;break;case 32:a=wi;break;case 268435456:a=No;break;default:a=wi}return l=D_.bind(null,t),a=bi(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ms(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Le;return l=bn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(f_(t,l,i),N_(t,an()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function x_(t,i){if(Rc())return null;f_(t,i,!0)}function GA(){tb(function(){(Fe&6)!==0?bi(wt,FA):C_()})}function Ud(){return $s===0&&($s=Do()),$s}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function M_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[jt]||null).action),v=l.submitter;v&&(i=(i=v[jt]||null)?O_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ns("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=v?M_(h,v):new FormData(h);rd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?M_(h,v):new FormData(h),rd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var jd=0;jd<Af.length;jd++){var zd=Af[jd],QA=zd.toLowerCase(),YA=zd[0].toUpperCase()+zd.slice(1);Kn(QA,"on"+YA)}Kn(fg,"onAnimationEnd"),Kn(dg,"onAnimationIteration"),Kn(mg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(hA,"onTransitionRun"),Kn(fA,"onTransitionStart"),Kn(dA,"onTransitionCancel"),Kn(pg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function V_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){pc($)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){pc($)}h.currentTarget=null,d=I}}}}function Oe(t,i){var a=i[gs];a===void 0&&(a=i[gs]=new Set);var l=t+"__bubble";a.has(l)||(P_(i,t,2,!1),a.add(l))}function Bd(t,i,a){var l=0;i&&(l|=4),P_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Nc]){t[Nc]=!0,Du.forEach(function(a){a!=="selectionchange"&&(XA.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Bd("selectionchange",!1,i))}}function P_(t,i,a,l){switch(sv(i)){case 2:var h=Sb;break;case 8:h=Ab;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!xi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=si(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Rs(function(){var B=d,$=jo(a),ee=[];e:{var H=gg.get(t);if(H!==void 0){var G=Ns,Se=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":G=Aa;break;case"focusin":Se="focus",G=Ea;break;case"focusout":Se="blur",G=Ea;break;case"beforeblur":case"afterblur":G=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=br;break;case fg:case dg:case mg:G=Bo;break;case pg:G=g;break;case"scroll":case"scrollend":G=xs;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Fo;break;case"toggle":case"beforetoggle":G=K}var _e=(i&4)!==0,$e=!_e&&(t==="scroll"||t==="scrollend"),k=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=B,U;O!==null;){var W=O;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||k===null||(W=Sr(O,k),W!=null&&_e.push(Al(O,W,U))),$e)break;O=O.return}0<_e.length&&(H=new G(H,Se,null,a,$),ee.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Uo&&(Se=a.relatedTarget||a.fromElement)&&(si(Se)||Se[Ii]))break e;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Se=a.relatedTarget||a.toElement,G=B,Se=Se?si(Se):null,Se!==null&&($e=u(Se),_e=Se.tag,Se!==$e||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(G=null,Se=B),G!==Se)){if(_e=Vs,W="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Fo,W="onPointerLeave",k="onPointerEnter",O="pointer"),$e=G==null?H:gr(G),U=Se==null?H:gr(Se),H=new _e(W,O+"leave",G,a,$),H.target=$e,H.relatedTarget=U,W=null,si($)===B&&(_e=new _e(k,O+"enter",Se,a,$),_e.target=U,_e.relatedTarget=$e,W=_e),$e=W,G&&Se)t:{for(_e=G,k=Se,O=0,U=_e;U;U=Ya(U))O++;for(U=0,W=k;W;W=Ya(W))U++;for(;0<O-U;)_e=Ya(_e),O--;for(;0<U-O;)k=Ya(k),U--;for(;O--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=Ya(_e),k=Ya(k)}_e=null}else _e=null;G!==null&&k_(ee,H,G,_e,!1),Se!==null&&$e!==null&&k_(ee,$e,Se,_e,!0)}}e:{if(H=B?gr(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var he=tg;else if(Jp(H))if(ng)he=lA;else{he=aA;var De=sA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ya(B.elementType)&&(he=tg):he=oA;if(he&&(he=he(t,B))){eg(ee,he,a,$);break e}De&&De(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Po(H,"number",H.value)}switch(De=B?gr(B):window,t){case"focusin":(Jp(De)||De.contentEditable==="true")&&(ba=De,Ef=B,Xo=null);break;case"focusout":Xo=Ef=ba=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,cg(ee,a,$);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":cg(ee,a,$)}var pe;if(be)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Gn?Hn(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(gt&&a.locale!=="ko"&&(Gn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Gn&&(pe=ku()):(In=$,Je="value"in In?In.value:In.textContent,Gn=!0)),De=Dc(B,ve),0<De.length&&(ve=new Ho(ve,t,null,a,$),ee.push({event:ve,listeners:De}),pe?ve.data=pe:(pe=Fn(a),pe!==null&&(ve.data=pe)))),(pe=He?Go(t,a):nA(t,a))&&(ve=Dc(B,"onBeforeInput"),0<ve.length&&(De=new Ho("onBeforeInput","beforeinput",null,a,$),ee.push({event:De,listeners:ve}),De.data=pe)),KA(ee,t,B,a,$)}V_(ee,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Sr(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Sr(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function k_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Sr(a,d),B!=null&&v.unshift(Al(a,B,I))):h||(B=Sr(a,d),B!=null&&v.push(Al(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var $A=/\r\n?/g,WA=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace($A,`
`).replace(WA,"")}function U_(t,i){return i=L_(i),L_(t)===i}function xc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(t,""+l);break;case"className":Ts(t,"class",l);break;case"tabIndex":Ts(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){Ts(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Es(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,Es(t,a,l))}}function Fd(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Es(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Xe(t,i,l,$,a,null)}}Vo(t,d,T,I,B,v,h,!1),vr(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}Ou(t,l,h,d),vr(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Oe(Sl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,B,l,a,null)}return;default:if(ya(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Fd(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function ZA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,$=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(G)||Xe(t,i,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==ee&&Xe(t,i,H,G,l,ee)}}Mo(t,v,T,I,B,$,d,h);return;case"select":G=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xe(t,i,h,d,l,I)}i=T,a=v,l=G,H!=null?Er(t,!!a,H,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}xu(t,H,G);return;case"option":for(var Se in a)if(H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Xe(t,i,Se,null,l,H)}for(I in l)if(H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Xe(t,i,_e,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,B,H,l,G)}return;default:if(ya(i)){for(var $e in a)H=a[$e],a.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&Fd(t,i,$e,void 0,l,H);for($ in l)H=l[$],G=a[$],!l.hasOwnProperty($)||H===G||H===void 0&&G===void 0||Fd(t,i,$,H,l,G);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Xe(t,i,k,null,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||Xe(t,i,ee,H,l,G)}var Gd=null,Kd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function JA(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(nb)}:B_;function nb(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function H_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[pr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(i)}function Xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ib(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function rb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Wd=null;function F_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function G_(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var Vn=new Map,K_=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=oe.d;oe.d={f:ab,r:ob,D:lb,C:ub,L:cb,m:hb,X:db,S:fb,M:mb};function ab(){var t=Gi.f(),i=bc();return t||i}function ob(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?fy(i):Gi.r(t)}var Xa=typeof document>"u"?null:document;function Q_(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=Ot(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function lb(t){Gi.D(t),Q_("dns-prefetch",t,null)}function ub(t,i){Gi.C(t,i),Q_("preconnect",t,i)}function cb(t,i,a){Gi.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ot(a.imageSizes)+'"]')):h+='[href="'+Ot(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Wa(t)}Vn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function hb(t,i){Gi.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),qt(l,"link",t),pt(l),a.head.appendChild(l)}}}function fb(t,i,a){Gi.S(t,i,a);var l=Xa;if(l&&t){var h=yr(l).hoistableStyles,d=$a(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(wl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Zd(t,a);var I=v=l.createElement("link");pt(I),qt(I,"link",t),I._p=new Promise(function(B,$){I.onload=B,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function db(t,i){Gi.X(t,i);var a=Xa;if(a&&t){var l=yr(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0},i),(i=Vn.get(h))&&Jd(t,i),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mb(t,i){Gi.M(t,i);var a=Xa;if(a&&t){var l=yr(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&Jd(t,i),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y_(t,i,a,l){var h=(h=me.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=yr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=yr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(wl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||pb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=yr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+Ot(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function X_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),pt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+Ot(t)+'"]'}function Rl(t){return"script[async]"+t}function $_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),qt(l,"style",h),Vc(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=X_(a),(h=Vn.get(h))&&Zd(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",l),i.state.loading|=4,Vc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,pt(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),Jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vc(l,a.precedence,t));return i.instance}function Vc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function W_(t,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pr]||d[mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function yb(){}function _b(t,i,a){if(Il===null)throw Error(s(475));var l=Il;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=$a(a.href),d=t.querySelector(wl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=kc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=X_(a),(h=Vn.get(h))&&Zd(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function vb(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&em(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&em(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function em(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(Eb,t),Lc=null,kc.call(t))}function Eb(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Tb(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ev(t,i,a,l,h,d,v,T,I,B,$,ee){return t=new Tb(t,i,a,v,T,I,B,ee),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function tv(t){return t?(t=Ca,t):Ca}function nv(t,i,a,l,h,d){h=tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cr(t,l,i),a!==null&&(vn(a,t,i),rl(a,t,i))}function iv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){iv(t,i),(t=t.alternate)&&iv(t,i)}function rv(t){if(t.tag===13){var i=Ia(t,67108864);i!==null&&vn(i,t,67108864),tm(t,67108864)}}var Uc=!0;function Sb(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,nm(t,i,a,l)}finally{oe.p=d,X.T=h}}function Ab(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,nm(t,i,a,l)}finally{oe.p=d,X.T=h}}function nm(t,i,a,l){if(Uc){var h=im(l);if(h===null)Hd(t,i,l,jc,a),av(t,l);else if(wb(h,t,i,a,l))l.stopPropagation();else if(av(t,l),i&4&&-1<bb.indexOf(t)){for(;h!==null;){var d=ai(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Jt(v);T.entanglements[1]|=I,v&=~I}gi(d),(Fe&6)===0&&(Sc=an()+500,Tl(0))}}break;case 13:T=Ia(d,2),T!==null&&vn(T,d,2),bc(),tm(d,2)}if(d=im(l),d===null&&Hd(t,i,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function im(t){return t=jo(t),rm(t)}var jc=null;function rm(t){if(jc=null,t=si(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ru()){case wt:return 2;case xt:return 8;case wi:case uf:return 32;case No:return 268435456;default:return 32}default:return 32}}var sm=!1,Br=null,qr=null,Hr=null,Nl=new Map,Dl=new Map,Fr=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ai(i),i!==null&&rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wb(t,i,a,l,h){switch(i){case"focusin":return Br=xl(Br,t,i,a,l,h),!0;case"dragenter":return qr=xl(qr,t,i,a,l,h),!0;case"mouseover":return Hr=xl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,xl(Nl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,xl(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function ov(t){var i=si(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ff(t.priority,function(){if(a.tag===13){var l=_n();l=xo(l);var h=Ia(a,l);h!==null&&vn(h,a,l),tm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=ai(a),i!==null&&rv(i),t.blockedOn=a,!1;i.shift()}return!0}function lv(t,i,a){zc(t)&&a.delete(i)}function Rb(){sm=!1,Br!==null&&zc(Br)&&(Br=null),qr!==null&&zc(qr)&&(qr=null),Hr!==null&&zc(Hr)&&(Hr=null),Nl.forEach(lv),Dl.forEach(lv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var qc=null;function uv(t){qc!==t&&(qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=ai(a);d!==null&&(t.splice(i,3),i-=3,rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function i(I){return Bc(I,t)}Br!==null&&Bc(Br,t),qr!==null&&Bc(qr,t),Hr!==null&&Bc(Hr,t),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)ov(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[jt]||null;if(typeof d=="function")v||uv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)T=v.formAction;else if(rm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),uv(a)}}}function am(t){this._internalRoot=t}Hc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();nv(a,l,t,i,null,null)},Hc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;nv(t.current,2,null,t,null,null),bc(),i[Ii]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ri();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&ov(t)}};var cv=e.version;if(cv!=="19.1.1")throw Error(s(527,cv,"19.1.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Ib={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ur=Fc.inject(Ib),Gt=Fc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ry,d=Iy,v=Cy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=ev(t,1,!1,null,null,a,l,h,d,v,T,null),t[Ii]=i.current,qd(t),new am(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ry,v=Iy,T=Cy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=ev(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=tv(null),a=i.current,l=_n(),l=xo(l),h=Ir(l),h.callback=null,Cr(a,h,l),a=l,i.current.lanes=a,dt(i,a),gi(i),t[Ii]=i.current,qd(t),new Hc(i)},Vl.version="19.1.1",Vl}var Ev;function Ub(){if(Ev)return um.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Lb(),um.exports}var jb=Ub();const zb=iT(jb);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tv="popstate";function Bb(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Im("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Hb(e,n,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ln(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qb(){return Math.random().toString(36).substring(2,10)}function Sv(r,e){return{usr:r.state,key:r.key,idx:e}}function Im(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||s||qb()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function oa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Hb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let z=E(),ie=z==null?null:z-y;y=z,p&&p({action:m,location:Q.location,delta:ie})}function b(z,ie){m="PUSH";let Z=Im(Q.location,z,ie);n&&n(Z,z),y=E()+1;let se=Sv(Z,y),Re=Q.createHref(Z);try{f.pushState(se,"",Re)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(Re)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(z,ie){m="REPLACE";let Z=Im(Q.location,z,ie);n&&n(Z,z),y=E();let se=Sv(Z,y),Re=Q.createHref(Z);f.replaceState(se,"",Re),u&&p&&p({action:m,location:Q.location,delta:0})}function F(z){return Fb(z)}let Q={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,A),p=z,()=>{o.removeEventListener(Tv,A),p=null}},createHref(z){return e(o,z)},createURL:F,encodeLocation(z){let ie=F(z);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:b,replace:P,go(z){return f.go(z)}};return Q}function Fb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rT(r,e,n="/"){return Gb(r,e,n,!1)}function Gb(r,e,n,s){let o=typeof e=="string"?oa(e):e,u=Zi(o.pathname||"/",n);if(u==null)return null;let f=sT(r);Kb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=iw(u);m=tw(f[p],y,s)}return m}function sT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;at(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Xi([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(at(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),sT(f.children,e,b,A,p)),!(f.path==null&&!f.index)&&e.push({path:A,score:Jb(A,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of aT(f.path))u(f,m,!0,p)}),e}function aT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=aT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Kb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ew(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qb=/^:[\w-]+$/,Yb=3,Xb=2,$b=1,Wb=10,Zb=-2,Av=r=>r==="*";function Jb(r,e){let n=r.split("/"),s=n.length;return n.some(Av)&&(s+=Zb),e&&(s+=Xb),n.filter(o=>!Av(o)).reduce((o,u)=>o+(Qb.test(u)?Yb:u===""?$b:Wb),s)}function ew(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function tw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Xi([u,A.pathname]),pathnameBase:ow(Xi([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=Xi([u,A.pathnameBase]))}return f}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=nw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},b)=>{if(E==="*"){let F=m[b]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const P=m[b];return A&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function nw(r,e=!1,n=!0){Ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function rw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?oa(r):r;return{pathname:n?n.startsWith("/")?n:sw(n,e):e,search:lw(s),hash:uw(o)}}function sw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ip(r){let e=aw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rp(r,e,n,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let p=rw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),ow=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var oT=["POST","PUT","PATCH","DELETE"];new Set(oT);var hw=["GET",...oT];new Set(hw);var _o=q.createContext(null);_o.displayName="DataRouter";var Oh=q.createContext(null);Oh.displayName="DataRouterState";q.createContext(!1);var lT=q.createContext({isTransitioning:!1});lT.displayName="ViewTransition";var fw=q.createContext(new Map);fw.displayName="Fetchers";var dw=q.createContext(null);dw.displayName="Await";var ni=q.createContext(null);ni.displayName="Navigation";var lu=q.createContext(null);lu.displayName="Location";var Ai=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var sp=q.createContext(null);sp.displayName="RouteError";function mw(r,{relative:e}={}){at(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(ni),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return q.useContext(lu)!=null}function cs(){return at(vo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(lu).location}var uT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(r){q.useContext(ni).static||q.useLayoutEffect(r)}function ap(){let{isDataRoute:r}=q.useContext(Ai);return r?Iw():pw()}function pw(){at(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(_o),{basename:e,navigator:n}=q.useContext(ni),{matches:s}=q.useContext(Ai),{pathname:o}=cs(),u=JSON.stringify(ip(s)),f=q.useRef(!1);return cT(()=>{f.current=!0}),q.useCallback((p,y={})=>{if(Ln(f.current,uT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=rp(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}q.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=q.useContext(Ai),{pathname:s}=cs(),o=JSON.stringify(ip(n));return q.useMemo(()=>rp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function gw(r,e){return hT(r,e)}function hT(r,e,n,s,o){at(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(ni),{matches:f}=q.useContext(Ai),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let Z=A&&A.path||"";fT(y,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let b=cs(),P;if(e){let Z=typeof e=="string"?oa(e):e;at(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),P=Z}else P=b;let F=P.pathname||"/",Q=F;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(Z.length).join("/")}let z=rT(r,{pathname:Q});Ln(A||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ln(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=Tw(z&&z.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Xi([E,u.encodeLocation?u.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:Xi([E,u.encodeLocation?u.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s,o);return e&&ie?q.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ie):ie}function yw(){let r=Rw(),e=cw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var _w=q.createElement(yw,null),vw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?q.createElement(Ai.Provider,{value:this.props.routeContext},q.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ew({routeContext:r,match:e,children:n}){let s=q.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Ai.Provider,{value:r},n)}function Tw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);at(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:A,errors:b}=n,P=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,A)=>{let b,P=!1,F=null,Q=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,F=E.route.errorElement||_w,m&&(p<0&&A===0?(fT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,Q=null):p===A&&(P=!0,Q=E.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,A+1)),ie=()=>{let Z;return b?Z=F:P?Z=Q:E.route.Component?Z=q.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=y,q.createElement(Ew,{match:E,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:Z})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?q.createElement(vw,{location:n.location,revalidation:n.revalidation,component:F,error:b,children:ie(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):ie()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(r){let e=q.useContext(_o);return at(e,op(r)),e}function Aw(r){let e=q.useContext(Oh);return at(e,op(r)),e}function bw(r){let e=q.useContext(Ai);return at(e,op(r)),e}function lp(r){let e=bw(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ww(){return lp("useRouteId")}function Rw(){let r=q.useContext(sp),e=Aw("useRouteError"),n=lp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Iw(){let{router:r}=Sw("useNavigate"),e=lp("useNavigate"),n=q.useRef(!1);return cT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Ln(n.current,uT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bv={};function fT(r,e,n){!e&&!bv[r]&&(bv[r]=!0,Ln(!1,n))}q.memo(Cw);function Cw({routes:r,future:e,state:n,unstable_onError:s}){return hT(r,void 0,n,s,e)}function Nw({to:r,replace:e,state:n,relative:s}){at(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(ni);Ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Ai),{pathname:f}=cs(),m=ap(),p=rp(r,ip(u),f,s==="path"),y=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Za(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=oa(n));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:b="default"}=n,P=q.useMemo(()=>{let F=Zi(p,f);return F==null?null:{location:{pathname:F,search:y,hash:E,state:A,key:b},navigationType:s}},[f,p,y,E,A,b,s]);return Ln(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(ni.Provider,{value:m},q.createElement(lu.Provider,{children:e,value:P}))}function xw({children:r,location:e}){return gw(Cm(r),e)}function Cm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Cm(s.props.children,u));return}at(s.type===Za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Zc="get",Jc="application/x-www-form-urlencoded";function Mh(r){return r!=null&&typeof r.tagName=="string"}function Ow(r){return Mh(r)&&r.tagName.toLowerCase()==="button"}function Mw(r){return Mh(r)&&r.tagName.toLowerCase()==="form"}function Vw(r){return Mh(r)&&r.tagName.toLowerCase()==="input"}function Pw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kw(r,e){return r.button===0&&(!e||e==="_self")&&!Pw(r)}var Gc=null;function Lw(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!Uw.has(r)?(Ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):r}function jw(r,e){let n,s,o,u,f;if(Mw(r)){let m=r.getAttribute("action");s=m?Zi(m,e):null,n=r.getAttribute("method")||Zc,o=mm(r.getAttribute("enctype"))||Jc,u=new FormData(r)}else if(Ow(r)||Vw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||Jc,u=new FormData(m,r),!Lw()){let{name:y,type:E,value:A}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,A)}}else{if(Mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Jc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Zi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Bw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Hw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Bw(u,n);return f.links?f.links():[]}return[]}));return Qw(s.flat(1).filter(qw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Fw(r,e,{includeHydrateFallback:n}={}){return Gw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Gw(r){return[...new Set(r)]}function Kw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Qw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Kw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function dT(){let r=q.useContext(_o);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Yw(){let r=q.useContext(Oh);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cp=q.createContext(void 0);cp.displayName="FrameworkContext";function mT(){let r=q.useContext(cp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function Xw(r,e){let n=q.useContext(cp),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,b=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=ie=>{ie.forEach(Z=>{f(Z.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Pl(m,P),onBlur:Pl(p,F),onMouseEnter:Pl(y,P),onMouseLeave:Pl(E,F),onTouchStart:Pl(A,P)}]:[!1,b,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $w({page:r,...e}){let{router:n}=dT(),s=q.useMemo(()=>rT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(Zw,{page:r,matches:s,...e}):null}function Ww(r){let{manifest:e,routeModules:n}=mT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Hw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Zw({page:r,matches:e,...n}){let s=cs(),{manifest:o,routeModules:u}=mT(),{basename:f}=dT(),{loaderData:m,matches:p}=Yw(),y=q.useMemo(()=>wv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=q.useMemo(()=>wv(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Q=!1;if(e.forEach(ie=>{let Z=o.routes[ie.route.id];!Z||!Z.hasLoader||(!y.some(se=>se.route.id===ie.route.id)&&ie.route.id in m&&u[ie.route.id]?.shouldRevalidate||Z.hasClientLoader?Q=!0:F.add(ie.route.id))}),F.size===0)return[];let z=zw(r,f,"data");return Q&&F.size>0&&z.searchParams.set("_routes",e.filter(ie=>F.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,y,e,r,u]),b=q.useMemo(()=>Fw(E,o),[E,o]),P=Ww(E);return q.createElement(q.Fragment,null,A.map(F=>q.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),b.map(F=>q.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),P.map(({key:F,link:Q})=>q.createElement("link",{key:F,nonce:n.nonce,...Q})))}function Jw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pT&&(window.__reactRouterVersion="7.9.1")}catch{}function eR({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Bb({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(Dw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yT=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A,...b},P){let{basename:F}=q.useContext(ni),Q=typeof y=="string"&&gT.test(y),z,ie=!1;if(typeof y=="string"&&Q&&(z=y,pT))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=Zi(V.pathname,F);V.origin===R.origin&&D!=null?y=D+V.search+V.hash:ie=!0}catch{Ln(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=mw(y,{relative:o}),[se,Re,fe]=Xw(s,b),Ce=rR(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function x(R){e&&e(R),R.defaultPrevented||Ce(R)}let w=q.createElement("a",{...b,...fe,href:z||Z,onClick:ie||u?e:x,ref:Jw(P,Re),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return se&&!Q?q.createElement(q.Fragment,null,w,q.createElement($w,{page:Z})):w});yT.displayName="Link";var tR=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let A=uu(f,{relative:y.relative}),b=cs(),P=q.useContext(Oh),{navigator:F,basename:Q}=q.useContext(ni),z=P!=null&&uR(A)&&m===!0,ie=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,Z=b.pathname,se=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&Q&&(se=Zi(se,Q)||se);const Re=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let fe=Z===ie||!o&&Z.startsWith(ie)&&Z.charAt(Re)==="/",Ce=se!=null&&(se===ie||!o&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),x={isActive:fe,isPending:Ce,isTransitioning:z},w=fe?e:void 0,R;typeof s=="function"?R=s(x):R=[s,fe?"active":null,Ce?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return q.createElement(yT,{...y,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(x):p)});tR.displayName="NavLink";var nR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...b},P)=>{let F=oR(),Q=lR(m,{relative:y}),z=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&gT.test(m),Z=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let Re=se.nativeEvent.submitter,fe=Re?.getAttribute("formmethod")||f;F(Re||se.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:P,method:z,action:Q,onSubmit:s?p:Z,...b,"data-discover":!ie&&r==="render"?"true":void 0})});nR.displayName="Form";function iR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(r){let e=q.useContext(_o);return at(e,iR(r)),e}function rR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ap(),p=cs(),y=uu(r,{relative:u});return q.useCallback(E=>{if(kw(E,e)){E.preventDefault();let A=n!==void 0?n:Xl(p)===Xl(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var sR=0,aR=()=>`__${String(++sR)}__`;function oR(){let{router:r}=_T("useSubmit"),{basename:e}=q.useContext(ni),n=ww();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=jw(s,e);if(o.navigate===!1){let E=o.fetcherKey||aR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function lR(r,{relative:e}={}){let{basename:n}=q.useContext(ni),s=q.useContext(Ai);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Xl(u)}function uR(r,{relative:e}={}){let n=q.useContext(lT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_T("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}const cR=()=>{};var Rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(b=64)),s.push(n[E],n[A],n[b],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(vT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new fR;const b=u<<2|m>>4;if(s.push(b),y!==64){const P=m<<4&240|y>>2;if(s.push(P),A!==64){const F=y<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(r){const e=vT(r);return ET.encodeByteArray(e,!0)},ch=function(r){return dR(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TT(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return cR()||pR()||gR()||yR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ST=r=>Vh()?.emulatorHosts?.[r],_R=r=>{const e=ST(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AT=()=>Vh()?.config,bT=r=>Vh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const ql={};function TR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function SR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Iv=!1;function RT(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||ql[r]===e||ql[r]||Iv)return;ql[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=TR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Iv=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=SR(s),P=n("text"),F=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),ie=n("preprendIcon"),Z=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),E(z,Q);const Re=y();p(Z,ie),se.append(Z,F,z,Re),document.body.appendChild(se)}u?(F.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function bR(){const r=Vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NR(){return!bR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="FirebaseError";class rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?MR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function MR(r,e){return r.replace(VR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VR=/\{\$([^}]+)}/g;function PR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Cv(u)&&Cv(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kR(r,e){const n=new LR(r,e);return n.subscribe.bind(n)}class LR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r){return r&&r._delegate?r._delegate:r}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(r){return r===Ws?void 0:r}function BR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const HR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},FR=Me.INFO,GR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},KR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=GR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const QR=(r,e)=>e.some(n=>r instanceof n);let Nv,Dv;function YR(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,Nm=new WeakMap,CT=new WeakMap,gm=new WeakMap,fp=new WeakMap;function $R(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function WR(r){if(Nm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Nm.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZR(r){Dm=r(Dm)}function JR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ym(this),e,...n);return CT.set(s,e.sort?e.sort():[e]),Zr(s)}:XR().includes(r)?function(...e){return r.apply(ym(this),e),Zr(IT.get(this))}:function(...e){return Zr(r.apply(ym(this),e))}}function e1(r){return typeof r=="function"?JR(r):(r instanceof IDBTransaction&&WR(r),QR(r,YR())?new Proxy(r,Dm):r)}function Zr(r){if(r instanceof IDBRequest)return $R(r);if(gm.has(r))return gm.get(r);const e=e1(r);return e!==r&&(gm.set(r,e),fp.set(e,r)),e}const ym=r=>fp.get(r);function t1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const n1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],_m=new Map;function xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=i1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return _m.set(e,u),u}ZR(r=>({...r,get:(e,n,s)=>xv(e,n)||r.get(e,n,s),has:(e,n)=>!!xv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s1(r){return r.getComponent()?.type==="VERSION"}const xm="@firebase/app",Ov="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new hp("@firebase/app"),a1="@firebase/app-compat",o1="@firebase/analytics-compat",l1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",h1="@firebase/auth",f1="@firebase/auth-compat",d1="@firebase/database",m1="@firebase/data-connect",p1="@firebase/database-compat",g1="@firebase/functions",y1="@firebase/functions-compat",_1="@firebase/installations",v1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",S1="@firebase/performance",A1="@firebase/performance-compat",b1="@firebase/remote-config",w1="@firebase/remote-config-compat",R1="@firebase/storage",I1="@firebase/storage-compat",C1="@firebase/firestore",N1="@firebase/ai",D1="@firebase/firestore-compat",x1="firebase",O1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",M1={[xm]:"fire-core",[a1]:"fire-core-compat",[l1]:"fire-analytics",[o1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[h1]:"fire-auth",[f1]:"fire-auth-compat",[d1]:"fire-rtdb",[m1]:"fire-data-connect",[p1]:"fire-rtdb-compat",[g1]:"fire-fn",[y1]:"fire-fn-compat",[_1]:"fire-iid",[v1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[S1]:"fire-perf",[A1]:"fire-perf-compat",[b1]:"fire-rc",[w1]:"fire-rc-compat",[R1]:"fire-gcs",[I1]:"fire-gcs-compat",[C1]:"fire-fst",[D1]:"fire-fst-compat",[N1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,V1=new Map,Mm=new Map;function Mv(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(Mm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of hh.values())Mv(n,r);for(const n of V1.values())Mv(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new cu("app","Firebase",P1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=O1;function NT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=AT()),!n)throw Jr.create("no-options");const u=hh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const f=new qR(o);for(const p of Mm.values())f.addComponent(p);const m=new k1(n,s,f);return hh.set(o,m),m}function DT(r=Om){const e=hh.get(r);if(!e&&r===Om&&AT())return NT();if(!e)throw Jr.create("no-app",{appName:r});return e}function es(r,e,n){let s=M1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}co(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebase-heartbeat-database",U1=1,$l="firebase-heartbeat-store";let vm=null;function xT(){return vm||(vm=t1(L1,U1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),vm}async function j1(r){try{const n=(await xT()).transaction($l),s=await n.objectStore($l).get(OT(r));return await n.done,s}catch(e){if(e instanceof rr)Ji.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function Vv(r,e){try{const s=(await xT()).transaction($l,"readwrite");await s.objectStore($l).put(e,OT(r)),await s.done}catch(n){if(n instanceof rr)Ji.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}function OT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=1024,B1=30;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>B1){const o=G1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pv(),{heartbeatsToSend:n,unsentEntries:s}=H1(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function H1(r,e=z1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class F1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kv(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function G1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){co(new ta("platform-logger",e=>new r1(e),"PRIVATE")),co(new ta("heartbeat",e=>new q1(e),"PRIVATE")),es(xm,Ov,r),es(xm,Ov,"esm2020"),es("fire-js","")}K1("");var Q1="firebase",Y1="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(Q1,Y1,"app");function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X1=MT,VT=new cu("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new hp("@firebase/auth");function $1(r,...e){fh.logLevel<=Me.WARN&&fh.warn(`Auth (${To}): ${r}`,...e)}function eh(r,...e){fh.logLevel<=Me.ERROR&&fh.error(`Auth (${To}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r,...e){throw mp(r,...e)}function _i(r,...e){return mp(r,...e)}function PT(r,e,n){const s={...X1(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function $i(r){return PT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VT.create(r,...e)}function Ee(r,e,...n){if(!r)throw mp(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw eh(e),new Error(e)}function er(r,e){r||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){return typeof self<"u"&&self.location?.href||""}function W1(){return Lv()==="http:"||Lv()==="https:"}function Lv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W1()||RR()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=AR()||IR()}get(){return Z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new fu(3e4,6e4);function sr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ar(r,e,n,s,o={}){return LT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return wR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),kT.fetch()(await UT(r,r.config.apiHost,n,m),y)})}async function LT(r,e,n){r._canInitEmulator=!1;const s={...eI,...e};try{const o=new rI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw PT(r,E,y);ei(r,E)}}catch(o){if(o instanceof rr)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function du(r,e,n,s,o={}){const u=await ar(r,e,n,s,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function UT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?pp(r.config,o):`${r.config.apiScheme}://${o}`;return tI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function iI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),nI.get())})}}function Kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_i(r,e,s);return o.customData._tokenResponse=n,o}function Uv(r){return r!==void 0&&r.enterprise!==void 0}class sI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aI(r,e){return ar(r,"GET","/v2/recaptchaConfig",sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,e){return ar(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return ar(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lI(r,e=!1){const n=Dt(r),s=await n.getIdToken(e),o=gp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(Em(o.auth_time)),issuedAtTime:Hl(Em(o.iat)),expirationTime:Hl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jv(r){const e=gp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rr&&uI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,dh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?jT(o.providerUserInfo):[],f=fI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function hI(r){const e=Dt(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function jT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e){const n=await LT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await UT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),kT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(r,e){return ar(r,"POST","/v2/accounts:revokeToken",sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Wl(this,oI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:P,providerData:F,stsTokenManager:Q}=n;Ee(A&&Q,e,"internal-error");const z=ao.fromJSON(this.name,Q);Ee(typeof A=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof P=="boolean",e,"internal-error"),Kr(u,e.name),Kr(f,e.name),Kr(m,e.name),Kr(p,e.name),Kr(y,e.name),Kr(E,e.name);const ie=new $n({uid:A,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(ie.providerData=F.map(Z=>({...Z}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Qi(r){er(r instanceof Function,"Expected a class definition");let e=zv.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zT.type="NONE";const Bv=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(Qi(Bv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Qi(Bv);const f=th(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const b=await dh(e,{idToken:E}).catch(()=>{});if(!b)break;A=await $n._fromGetAccountInfoResponse(e,b,E)}else A=$n._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function BT(r=Zt()){return/firefox\//i.test(r)}function qT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(r=Zt()){return/crios\//i.test(r)}function FT(r=Zt()){return/iemobile/i.test(r)}function GT(r=Zt()){return/android/i.test(r)}function KT(r=Zt()){return/blackberry/i.test(r)}function QT(r=Zt()){return/webos/i.test(r)}function yp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pI(r=Zt()){return yp(r)&&!!window.navigator?.standalone}function gI(){return CR()&&document.documentMode===10}function YT(r=Zt()){return yp(r)||GT(r)||QT(r)||KT(r)||/windows phone/i.test(r)||FT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r,e=[]){let n;switch(r){case"Browser":n=qv(Zt());break;case"Worker":n=`${qv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(r,e={}){return ar(r,"GET","/v2/passwordPolicy",sr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=6;class EI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject($i(this));const n=e?Dt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),n=new EI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hs(r){return Dt(r)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=kR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){Ph=r}function $T(r){return Ph.loadJS(r)}function AI(){return Ph.recaptchaEnterpriseScript}function bI(){return Ph.gapiScript}function wI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class II{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CI="recaptcha-enterprise",WT="NO_RECAPTCHA";class NI{constructor(e){this.type=CI,this.auth=hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new sI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Uv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(WT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Uv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AI();p.length!==0&&(p+=m),$T(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Fv(r,e,n,s=!1,o=!1){const u=new NI(r);let f;if(o)f=WT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ph(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function xI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function OI(r,e,n){const s=hs(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:f,port:m}=MI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ea(y,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(wT(`${u}//${f}${p}`),RT("Auth",!0)):VI()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MI(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Gv(f)}}}function Gv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function PI(r,e){return ar(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",sr(r,e))}async function LI(r,e){return ar(r,"POST","/v1/accounts:sendOobCode",sr(r,e))}async function UI(r,e){return LI(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",sr(r,e))}async function zI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends _p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,n,"signInWithPassword",kI);case"emailLink":return jI(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,s,"signUpPassword",PI);case"emailLink":return zI(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class na extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(r){const e=kl(Ll(r)).link,n=e?kl(Ll(e)).deep_link_id:null,s=kl(Ll(r)).deep_link_id;return(s?kl(Ll(s)).link:null)||s||n||e||r}class vp{constructor(e){const n=kl(Ll(e)),s=n.apiKey??null,o=n.oobCode??null,u=qI(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HI(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return Ee(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends mu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends mu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends mu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return du(r,"POST","/v1/accounts:signUp",sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=Kv(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Kv(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends rr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function e0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function GI(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject($i(s));const o="reauthenticate";try{const u=await Wl(r,e0(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=gp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(r,e,n=!1){if(Pn(r.app))return Promise.reject($i(r));const s="signIn",o=await e0(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function QI(r,e){return t0(hs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(r){const e=hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YI(r,e,n){const s=hs(r);await ph(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UI)}async function XI(r,e,n){if(Pn(r.app))return Promise.reject($i(r));const s=hs(r),f=await ph(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&n0(r),p}),m=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function $I(r,e,n){return Pn(r.app)?Promise.reject($i(r)):QI(Dt(r),So.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&n0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r,e){return Dt(r).setPersistence(e)}function ZI(r,e,n,s){return Dt(r).onIdTokenChanged(e,n,s)}function JI(r,e,n){return Dt(r).beforeAuthStateChanged(e,n)}function eC(r,e,n,s){return Dt(r).onAuthStateChanged(e,n,s)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class r0 extends i0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r0.type="LOCAL";const s0=r0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends i0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a0.type="SESSION";const o0=a0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await iC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function sC(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function aC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){return navigator?.serviceWorker?.controller||null}function lC(){return l0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firebaseLocalStorageDb",uC=1,_h="firebaseLocalStorage",c0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function cC(){const r=indexedDB.deleteDatabase(u0);return new pu(r).toPromise()}function km(){const r=indexedDB.open(u0,uC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:c0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await cC(),e(await km()))})})}async function Qv(r,e,n){const s=Lh(r,!0).put({[c0]:e,value:n});return new pu(s).toPromise()}async function hC(r,e){const n=Lh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function Yv(r,e){const n=Lh(r,!0).delete(e);return new pu(n).toPromise()}const fC=800,dC=3;class h0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(lC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Qv(e,yh,"1"),await Yv(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h0.type="LOCAL";const mC=h0;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r,e){return e?Qi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gC(r){return t0(r.auth,new Tp(r),r.bypassAuthState)}function yC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),KI(n,new Tp(r),r.bypassAuthState)}async function _C(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),GI(n,new Tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:ei(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new fu(2e3,1e4);class io extends f0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="pendingRedirect",nh=new Map;class TC extends f0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await SC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(r,e){const n=wC(e),s=bC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AC(r,e){nh.set(r._key(),e)}function bC(r){return Qi(r._redirectPersistence)}function wC(r){return th(EC,r.config.apiKey,r.name)}async function RC(r,e,n=!1){if(Pn(r.app))return Promise.reject($i(r));const s=hs(r),o=pC(s,e),f=await new TC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=600*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!d0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_i(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function d0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(r,e={}){return ar(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function MC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DC(r);for(const n of e)try{if(VC(n))return}catch{}ei(r,"unauthorized-domain")}function VC(r){const e=Vm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!OC.test(n))return!1;if(xC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new fu(3e4,6e4);function $v(){const r=vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function kC(r){return new Promise((e,n)=>{function s(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(_i(r,"network-request-failed"))},timeout:PC.get()})}if(vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vi().gapi?.load)s();else{const o=wI("iframefcb");return vi()[o]=()=>{gapi.load?s():n(_i(r,"network-request-failed"))},$T(`${bI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function LC(r){return ih=ih||kC(r),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new fu(5e3,15e3),jC="__/auth/iframe",zC="emulator/auth/iframe",BC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pp(e,zC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:To},o=qC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function FC(r){const e=await LC(r),n=vi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:HC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(r,"network-request-failed"),m=vi().setTimeout(()=>{u(f)},UC.get());function p(){vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,QC=600,YC="_blank",XC="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $C(r,e,n,s=KC,o=QC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...GC,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(m=HT(y)?YC:n),BT(y)&&(e=e||XC,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[P,F])=>`${b}${P}=${F},`,"");if(pI(y)&&m!=="_self")return WC(e||"",m),new Wv(null);const A=window.open(e||"",m,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new Wv(A)}function WC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__/auth/handler",JC="emulator/auth/handler",e2=encodeURIComponent("fac");async function Zv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof JT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",PR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof mu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${e2}=${encodeURIComponent(p)}`:"";return`${t2(r)}?${hu(m).slice(1)}${y}`}function t2({config:r}){return r.emulator?pp(r,JC):`https://${r.authDomain}/${ZC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o0,this._completeRedirectFn=RC,this._overrideRedirectResult=AC}async _openPopup(e,n,s,o){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Zv(e,n,s,Vm(),o);return $C(e,u,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Zv(e,n,s,Vm(),o);return sC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FC(e),s=new CC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YT()||qT()||yp()}}const i2=n2;var Jv="@firebase/auth",eE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){co(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(r)},y=new TI(s,o,u,p);return xI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new ta("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(s=>new r2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Jv,eE,s2(r)),es(Jv,eE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=300,l2=bT("authIdTokenMaxAge")||o2;let tE=null;const u2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>l2)return;const o=n?.token;tE!==o&&(tE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=DT()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=DI(r,{popupRedirectResolver:i2,persistence:[mC,s0,o0]}),s=bT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=u2(u.toString());JI(n,f,()=>f(n.currentUser)),ZI(n,m=>f(m))}}const o=ST("auth");return o&&OI(n,`http://${o}`),n}function h2(){return document.getElementsByTagName("head")?.[0]??document}SI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=_i("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",h2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,m0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function R(){}R.prototype=w.prototype,x.F=w.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(V,D,L){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return w.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=x.g[0],R=x.g[1],D=x.g[2];let L=x.g[3],C;C=w+(L^R&(D^L))+V[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+V[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+V[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+V[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+V[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+V[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+V[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+V[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+V[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+V[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+V[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+V[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(L^R&(D^L))+V[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(D^w&(R^D))+V[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=D+(R^L&(w^R))+V[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(w^D&(L^w))+V[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^L&(R^D))+V[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+V[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+V[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+V[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+V[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+V[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+V[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+V[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+V[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+V[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+V[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+V[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^L&(R^D))+V[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(w^R))+V[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(L^w))+V[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(D^L))+V[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^L)+V[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+V[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+V[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+V[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+V[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+V[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+V[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+V[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+V[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+V[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+V[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+V[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^L)+V[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^D)+V[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=D+(L^w^R)+V[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^w)+V[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~L))+V[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+V[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+V[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+V[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+V[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+V[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+V[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+V[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+V[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+V[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+V[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+V[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~L))+V[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~D))+V[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=D+(w^(L|~R))+V[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,w){w===void 0&&(w=x.length);const R=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=R;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(V[D++]=x.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<w;)if(V[D++]=x[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)x[w++]=this.g[R]>>>V&255;return x};function u(x,w){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=w(x)}function f(x,w){this.h=w;const R=[];let V=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;V&&L==w||(R[D]=L,V=!1)}this.g=R}var m={};function p(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return z(y(-x));const w=[];let R=1;for(let V=0;x>=R;V++)w[V]=x/R|0,R*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return z(E(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let V=A;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const C=parseInt(x.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var A=p(0),b=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-z(this).m();let x=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Q(this))return"-"+z(this).toString(x);const w=y(Math.pow(x,6));var R=this;let V="";for(;;){const D=Re(R,w).g;R=ie(R,D.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=D,F(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=ie(this,x),Q(x)?-1:F(x)?0:1};function z(x){const w=x.g.length,R=[];for(let V=0;V<w;V++)R[V]=~x.g[V];return new f(R,~x.h).add(b)}r.abs=function(){return Q(this)?z(this):this},r.add=function(x){const w=Math.max(this.g.length,x.g.length),R=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(x.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ie(x,w){return x.add(z(w))}r.j=function(x){if(F(this)||F(x))return A;if(Q(this))return Q(x)?z(this).j(z(x)):z(z(this).j(x));if(Q(x))return z(this.j(z(x)));if(this.l(P)<0&&x.l(P)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const L=this.i(V)>>>16,C=this.i(V)&65535,rt=x.i(D)>>>16,Ke=x.i(D)&65535;R[2*V+2*D]+=C*Ke,Z(R,2*V+2*D),R[2*V+2*D+1]+=L*Ke,Z(R,2*V+2*D+1),R[2*V+2*D+1]+=C*rt,Z(R,2*V+2*D+1),R[2*V+2*D+2]+=L*rt,Z(R,2*V+2*D+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function Z(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function se(x,w){this.g=x,this.h=w}function Re(x,w){if(F(w))throw Error("division by zero");if(F(x))return new se(A,A);if(Q(x))return w=Re(z(x),w),new se(z(w.g),z(w.h));if(Q(w))return w=Re(x,z(w)),new se(z(w.g),w.h);if(x.g.length>30){if(Q(x)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;V.l(x)<=0;)R=fe(R),V=fe(V);var D=Ce(R,1),L=Ce(V,1);for(V=Ce(V,2),R=Ce(R,2);!F(V);){var C=L.add(V);C.l(x)<=0&&(D=D.add(R),L=C),V=Ce(V,1),R=Ce(R,1)}return w=ie(x,D.j(w)),new se(D,w)}for(D=A;x.l(w)>=0;){for(R=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),C=L.j(w);Q(C)||C.l(x)>0;)R-=V,L=y(R),C=L.j(w);F(L)&&(L=b),D=D.add(L),x=ie(x,C)}return new se(D,x)}r.B=function(x){return Re(this,x).h},r.and=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&x.i(V);return new f(R,this.h&x.h)},r.or=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|x.i(V);return new f(R,this.h|x.h)},r.xor=function(x){const w=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^x.i(V);return new f(R,this.h^x.h)};function fe(x){const w=x.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(R,x.h)}function Ce(x,w){const R=w>>5;w%=32;const V=x.g.length-R,D=[];for(let L=0;L<V;L++)D[L]=w>0?x.i(L+R)>>>w|x.i(L+R+1)<<32-w:x.i(L+R);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,m0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p0,Ul,g0,rh,Lm,y0,_0,v0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var _=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&_.push([S,g[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,_){return c.call.apply(c.bind,arguments)}function y(c,g,_){return y=p,y.apply(null,arguments)}function E(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,j,K){for(var re=Array(arguments.length-2),be=2;be<arguments.length;be++)re[be-2]=arguments[be];return g.prototype[j].apply(S,re)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const g=c.length;if(g>0){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function F(c,g){for(let S=1;S<arguments.length;S++){const j=arguments[S];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const K=j.length||0;c.length=_+K;for(let re=0;re<K;re++)c[_+re]=j[re]}else c.push(j)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=x;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Z{constructor(){this.h=this.g=null}add(g,_){const S=se.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new Q(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Ce=!1,x=new Z,w=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(_){z(_)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(rt,D),rt.prototype.init=function(c,g){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(c,g,_,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=j,this.key=++X,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function ne(c){const g={};for(const _ in c)g[_]=c[_];return g}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(c,g){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let K=0;K<ue.length;K++)_=ue[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,g,_,S,j){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=me(c,g,S,j);return re>-1?(g=c[re],_||(g.fa=!1)):(g=new oe(g,this.src,K,!!S,j),g.fa=_,c.push(g)),g};function ye(c,g){const _=g.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,g,void 0),K;(K=j>=0)&&Array.prototype.splice.call(S,j,1),K&&(de(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function me(c,g,_,S){for(let j=0;j<c.length;++j){const K=c[j];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return j}return-1}var Ze="closure_lm_"+(Math.random()*1e6|0),je={};function Ft(c,g,_,S,j){if(Array.isArray(g)){for(let K=0;K<g.length;K++)Ft(c,g[K],_,S,j);return null}return _=Ru(_),c&&c[Ke]?c.J(g,_,m(S)?!!S.capture:!1,j):lr(c,g,_,!1,S,j)}function lr(c,g,_,S,j,K){if(!g)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let be=Co(c);if(be||(c[Ze]=be=new ae(c)),_=be.add(g,_,S,re,K),_.proxy)return _;if(S=sn(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)L||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(ms(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sn(){function c(_){return g.call(c.src,c.listener,_)}const g=lf;return c}function Un(c,g,_,S,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)Un(c,g[K],_,S,j);else S=m(S)?!!S.capture:!!S,_=Ru(_),c&&c[Ke]?(c=c.i,K=String(g).toString(),K in c.g&&(g=c.g[K],_=me(g,_,S,j),_>-1&&(de(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[K],c.h--)))):c&&(c=Co(c))&&(g=c.g[g.toString()],c=-1,g&&(c=me(g,_,S,j)),(_=c>-1?g[c]:null)&&bi(_))}function bi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ke])ye(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(ms(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Co(g))?(ye(_,c),_.h==0&&(_.src=null,g[Ze]=null)):de(c)}}}function ms(c){return c in je?je[c]:je[c]="on"+c}function lf(c,g){if(c.da)c=!0;else{g=new rt(g,this);const _=c.listener,S=c.ha||c.src;c.fa&&bi(c),c=_.call(S,g)}return c}function Co(c){return c=c[Ze],c instanceof ae?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ru(c){return typeof c=="function"?c:(c[an]||(c[an]=function(g){return c.handleEvent(g)}),c[an])}function wt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(wt,V),wt.prototype[Ke]=!0,wt.prototype.removeEventListener=function(c,g,_,S){Un(this,c,g,_,S)};function xt(c,g){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var j=g;g=new D(S,c),Y(g,j)}j=!0;let K,re;if(_)for(re=_.length-1;re>=0;re--)K=g.g=_[re],j=wi(K,S,!0,g)&&j;if(K=g.g=c,j=wi(K,S,!0,g)&&j,j=wi(K,S,!1,g)&&j,_)for(re=0;re<_.length;re++)K=g.g=_[re],j=wi(K,S,!1,g)&&j}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let S=0;S<_.length;S++)de(_[S]);delete c.g[g],c.h--}}this.G=null},wt.prototype.J=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},wt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function wi(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let K=0;K<g.length;++K){const re=g[K];if(re&&!re.da&&re.capture==_){const be=re.listener,it=re.ha||re.src;re.fa&&ye(c.i,re),j=be.call(it,S)!==!1&&j}}return j&&!S.defaultPrevented}function uf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function No(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,No(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class cf extends V{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){V.call(this),this.h=c,this.g={}}A(ps,V);var ur=[];function Gt(c){ke(c.g,function(g,_){this.g.hasOwnProperty(_)&&bi(g)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Gt(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=f.JSON.stringify,Jt=f.JSON.parse,hf=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Iu(){}function Cu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cr(){D.call(this,"d")}A(cr,D);function jn(){D.call(this,"c")}A(jn,D);var bn={},hr=null;function ca(){return hr=hr||new wt}bn.Ia="serverreachability";function Do(c){D.call(this,bn.Ia,c)}A(Do,D);function fr(c){const g=ca();xt(g,new Do(g))}bn.STAT_EVENT="statevent";function ha(c,g){D.call(this,bn.STAT_EVENT,c),this.stat=g}A(ha,D);function dt(c){const g=ca();xt(g,new ha(g,c))}bn.Ja="timingevent";function Nu(c,g){D.call(this,bn.Ja,c),this.size=g}A(Nu,D);function dr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function mr(){this.g=!0}mr.prototype.ua=function(){this.g=!1};function xo(c,g,_,S,j,K){c.info(function(){if(c.g)if(K){var re="",be=K.split("&");for(let He=0;He<be.length;He++){var it=be[He].split("=");if(it.length>1){const gt=it[0];it=it[1];const fn=gt.split("_");re=fn.length>=2&&fn[1]=="type"?re+(gt+"="+it+"&"):re+(gt+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+_+`
`+re})}function Oo(c,g,_,S,j,K,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+_+`
`+K+" "+re})}function Ri(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ri(c,_)+(S?" "+S:"")})}function ff(c,g){c.info(function(){return"TIMEOUT: "+g})}mr.prototype.info=function(){};function ri(c,g){if(!c.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return An(K)}catch{return g}}var mt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ii;function gs(){}A(gs,Iu),gs.prototype.g=function(){return new XMLHttpRequest},Ii=new gs;function ys(c){return encodeURIComponent(String(c))}function df(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function zn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.S=S||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var fa={},si={};function ai(c,g,_){c.M=1,c.A=Ni(ot(g)),c.u=_,c.R=!0,gr(c,null)}function gr(c,g){c.F=Date.now(),_s(c),c.B=ot(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Mu(_.i,"t",S),c.C=0,_=c.j.L,c.h=new pr,c.g=Sa(c.j,_?g:null,!c.u),c.P>0&&(c.O=new cf(y(c.Y,c,c.g),c.P)),g=c.V,_=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(ur[0]=j.toString()),j=ur);for(let K=0;K<j.length;K++){const re=Ft(_,j[K],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),fr(),xo(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kt(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Kt(this.g),it=this.g.ya(),He=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Ns(this.g)))){this.K||be!=4||it==7||(it==8||He<=0?fr(3):fr(2)),li(this);var g=this.g.ca();this.X=g;var _=yr(this);if(this.o=g==200,Oo(this.i,this.v,this.B,this.l,this.S,be,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var K=S;break t}}K=null}if(c=K)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,da(this,c);else{this.o=!1,this.m=3,dt(12),ui(this),vs(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<_.length;)if(gt=Du(this,_),gt==si){be==4&&(this.m=4,dt(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==fa){this.m=4,dt(15),Ri(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,gt,null),da(this,gt);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||_.length!=0||this.h.h||(this.m=1,dt(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,_,"[Invalid Chunked Response]"),ui(this),vs(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),qo(re),re.P=!0,dt(11))}}else Ri(this.i,this.l,_,null),da(this,_);be==4&&ui(this),this.o&&!this.K&&(be==4?Ho(this.j,this):(this.o=!1,_s(this)))}else Ds(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),ui(this),vs(this)}}}catch{}finally{}};function yr(c){if(!pt(c))return c.g.la();const g=Ns(c.g);if(g==="")return"";let _="";const S=g.length,j=Kt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ui(c),vs(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,_+=c.h.i.decode(g[K],{stream:!(j&&K==S-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function pt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Du(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?si:(_=Number(g.substring(_,S)),isNaN(_)?fa:(S+=1,S+_>g.length?si:(g=g.slice(S,S+_),c.C=S+_,g)))}zn.prototype.cancel=function(){this.K=!0,ui(this)};function _s(c){c.T=Date.now()+c.H,oi(c,c.H)}function oi(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=dr(y(c.aa,c),g)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ff(this.i,this.B),this.M!=2&&(fr(),dt(17)),ui(this),this.m=2,vs(this)):oi(this,this.T-c)};function vs(c){c.j.I==0||c.K||Ho(c.j,c)}function ui(c){li(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Gt(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function da(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||Ss(_.h,c))){if(!c.L&&Ss(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Ta(_),ci(_);else break e;Bo(_),dt(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=dr(y(_.Va,_),6e3));wn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Oi(_,11)}else if((c.L||_.g==c)&&Ta(_),!C(g))for(j=_.Ba.g.parse(g),g=0;g<j.length;g++){let He=j[g];const gt=He[0];if(!(gt<=_.K))if(_.K=gt,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const fn=He[3];fn!=null&&(_.ka=fn,_.j.info("VER="+_.ka));const hi=He[4];hi!=null&&(_.za=hi,_.j.info("SVER="+_.za));const Hn=He[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Fn=c.g;if(Fn){const Gn=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var K=S.h;K.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ma(K,K.h),K.h=null))}if(S.G){const Go=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(S.wa=Go,Qe(S.J,S.G,Go))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var re=c;if(S.na=qu(S,S.L?S.ba:null,S.W),re.L){Ci(S.h,re);var be=re,it=S.O;it&&(be.H=it),be.D&&(li(be),_s(be)),S.g=re}else Uu(S);_.i.length>0&&Vs(_)}else He[0]!="stop"&&He[0]!="close"||Oi(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Oi(_,7):Os(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}fr(4)}catch{}}var mf=class{constructor(c,g){this.g=c,this.map=g}};function Es(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wn(c){return c.h?1:c.g?c.g.size:0}function Ss(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ma(c,g){c.g?c.g.add(g):c.h=g}function Ci(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Es.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return P(c.i)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let j,K=null;S>=0?(j=c[_].substring(0,S),K=c[_].substring(S+1)):j=c[_],g(j,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Bn?(this.l=c.l,_r(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,vr(this,Vu(c.i)),this.m=c.m):c&&(g=String(c).match(ga))?(this.l=!1,_r(this,g[1]||"",!0),this.o=bs(g[2]||""),this.g=bs(g[3]||"",!0),As(this,g[4]),this.h=bs(g[5]||"",!0),vr(this,g[6]||"",!0),this.m=bs(g[7]||"")):(this.l=!1,this.i=new Rn(null,this.l))}Bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ot(g,Vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ot(g,Vo,!0),"@"),c.push(ys(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ot(_,_.charAt(0)=="/"?Er:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ot(_,Ou)),c.join("")},Bn.prototype.resolve=function(c){const g=ot(this);let _=!!c.j;_?_r(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var S=c.h;if(_)As(g,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=g.h.lastIndexOf("/");j!=-1&&(S=g.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const K=[];for(let re=0;re<j.length;){const be=j[re++];be=="."?S&&re==j.length&&K.push(""):be==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&re==j.length&&K.push("")):(K.push(be),S=!0)}S=K.join("/")}else S=j}return _?g.h=S:_=c.i.toString()!=="",_?vr(g,Vu(c.i)):_=!!c.m,_&&(g.m=c.m),g};function ot(c){return new Bn(c)}function _r(c,g,_){c.j=_?bs(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function vr(c,g,_){g instanceof Rn?(c.i=g,Uo(c.i,c.l)):(_||(g=Ot(g,xu)),c.i=new Rn(g,c.l))}function Qe(c,g,_){c.i.set(g,_)}function Ni(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bs(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ot(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Mo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,Er=/[#\?]/g,xu=/[#\?@]/g,Ou=/#/g;function Rn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Rn.prototype,r.add=function(c,g){Di(this),this.i=null,c=qn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ko(c,g){Di(c),g=qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Lo(c,g){return Di(c),g=qn(c,g),c.g.has(g)}r.forEach=function(c,g){Di(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(g,j,S,this)},this)},this)};function ya(c,g){Di(c);let _=[];if(typeof g=="string")Lo(c,g)&&(_=_.concat(c.g.get(qn(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}r.set=function(c,g){return Di(this),this.i=null,c=qn(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=ya(this,c),c.length>0?String(c[0]):g):g};function Mu(c,g,_){ko(c,g),_.length>0&&(c.i=null,c.g.set(qn(c,g),P(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var _=g[S];const j=ys(_);_=ya(this,_);for(let K=0;K<_.length;K++){let re=j;_[K]!==""&&(re+="="+ys(_[K])),c.push(re)}}return this.i=c.join("&")};function Vu(c){const g=new Rn;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Uo(c,g){g&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(_,S){const j=S.toLowerCase();S!=j&&(ko(this,S),Mu(this,j,_))},c)),c.j=g}function jo(c,g){const _=new mr;if(f.Image){const S=new Image;S.onload=E(en,_,"TestLoadImage: loaded",!0,g,S),S.onerror=E(en,_,"TestLoadImage: error",!1,g,S),S.onabort=E(en,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(en,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Tr(c,g){const _=new mr,S=new AbortController,j=setTimeout(()=>{S.abort(),en(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?en(_,"TestPingServer: ok",!0,g):en(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),en(_,"TestPingServer: error",!1,g)})}function en(c,g,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Pu(){this.g=new hf}function ws(c){this.i=c.Sb||null,this.h=c.ab||!1}A(ws,Iu),ws.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,g){wt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Rs,wt),r=Rs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,xi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?tn(this):xi(this),this.readyState==3&&Sr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},r.Na=function(c){this.g&&(this.response=c,tn(this))},r.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,xi(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ar(c){let g="";return ke(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function In(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ar(_),typeof c=="string"?_!=null&&ys(_):Qe(c,g,_))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,wt);var _a=/^https?$/i,ku=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ii.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Is(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ku,g,void 0)>=0)||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of _)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Is(this,K)}};function Is(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Cs(c),Rt(c)}function Cs(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Rt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zo(this):this.Xa())},r.Xa=function(){zo(this)};function zo(c){if(c.h&&typeof u<"u"){if(c.v&&Kt(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Kt(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=K===0){let re=String(c.D).match(ga)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!_a.test(re?re.toLowerCase():"")}_=S}if(_)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var j=Kt(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Cs(c)}}finally{Rt(c)}}}}function Rt(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||xt(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kt(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Jt(g)}};function Ns(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(c){const g={};c=(c.g&&Kt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var _=df(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[j]||[];g[j]=K,K.push(_)}N(g,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function va(c){this.za=0,this.i=[],this.j=new mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,c),this.Za=xs("retryDelaySeedMs",1e4,c),this.Ta=xs("forwardChannelMaxRetries",2,c),this.va=xs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Es(c&&c.concurrentRequestLimit),this.Ba=new Pu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=va.prototype,r.ka=8,r.I=1,r.connect=function(c,g,_,S){dt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=qu(this,null,this.W),Vs(this)};function Os(c){if(Ms(c),c.I==3){var g=c.V++,_=ot(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",g),Qe(_,"TYPE","terminate"),Ps(c,_),g=new zn(c,c.j,g),g.M=2,g.A=Ni(ot(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.A,_=!0),_||(g.g=Sa(g.j,null),g.g.ea(g.A)),g.F=Date.now(),_s(g)}Bu(c)}function ci(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function Ms(c){ci(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Vs(c){if(!Ts(c.h)&&!c.m){c.m=!0;var g=c.Ea;fe||w(),Ce||(fe(),Ce=!0),x.add(g,c),c.D=0}}function gf(c,g){return wn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=dr(y(c.Ea,c,g),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=ne(K),Y(K,this.U)):K=this.U),this.u!==null||this.R||(j.J=K,K=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ea(this,j,g),_=ot(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),Ps(this,_),K&&(this.R?g="headers="+ys(Ar(K))+"&"+g:this.u&&In(_,this.u,K)),ma(this.h,j),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",g),Qe(_,"SID","null"),j.U=!0,ai(j,_,null)):ai(j,_,g),this.I=2}}else this.I==3&&(c?Lu(this,c):this.i.length==0||Ts(this.h)||Lu(this))};function Lu(c,g){var _;g?_=g.l:_=c.V++;const S=ot(c.J);Qe(S,"SID",c.M),Qe(S,"RID",_),Qe(S,"AID",c.K),Ps(c,S),c.u&&c.o&&In(S,c.u,c.o),_=new zn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ea(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ma(c.h,_),ai(_,S,g)}function Ps(c,g){c.H&&ke(c.H,function(_,S){Qe(g,S,_)}),c.l&&ke({},function(_,S){Qe(g,S,_)})}function Ea(c,g,_){_=Math.min(c.i.length,_);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let be=-1;for(;;){const it=["count="+_];be==-1?_>0?(be=j[0].g,it.push("ofs="+be)):be=0:it.push("ofs="+be);let He=!0;for(let gt=0;gt<_;gt++){var K=j[gt].g;const fn=j[gt].map;if(K-=be,K<0)be=Math.max(0,j[gt].g-100),He=!1;else try{K="req"+K+"_"||"";try{var re=fn instanceof Map?fn:Object.entries(fn);for(const[hi,Hn]of re){let Fn=Hn;m(Hn)&&(Fn=An(Hn)),it.push(K+hi+"="+encodeURIComponent(Fn))}}catch(hi){throw it.push(K+"type="+encodeURIComponent("_badmap")),hi}}catch{S&&S(fn)}}if(He){re=it.join("&");break e}}re=void 0}return c=c.i.splice(0,_),g.G=c,re}function Uu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;fe||w(),Ce||(fe(),Ce=!0),x.add(g,c),c.A=0}}function Bo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=dr(y(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=dr(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ci(this),ju(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=ot(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),Ps(c,g),c.u&&c.o&&In(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ni(ot(g)),_.u=null,_.R=!0,gr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ci(this),Bo(this),dt(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ho(c,g){var _=null;if(c.g==g){Ta(c),qo(c),c.g=null;var S=2}else if(Ss(c.h,g))_=g.G,Ci(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;S=ca(),xt(S,new Nu(S,_)),Vs(c)}else Uu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(S==1&&gf(c,g)||S==2&&Bo(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function zu(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var _=y(c.bb,c),S=c.Ua;const j=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||_r(S,"https"),Ni(S),j?jo(S.toString(),_):Tr(S.toString(),_)}else dt(2);c.I=0,c.l&&c.l.pa(g),Bu(c),Ms(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const g=pa(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function qu(c,g,_){var S=_ instanceof Bn?ot(_):new Bn(_);if(S.g!="")g&&(S.g=g+"."+S.g),As(S,S.u);else{var j=f.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const K=new Bn(null);S&&_r(K,S),g&&(K.g=g),j&&As(K,j),_&&(K.h=_),S=K}return _=c.G,g=c.wa,_&&g&&Qe(S,_,g),Qe(S,"VER",c.ka),Ps(c,S),S}function Sa(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new ws({ab:_})):new Je(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){wt.call(this),this.g=new va(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new br(this)}A(nn,wt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Os(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=An(c),c=_);g.i.push(new mf(g.Ya++,c)),g.I==3&&Vs(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Os(this.g),delete this.g,nn.Z.N.call(this)};function Fo(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Fo,cr);function Fu(){jn.call(this),this.status=1}A(Fu,jn);function br(c){this.g=c}A(br,Hu),br.prototype.ra=function(){xt(this.g,"a")},br.prototype.qa=function(c){xt(this.g,new Fo(c))},br.prototype.pa=function(c){xt(this.g,new Fu)},br.prototype.oa=function(){xt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,v0=function(){return new Aa},_0=function(){return ca()},y0=bn,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,rh=mt,jt.COMPLETE="complete",g0=jt,Cu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ul=Cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,p0=Je}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new hp("@firebase/firestore");function Ja(){return ra.logLevel}function ce(r,...e){if(ra.logLevel<=Me.DEBUG){const n=e.map(Sp);ra.debug(`Firestore (${Ao}): ${r}`,...n)}}function tr(r,...e){if(ra.logLevel<=Me.ERROR){const n=e.map(Sp);ra.error(`Firestore (${Ao}): ${r}`,...n)}}function sa(r,...e){if(ra.logLevel<=Me.WARN){const n=e.map(Sp);ra.warn(`Firestore (${Ao}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,E0(r,s,n)}function E0(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||E0(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class f2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new T0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class m2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new m2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=y2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Um(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Sm(o)===Sm(u)?Ve(o,u):Sm(o)?1:-1}return Ve(r.length,e.length)}const _2=55296,v2=57343;function Sm(r){const e=r.charCodeAt(0);return e>=_2&&e<=v2}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__name__";class yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=yi.isNumericId(e),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class tt extends yi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const E2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends yi{construct(e,n,s){return new Lt(e,n,s)}static isValidIdentifier(e){return E2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new Lt([aE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function b0(r,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){if(ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!w0(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,cE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*cE);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:bt("string",nt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function T2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new rs(o,ge.empty(),e)}function S2(r){return new rs(r.readTime,r.key,Jl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Ae.min(),ge.empty(),Jl)}static max(){return new rs(Ae.max(),ge.empty(),Jl)}}function A2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==b2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function R2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function Bh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function I2(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="";function C2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=hE(e)),e=N2(r.get(n),e);return hE(e)}function N2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case R0:n+="";break;default:n+=u}}return n}function hE(r){return r+R0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function fs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function I0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Nt(Lt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C0("Invalid base64 string: "+u):u}})(e);return new Ut(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const D2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(qe(!!r,39018),typeof r=="string"){let e=0;const n=D2.exec(r);if(qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Ut.fromBase64String(r):Ut.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="server_timestamp",D0="__type__",x0="__previous_value__",O0="__local_write_time__";function bp(r){return(r?.mapValue?.fields||{})[D0]?.stringValue===N0}function qh(r){const e=r.mapValue.fields[x0];return bp(e)?qh(e):e}function eu(r){const e=ss(r.mapValue.fields[O0].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Eh="(default)";class fo{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",O2="__max__",Xc={mapValue:{}},V0="__vector__",Th="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bp(r)?4:V2(r)?9007199254740991:M2(r)?10:11:Te(28295,{value:r})}function Si(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Si(f[p],m[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>Si(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return mE(r.timestampValue,e.timestampValue);case 4:return mE(eu(r),eu(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),p=as(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ve(m[y],p[y]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(vt(u.latitude),vt(f.latitude));return m!==0?m:Ve(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return pE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Th]?.arrayValue,E=p[Th]?.arrayValue,A=Ve(y?.values?.length||0,E?.values?.length||0);return A!==0?A:pE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const b=Um(p[A],E[A]);if(b!==0)return b;const P=mo(m[p[A]],y[E[A]]);if(P!==0)return P}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function mE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function pE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function po(r){return jm(r)}function jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${jm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function sh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return fs(s.fields,((u,f)=>{o+=u.length+sh(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function gE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function wp(r){return!!r&&"arrayValue"in r}function yE(r){return!!r&&"nullValue"in r}function _E(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function M2(r){return(r?.mapValue?.fields||{})[M0]?.stringValue===V0}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function V2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Lt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new hn(Fl(this.value))}}function P0(r){const e=[];return fs(r.fields,((n,s)=>{const o=new Lt([n]);if(ah(s)){const u=P0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function EE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Si(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function P2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class At extends k0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new L2(e,n,s):n==="array-contains"?new z2(e,s):n==="in"?new B2(e,s):n==="not-in"?new q2(e,s):n==="array-contains-any"?new H2(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new U2(e,s):new j2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends k0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return L0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L0(r){return r.op==="and"}function U0(r){return k2(r)&&L0(r)}function k2(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Bm(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+po(r.value);if(U0(r))return r.filters.map((e=>Bm(e))).join(",");{const e=r.filters.map((n=>Bm(n))).join(",");return`${r.op}(${e})`}}function j0(r,e){return r instanceof At?(function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)})(r,e):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&j0(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function z0(r){return r instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"})(r):"Filter"}class L2 extends At{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class U2 extends At{constructor(e,n){super(e,"in",n),this.keys=B0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class j2 extends At{constructor(e,n){super(e,"not-in",n),this.keys=B0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B0(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class z2 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&tu(n.arrayValue,this.value)}}class B2 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class q2 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class H2 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function TE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new F2(r,e,n,s,o,u,f)}function Rp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Bm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!P2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!j0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!EE(r.startAt,e.startAt)&&EE(r.endAt,e.endAt)}function qm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G2(r,e,n,s,o,u,f,m){return new Ro(r,e,n,s,o,u,f,m)}function Hh(r){return new Ro(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q0(r){return r.collectionGroup!==null}function Gl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Lt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,s))})),n.has(Lt.keyField().canonicalString())||e.Ie.push(new nu(Lt.keyField(),s))}return e.Ie}function Ei(r){const e=we(r);return e.Ee||(e.Ee=K2(e,Gl(r))),e.Ee}function K2(r,e){if(r.limitType==="F")return TE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return TE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ah(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Fh(r,e){return Ip(Ei(r),Ei(e))&&r.limitType===e.limitType}function H0(r){return`${Rp(Ei(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>z0(o))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ei(r))}; limitType=${r.limitType})`}function Gh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=vE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const y=vE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Gl(s),o))})(r,e)}function Q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F0(r){return(e,n)=>{let s=!1;for(const o of Gl(r)){const u=Y2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Y2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?mo(p,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return I0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new ct(ge.comparator);function nr(){return X2}const G0=new ct(ge.comparator);function jl(...r){let e=G0;for(const n of r)e=e.insert(n.key,n);return e}function K0(r){let e=G0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Kl()}function Q0(){return Kl()}function Kl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $2=new ct(ge.comparator),W2=new Nt(ge.comparator);function Pe(...r){let e=W2;for(const n of r)e=e.add(n);return e}const Z2=new Nt(Ve);function J2(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function Y0(r){return{integerValue:""+r}}function eN(r,e){return I2(e)?Y0(e):Cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function tN(r,e,n){return r instanceof iu?(function(o,u){const f={fields:{[D0]:{stringValue:N0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=qh(u)),u&&(f.fields[x0]=u),{mapValue:f}})(n,e):r instanceof ru?$0(r,e):r instanceof su?W0(r,e):(function(o,u){const f=X0(o,u),m=AE(f)+AE(o.Ae);return zm(f)&&zm(o.Ae)?Y0(m):Cp(o.serializer,m)})(r,e)}function nN(r,e,n){return r instanceof ru?$0(r,e):r instanceof su?W0(r,e):n}function X0(r,e){return r instanceof bh?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class iu extends Kh{}class ru extends Kh{constructor(e){super(),this.elements=e}}function $0(r,e){const n=Z0(e);for(const s of r.elements)n.some((o=>Si(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Kh{constructor(e){super(),this.elements=e}}function W0(r,e){let n=Z0(e);for(const s of r.elements)n=n.filter((o=>!Si(o,s)));return{arrayValue:{values:n}}}class bh extends Kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AE(r){return vt(r.integerValue||r.doubleValue)}function Z0(r){return wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.field=e,this.transform=n}}function rN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?ho(s.elements,o.elements,Si):s instanceof bh&&o instanceof bh?Si(s.Ae,o.Ae):s instanceof iu&&o instanceof iu})(r.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function J0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Np(r.key,kn.none()):new yu(r.key,r.data,kn.none());{const n=r.data,s=hn.empty();let o=new Nt(Lt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ds(r.key,s,new Tn(o.toArray()),kn.none())}}function aN(r,e,n){r instanceof yu?(function(o,u,f){const m=o.value.clone(),p=wE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ds?(function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(eS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof yu?(function(u,f,m,p){if(!oh(u.precondition,f))return m;const y=u.value.clone(),E=RE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ds?(function(u,f,m,p){if(!oh(u.precondition,f))return m;const y=RE(u.fieldTransforms,p,f),E=f.data;return E.setAll(eS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function oN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=X0(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function bE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>rN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function wE(r,e,n){const s=new Map;qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,nN(f,m,n[o]))}return s}function RE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,tN(u,f,e))}return s}class Np extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Q0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=J0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>bE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>bE(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ue;function fN(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function tS(r){if(r===void 0)return tr("GRPC error has no .code"),J.UNKNOWN;switch(r){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=St||(St={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new ts([4294967295,4294967295],0);function IE(r){const e=dN().encode(r),n=new m0;return n.update(e),new Uint8Array(n.digest())}function CE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(mN)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=IE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(Ae.min(),o,new ct(Ve),nr(),Pe())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nS{constructor(e,n){this.targetId=e,this.Ce=n}}class iS{constructor(e,n,s=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class NE{constructor(){this.ve=0,this.Fe=DE(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=DE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pN{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=$c(),this.He=$c(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new ge(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof C0)return sa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xp(f,o,u)}catch(p){return sa(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&qm(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=nr(),this.Je=$c(),this.He=$c(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ct(ge.comparator)}function DE(){return new ct(ge.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EN(r,e){return wh(r,e.toTimestamp())}function Ti(r){return qe(!!r,49232),Ae.fromTimestamp((function(n){const s=ss(n);return new nt(s.seconds,s.nanos)})(r))}function Op(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sS(r){const e=tt.fromString(r);return qe(cS(e),10190,{key:e.toString()}),e}function Km(r,e){return Op(r.databaseId,e.path)}function Am(r,e){const n=sS(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(oS(n))}function aS(r,e){return Op(r.databaseId,e)}function TN(r){const e=sS(r);return e.length===4?tt.emptyPath():oS(e)}function Qm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oS(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xE(r,e,n){return{name:Km(r,e),fields:n.value.mapValue.fields}}function SN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string",58123),Ut.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ut.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:tS(y.code);return new le(E,y.message||"")})(f);n=new iS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(r,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):Ae.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(r,s.document),u=s.readTime?Ti(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hN(o,u),m=s.targetId;n=new nS(m,f)}}return n}function AN(r,e){let n;if(e instanceof yu)n={update:xE(r,e.key,e.value)};else if(e instanceof Np)n={delete:Km(r,e.key)};else if(e instanceof ds)n={update:xE(r,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof lN))return Te(16599,{Vt:e.type});n={verify:Km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:EN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function bN(r,e){return r&&r.length>0?(qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(Ae.min())&&(f=Ti(u)),new sN(f,o.transformResults||[])})(n,e)))):[]}function wN(r,e){return{documents:[aS(r,e.path)]}}function RN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aS(r,o);const u=(function(y){if(y.length!==0)return uS(ti.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:to(b.field),direction:NN(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function IN(r){let e=TN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const b=lS(A);return b instanceof ti&&U0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((b=>(function(F){return new nu(no(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let b;return b=typeof A=="object"?A.value:A,Bh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(A){const b=!!A.before,P=A.values||[];return new Sh(P,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const b=!A.before,P=A.values||[];return new Sh(P,b)})(n.endAt)),G2(e,o,f,u,m,"F",p,y)}function CN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return At.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>lS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function NN(r){return gN[r]}function DN(r){return yN[r]}function xN(r){return _N[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Lt.fromServerFormat(r.fieldPath)}function uS(r){return r instanceof At?(function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:DN(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>uS(o)));return s.length===1?s[0]:{compositeFilter:{op:xN(n.op),filters:s}}})(r):Te(54877,{filter:r})}function ON(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.yt=e}}function VN(r){const e=IN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Cn=new kN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(rs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class kN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(hS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",LN=1048576;function VE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class UN{constructor(e){this.Ir=e,this.buffer=new Nt(VE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ME,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ce(ME,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class zN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(zh.ce);const s=new UN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(OE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ja()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function BN(r,e){return new zN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,Tn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=nr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),nt.now())):f.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new HN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Tn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const A=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=Q0();E.forEach((b=>{if(!u.has(b)){const P=J0(n.get(b),s.get(b));P!==null&&A.set(b,P),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Zs());let m=Jl,p=u;return f.next((y=>te.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((E=>({batchId:m,changes:K0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(A,b){return new Ro(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((A,b)=>{f=f.insert(A,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=jl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,y,Tn.empty(),nt.now()),Gh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:VN(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Qr=new Nt(kt.$r),this.Ur=new Nt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(kt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ve);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new kt(new ge(u),0);let m=new Nt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||A2(S2(E),s)<=0||(o.has(E.key)||Gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new $N(this)}getSize(e){return te.resolve(this.size)}}class $N extends qN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.si=new la((n=>Rp(n)),Ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new QN,this.referenceDelegate=e(this),this.Pi=new WN(this),this.indexManager=new PN,this.remoteDocumentCache=(function(o){return new XN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new MN(n),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new YN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class ZN extends w2{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new la((s=>C2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BN(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NR()?8:R2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new JN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ja()<=Me.DEBUG&&ce("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):te.resolve())}ys(e,n){if(SE(n))return te.resolve(null);let s=Ei(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ah(n,null,"F"),s=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Ah(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return SE(n)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ja()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,f,n,T2(o,Jl)).next((m=>m)))}))}Ds(e,n){let s=new Nt(F0(e));return n.forEach(((o,u)=>{Gh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",tD=3e8;class nD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new la((u=>Rp(u)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iD(r,e,n,s){return new nD(r,e,n,s)}async function dS(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function rD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const A=y.batch,b=A.keys();let P=te.resolve();return b.forEach((F=>{P=P.next((()=>E.getEntry(p,F))).next((Q=>{const z=y.docVersions.get(F);qe(z!==null,48541),Q.version.compareTo(z)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function mS(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Ut.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(A,P),(function(Q,z,ie){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=tD?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(b,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=nr(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(aD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function aD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=nr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function oD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ym(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ce(kp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function PE(r,e,n){const s=we(r);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const A=we(p),b=A.xs.get(E);return b!==void 0?te.resolve(A.Ms.get(b)):A.Pi.getTargetData(y,E)})(s,f,Ei(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Pe()))).next((m=>(uD(s,Q2(e),m),{documents:m,Qs:u})))))}function uD(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class kE{constructor(){this.activeTargetIds=J2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.Mo=new kE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(LE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Xm(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Xm(),m=this.zo(e,n.toUriEncodedString());ce(bm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Eo(y);return this.Jo(e,m,p,s,E).then((A=>(ce(bm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw sa(bm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=fD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Xm();return new Promise(((m,p)=>{const y=new p0;y.setWithCredentials(!0),y.listenOnce(g0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const A=y.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case rh.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=y.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const Q=(function(ie){const Z=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Z)>=0?Z:J.UNKNOWN})(F.status);p(new le(Q,F.message))}else p(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=v0(),m=_0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.I_(A);let b=!1,P=!1;const F=new mD({Yo:z=>{P?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(b||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,z),A.send(z))},Zo:()=>A.close()}),Q=(z,ie,Z)=>{z.listen(ie,(se=>{try{Z(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return Q(A,Ul.EventType.OPEN,(()=>{P||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Q(A,Ul.EventType.CLOSE,(()=>{P||(P=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(A))})),Q(A,Ul.EventType.ERROR,(z=>{P||(P=!0,sa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),F.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Q(A,Ul.EventType.MESSAGE,(z=>{if(!P){const ie=z.data[0];qe(!!ie,16349);const Z=ie,se=Z?.error||Z[0]?.error;if(se){ce(Xt,`RPC '${e}' stream ${o} received error:`,se);const Re=se.status;let fe=(function(w){const R=St[w];if(R!==void 0)return tS(R)})(Re),Ce=se.message;fe===void 0&&(fe=J.INTERNAL,Ce="Unknown error status: "+Re+" with message "+se.message),P=!0,F.a_(new le(fe,Ce)),A.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,ie),F.u_(ie)}})),Q(m,y0.STAT_EVENT,(z=>{z.stat===Lm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Lm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){return new vN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class gS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gD extends gS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ti(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:wN(u,p)}:{query:RN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rS(u,f.resumeToken);const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=CN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class yD extends gS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bN(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>AN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class vD extends _D{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Gm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Gm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class TD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ce(aa,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await vu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await $h(y)})(this))}))})),this.Ra=new ED(s,o)}}async function $h(r){if(ua(r))for(const e of r.da)await e(!0)}async function vu(r){for(const e of r.da)await e(!1)}function yS(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?jp(n):Io(n).O_()&&Up(n,e))}function Lp(r,e){const n=we(r),s=Io(n);n.Ia.delete(e),s.O_()&&_S(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function _S(r,e){r.Va.Ue(e),Io(r).Z_(e)}function jp(r){r.Va=new pN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function zp(r){return ua(r)&&!Io(r).x_()&&r.Ia.size>0}function ua(r){return we(r).Ea.size===0}function vS(r){r.Va=void 0}async function SD(r){r.Ra.set("Online")}async function AD(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function bD(r,e){vS(r),zp(r)?(r.Ra.ha(e),jp(r)):r.Ra.set("Unknown")}async function wD(r,e,n){if(r.Ra.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof lh?r.Va.Ze(e):e instanceof nS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await mS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ut.EMPTY_BYTE_STRING,E.snapshotVersion)),_S(u,p);const A=new Wr(E.target,p,y,E.sequenceNumber);Up(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(aa,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await vu(r),r.Ra.set("Offline"),n||(n=()=>mS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function ES(r,e){return e().catch((n=>Ih(r,n,e)))}async function Wh(r){const e=we(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,ID(e,o)}catch(o){await Ih(e,o)}TS(e)&&SS(e)}function RD(r){return ua(r)&&r.Ta.length<10}function ID(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TS(r){return ua(r)&&!ls(r).x_()&&r.Ta.length>0}function SS(r){ls(r).start()}async function CD(r){ls(r).ra()}async function ND(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function DD(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await ES(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Wh(r)}async function xD(r,e){e&&ls(r).X_&&await(async function(s,o){if((function(f){return fN(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await ES(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Wh(s)}})(r,e),TS(r)&&SS(r)}async function zE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await vu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $h(n)}async function OD(r,e){const n=we(r);e?(n.Ea.delete(2),await $h(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:SD.bind(null,r),t_:AD.bind(null,r),r_:bD.bind(null,r),H_:wD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),vS(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:CD.bind(null,r),r_:xD.bind(null,r),ta:ND.bind(null,r),na:DD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Wh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(tr("AsyncQueue",`${e}: ${r}`),wo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VD{constructor(){this.queries=qE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=qE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function qE(){return new la((r=>H0(r)),Fh)}async function AS(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new MD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=qp(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function bS(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Hp(n)}function kD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var $m,HE;(HE=$m||($m={})).Ma="default",HE.Cache="cache";class wS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=F0(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new BE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const b=o.get(E),P=Gh(this.query,A)?A:null,F=!!b&&this.mutatedKeys.has(b.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;b&&P?b.data.isEqual(P.data)?F!==Q&&(s.track({type:3,doc:P}),z=!0):this.su(b,P)||(s.track({type:2,doc:P}),z=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),z=!0):b&&!P&&(s.track({type:1,doc:b}),z=!0,(p||y)&&(m=!0)),z&&(P?(f=f.add(P),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,A)=>(function(P,F){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return Q(P)-Q(F)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new IS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new RS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class UD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class jD{constructor(e){this.key=e,this.hu=!1}}class zD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>H0(m)),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BD(r,e,n=!0){const s=MS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CS(s,e,n,!0),o}async function qD(r,e){const n=MS(r);await CS(n,e,!0,!1)}async function CS(r,e,n,s){const o=await lD(r.localStore,Ei(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yS(r.remoteStore,o),m}async function HD(r,e,n,s,o){r.pu=(A,b,P)=>(async function(Q,z,ie,Z){let se=z.view.ru(ie);se.Cs&&(se=await PE(Q.localStore,z.query,!1).then((({documents:x})=>z.view.ru(x,se))));const Re=Z&&Z.targetChanges.get(z.targetId),fe=Z&&Z.targetMismatches.get(z.targetId)!=null,Ce=z.view.applyChanges(se,Q.isPrimaryClient,Re,fe);return GE(Q,z.targetId,Ce.au),Ce.snapshot})(r,A,b,P);const u=await PE(r.localStore,e,!0),f=new LD(e,u.Qs),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);GE(r,n,y.au);const E=new UD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function FD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Fh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Wm(s,o.targetId)})).catch(bo)):(Wm(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function GD(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function KD(r,e,n){const s=JD(r);try{const o=await(function(f,m){const p=we(f),y=nt.now(),E=m.reduce(((P,F)=>P.add(F.key)),Pe());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=nr(),Q=Pe();return p.Ns.getEntries(P,E).next((z=>{F=z,F.forEach(((ie,Z)=>{Z.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,F))).next((z=>{A=z;const ie=[];for(const Z of m){const se=oN(Z,A.get(Z.key).overlayedDocument);se!=null&&ie.push(new ds(Z.key,se,P0(se.value.mapValue),kn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,ie,m)})).next((z=>{b=z;const ie=z.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(P,z.batchId,ie)}))})).then((()=>({batchId:b.batchId,changes:K0(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Ve)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Eu(s,o.changes),await Wh(s.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function NS(r,e){const n=we(r);try{const s=await sD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))})),await Eu(n,s,e)}catch(s){await bo(s)}}function FE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,A)=>{for(const b of A.Sa)b.va(m)&&(y=!0)})),y&&Hp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new Yh(Ae.min(),new Map,new ct(Ve),f,m);await NS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Ym(s.localStore,e,!1).then((()=>Wm(s,e,n))).catch(bo)}async function YD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await rD(n.localStore,e);xS(n,s,null),DS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await bo(o)}}async function XD(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(qe(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);xS(s,e,n),DS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await bo(o)}}function DS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function xS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||OS(r,s)}))}function OS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Gp(r))}function GE(r,e,n){for(const s of n)s instanceof RS?(r.Ru.addReference(s.key,e),$D(r,s)):s instanceof IS?(ce(Fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||OS(r,s.key)):Te(19791,{wu:s})}function $D(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Fp,"New document in limbo: "+n),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new jD(n)),r.du=r.du.insert(n,s),yS(r.remoteStore,new Wr(Ei(Hh(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function Eu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Pp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(y,(b=>te.forEach(b.Es,(P=>E.persistence.referenceDelegate.addReference(A,b.targetId,P))).next((()=>te.forEach(b.ds,(P=>E.persistence.referenceDelegate.removeReference(A,b.targetId,P)))))))))}catch(A){if(!wo(A))throw A;ce(kp,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const P=E.Ms.get(b),F=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(b,Q)}}})(s.localStore,u))}async function WD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Fp,"User change. New user:",e.toKey());const s=await dS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ls)}}function ZD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function MS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QD.bind(null,e),e.Pu.H_=PD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function JD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XD.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Cu(e){return new fS(Vp.mi,this.serializer)}Du(e){return new cD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class ex extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new fS((s=>Rh.mi(s,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await OD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VD})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=(function(u){return new pD(u)})(e.databaseInfo);return(function(u,f,m,p){return new vD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new TD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>FE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new hD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const A=new zD(o,u,f,m,p,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(aa,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class tx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function KE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nx(r);ce(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>zE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>zE(e.remoteStore,o))),r._onlineComponents=e}async function nx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(us,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Ch)}}else ce(us,"Using default OfflineComponentProvider"),await Rm(r,new ex(void 0));return r._offlineComponents}async function PS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(us,"Using user provided OnlineComponentProvider"),await KE(r,r._uninitializedComponentsProvider._online)):(ce(us,"Using default OnlineComponentProvider"),await KE(r,new Zm))),r._onlineComponents}function ix(r){return PS(r).then((e=>e.syncEngine))}async function Jm(r){const e=await PS(r),n=e.eventManager;return n.onListen=BD.bind(null,e.syncEngine),n.onUnlisten=FD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GD.bind(null,e.syncEngine),n}function rx(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new VS({next:b=>{E.Nu(),f.enqueueAndForget((()=>bS(u,A)));const P=b.docs.has(m);!P&&b.fromCache?y.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&p&&p.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),A=new wS(Hh(m.path),E,{includeMetadataChanges:!0,qa:!0});return AS(u,A)})(await Jm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firestore.googleapis.com",YE=!0;class XE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=YE}else this.host=e.host,this.ssl=e.ssl??YE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new S0;switch(s.type){case"firstParty":return new p2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=QE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())})(this),Promise.resolve()}}function US(r,e,n,s={}){r=Sn(r,Zh);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(wT(`https://${m}`),RT("Firestore",!0)),u.host!==LS&&u.host!==m&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ea(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=ER(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(A)}r._authCredentials=new f2(new T0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new or(this.firestore,e,this._query)}}class ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,ut._jsonSchema))return new ut(e,s||null,new ge(tt.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:bt("string",ut._jsonSchemaVersion),referencePath:bt("string")};class Wi extends or{constructor(e,n,s){super(e,n,Hh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new ge(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function au(r,e,...n){if(r=Dt(r),A0("collection","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return lE(s),new Wi(r,null,s)}{if(!(r instanceof ut||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return lE(s),new Wi(r.firestore,null,s)}}function Yi(r,e,...n){if(r=Dt(r),arguments.length===1&&(e=Uh.newId()),A0("doc","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return oE(s),new ut(r,null,new ge(s))}{if(!(r instanceof ut||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return oE(s),new ut(r.firestore,r instanceof Wi?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pS(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&ce($E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ce($E,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",ZE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ir extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new WE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function jS(r,e){const n=typeof r=="object"?r:DT(),s=typeof r=="string"?r:Eh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_R("firestore");u&&US(o,...u)}return o}function Jh(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sx(r),r._firestoreClient}function sx(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new x2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Ut.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:bt("string",En._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zn._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Zn._jsonSchema))return new Zn(e.latitude,e.longitude)}}Zn._jsonSchemaVersion="firestore/geoPoint/1.0",Zn._jsonSchema={type:bt("string",Zn._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jn(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:bt("string",Jn._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=/^__.*__$/;class ox{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class zS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Kp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BS(this.Ac)&&ax.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,o=!1){return new Kp({Ac:e,methodName:n,Dc:s,path:Lt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new lx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",f,s);const m=HS(s,f);let p,y;if(u.merge)p=new Tn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=ep(e,A,n);if(!f.contains(b))throw new le(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GS(E,b)||E.push(b)}p=new Tn(E),y=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=f.fieldTransforms;return new ox(new hn(m),p,y)}class tf extends Su{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class Qp extends Su{_toFieldTransform(e){return new iN(e.path,new iu)}isEqual(e){return e instanceof Qp}}function ux(r,e,n,s){const o=r.Cc(1,e,n);Yp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();fs(s,((p,y)=>{const E=Xp(e,p,n);y=Dt(y);const A=o.yc(E);if(y instanceof tf)u.push(E);else{const b=Au(y,A);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Tn(u);return new zS(f,m,o.fieldTransforms)}function cx(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[ep(e,s,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(ep(e,u[b])),p.push(u[b+1]);const y=[],E=hn.empty();for(let b=m.length-1;b>=0;--b)if(!GS(y,m[b])){const P=m[b];let F=p[b];F=Dt(F);const Q=f.yc(P);if(F instanceof tf)y.push(P);else{const z=Au(F,Q);z!=null&&(y.push(P),E.set(P,z))}}const A=new Tn(y);return new zS(E,A,f.fieldTransforms)}function hx(r,e,n,s=!1){return Au(n,r.Cc(s?4:3,e))}function Au(r,e){if(FS(r=Dt(r)))return Yp("Unsupported field value:",e,r),HS(r,e);if(r instanceof Su)return(function(s,o){if(!BS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Zn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:rS(o.serializer,s._byteString)};if(s instanceof ut){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Jn)return(function(f,m){return{mapValue:{fields:{[M0]:{stringValue:V0},[Th]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function HS(r,e){const n={};return I0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,((s,o)=>{const u=Au(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function FS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Zn||r instanceof En||r instanceof ut||r instanceof Su||r instanceof Jn)}function Yp(r,e,n){if(!FS(n)||!w0(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ep(r,e,n){if((e=Dt(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return Xp(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const fx=new RegExp("[~\\*/\\[\\]]");function Xp(r,e,n){if(e.search(fx)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function GS(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dx extends KS{data(){return super.data()}}function nf(r,e){return typeof e=="string"?Xp(r,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class rf extends $p{}function ro(r,e,...n){let s=[];e instanceof $p&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof sf)).length,m=u.filter((p=>p instanceof bu)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class bu extends rf{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bu(e,n,s)}_apply(e){const n=this._parse(e);return QS(e._query,n),new or(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=ef(e.firestore);return(function(u,f,m,p,y,E,A){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tT(A,E);const F=[];for(const Q of A)F.push(eT(p,u,Q));b={arrayValue:{values:F}}}else b=eT(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tT(A,E),b=hx(m,f,A,E==="in"||E==="not-in");return At.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tp(r,e,n){const s=e,o=nf("where",r);return bu._create(o,s,n)}class sf extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sf(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)QS(f,p),f=Hm(f,p)})(e._query,n),new or(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class af extends rf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new af(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new or(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Dh(r,e="asc"){const n=e,s=nf("orderBy",r);return af._create(s,n)}class of extends rf{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new of(e,n,s)}_apply(e){return new or(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function Bl(r){return of._create("limit",r,"F")}function eT(r,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q0(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gE(r,new ge(s))}if(n instanceof ut)return gE(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function tT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YS{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Th].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Jn(n)}convertGeoPoint(e){return new Zn(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);qe(cS(s),9688,{name:e});const o=new fo(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class is extends KS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}is._jsonSchemaVersion="firestore/documentSnapshot/1.0",is._jsonSchema={type:bt("string",is._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Yl extends is{data(e={}){return super.data(e)}}class Js{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Yl(this._firestore,this._userDataWriter,s.key,s,new so(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Yl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Yl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:px(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function px(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){r=Sn(r,ut);const e=Sn(r.firestore,ir);return rx(Jh(e),r._key).then((n=>JS(e,r,n)))}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:bt("string",Js._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class $S extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function WS(r,e,n){r=Sn(r,ut);const s=Sn(r.firestore,ir),o=XS(r.converter,e,n);return wu(s,[qS(ef(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,kn.none())])}function Wp(r,e,n,...s){r=Sn(r,ut);const o=Sn(r.firestore,ir),u=ef(o);let f;return f=typeof(e=Dt(e))=="string"||e instanceof Tu?cx(u,"updateDoc",r._key,e,n,s):ux(u,"updateDoc",r._key,e),wu(o,[f.toMutation(r._key,kn.exists(!0))])}function ZS(r){return wu(Sn(r.firestore,ir),[new Np(r._key,kn.none())])}function Zp(r,e){const n=Sn(r.firestore,ir),s=Yi(r),o=XS(r.converter,e);return wu(n,[qS(ef(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,kn.exists(!1))]).then((()=>s))}function ou(r,...e){r=Dt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||JE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof ut)f=Sn(r.firestore,ir),m=Hh(r._key.path),u={next:p=>{e[s]&&e[s](JS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Sn(r,or);f=Sn(p.firestore,ir),m=p._query;const y=new $S(f);u={next:E=>{e[s]&&e[s](new Js(f,y,p,E))},error:e[s+1],complete:e[s+2]},mx(r._query)}return(function(y,E,A,b){const P=new VS(b),F=new wS(E,P,A);return y.asyncQueue.enqueueAndForget((async()=>AS(await Jm(y),F))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>bS(await Jm(y),F)))}})(Jh(f),m,o,u)}function wu(r,e){return(function(s,o){const u=new ns;return s.asyncQueue.enqueueAndForget((async()=>KD(await ix(s),o,u))),u.promise})(Jh(r),e)}function JS(r,e,n){const s=n.docs.get(e._key),o=new $S(r);return new is(r,o,e._key,s,new so(n.hasPendingWrites,n.fromCache),e.converter)}function eA(){return new Qp("serverTimestamp")}(function(e,n=!0){(function(o){Ao=o})(To),co(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ir(new d2(s.getProvider("auth-internal")),new g2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),es(iE,rE,e),es(iE,rE,"esm2020")})();const gx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:YS,Bytes:En,CollectionReference:Wi,DocumentReference:ut,DocumentSnapshot:is,FieldPath:Tu,FieldValue:Su,Firestore:ir,FirestoreError:le,GeoPoint:Zn,Query:or,QueryCompositeFilterConstraint:sf,QueryConstraint:rf,QueryDocumentSnapshot:Yl,QueryFieldFilterConstraint:bu,QueryLimitConstraint:of,QueryOrderByConstraint:af,QuerySnapshot:Js,SnapshotMetadata:so,Timestamp:nt,VectorValue:Jn,_AutoId:Uh,_ByteString:Ut,_DatabaseId:fo,_DocumentKey:ge,_EmptyAuthCredentialsProvider:S0,_FieldPath:Lt,_cast:Sn,_logWarn:sa,_validateIsNotUsedTogether:b0,addDoc:Zp,collection:au,connectFirestoreEmulator:US,deleteDoc:ZS,doc:Yi,ensureFirestoreConfigured:Jh,executeWrite:wu,getDoc:xh,getFirestore:jS,limit:Bl,onSnapshot:ou,orderBy:Dh,query:ro,serverTimestamp:eA,setDoc:WS,updateDoc:Wp,where:tp},Symbol.toStringTag,{value:"Module"})),yx={apiKey:"AIzaSyDWjt0YeuEhUCMMOKToGUhjq21K8HlZ8Fk",authDomain:"rock-f5937.firebaseapp.com",projectId:"rock-f5937",storageBucket:"rock-f5937.appspot.com",messagingSenderId:"1066836195707",appId:"1:1066836195707:web:153c8721f8cf0510af65de",measurementId:"G-SLZXLRZMCG"},tA=NT(yx),Wn=c2(tA);WI(Wn,s0).catch(()=>{});const Xn=jS(tA);function _x(){const r=ap(),[e,n]=q.useState("login"),[s,o]=q.useState(""),[u,f]=q.useState(""),[m,p]=q.useState(""),[y,E]=q.useState(!1);q.useEffect(()=>{const Q=eC(Wn,z=>{z&&r("/pipeline")});return()=>Q()},[r]);async function A(Q){const z=Yi(Xn,"roles",Q);(await xh(z)).exists()||await WS(z,{viewer:!0,rm:!0},{merge:!0})}function b(Q){return Q.length>=8&&/\d/.test(Q)}async function P(Q){Q.preventDefault(),p(""),E(!0);try{if(e==="login"){const z=await $I(Wn,s.trim(),u);await A(z.user.uid),r("/pipeline")}else{if(!b(u))throw new Error("Min. 8 tekens, incl. cijfer.");const z=await XI(Wn,s.trim(),u);await A(z.user.uid),r("/pipeline")}}catch(z){p(z?.message||String(z))}finally{E(!1)}}async function F(){p("");try{if(!s)throw new Error("Vul je e-mail in.");await YI(Wn,s.trim()),alert("Reset-link verzonden.")}catch(Q){p(Q?.message||String(Q))}}return M.jsx("div",{className:"min-h-screen grid place-items-center bg-bg p-6",children:M.jsxs("div",{className:"w-full max-w-sm bg-white rounded-2xl border shadow-card p-6 space-y-4",children:[M.jsx("h1",{className:"text-xl font-semibold",children:e==="login"?"Inloggen":"Registreren"}),m&&M.jsx("div",{className:"text-red-600 text-sm",children:m}),M.jsxs("form",{onSubmit:P,className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"E-mail"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",required:!0,value:s,onChange:Q=>o(Q.target.value),autoComplete:"email"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Wachtwoord"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"password",required:!0,value:u,onChange:Q=>f(Q.target.value),autoComplete:e==="login"?"current-password":"new-password",placeholder:e==="register"?"Min. 8 tekens, 1 cijfer":""})]}),M.jsx("button",{disabled:y,className:"w-full rounded-lg bg-brand text-white py-2 font-medium",type:"submit",children:y?"Bezig…":e==="login"?"Inloggen":"Account aanmaken"})]}),e==="login"?M.jsxs("div",{className:"text-sm flex items-center justify-between",children:[M.jsx("button",{className:"underline",onClick:F,children:"Wachtwoord vergeten?"}),M.jsx("button",{className:"underline",onClick:()=>n("register"),children:"Registreren"})]}):M.jsx("div",{className:"text-sm text-right",children:M.jsx("button",{className:"underline",onClick:()=>n("login"),children:"Al een account? Inloggen"})}),M.jsxs("p",{className:"text-xs text-slate-500",children:["Na eerste login krijgt je account rollen in ",M.jsx("code",{children:"roles/<uid>"})," (viewer, rm)."]})]})})}const vx="modulepreload",Ex=function(r){return"/rockstar/"+r},nT={},Tx=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var f=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");o=y(n.map(E=>{if(E=Ex(E),E in nT)return;nT[E]=!0;const A=E.endsWith(".css"),b=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${b}`))return;const P=document.createElement("link");if(P.rel=A?"stylesheet":vx,A||(P.as="script"),P.crossOrigin="",P.href=E,p&&P.setAttribute("nonce",p),document.head.appendChild(P),A)return new Promise((F,Q)=>{P.addEventListener("load",F),P.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};function Sx(){const[r,e]=q.useState({}),[n,s]=q.useState([]),[o,u]=q.useState(!0),[f,m]=q.useState(""),[p,y]=q.useState(""),[E,A]=q.useState(!1),[b,P]=q.useState(null),[F,Q]=q.useState(""),[z,ie]=q.useState(""),[Z,se]=q.useState(""),[Re,fe]=q.useState(""),[Ce,x]=q.useState("Nieuw"),[w,R]=q.useState(""),[V,D]=q.useState(!1),[L,C]=q.useState(!1),rt=Wn.currentUser;q.useEffect(()=>{async function Y(){if(Wn.currentUser)try{const ae=Yi(Xn,"roles",Wn.currentUser.uid),ye=await xh(ae);ye.exists()?e(ye.data()):(await(await Tx(async()=>{const{setDoc:me}=await Promise.resolve().then(()=>gx);return{setDoc:me}},[])).setDoc(ae,{viewer:!0,rm:!0},{merge:!0}),e({viewer:!0,rm:!0}))}catch(ae){console.warn("roles load failed",ae)}}Y()},[Wn.currentUser?.uid]),q.useEffect(()=>{const Y=au(Xn,"leads"),ae=p?ro(Y,tp("stage","==",p),Dh("created_at","desc"),Bl(500)):ro(Y,Dh("created_at","desc"),Bl(500)),ye=ou(ae,me=>{s(me.docs.map(Ze=>({id:Ze.id,...Ze.data()}))),u(!1)},async me=>{const Ze=p?ro(Y,tp("stage","==",p),Bl(500)):ro(Y,Bl(500)),je=ou(Ze,Ft=>{const lr=Ft.docs.map(sn=>({id:sn.id,...sn.data()}));lr.sort((sn,Un)=>{const bi=sn.created_at?.toMillis?sn.created_at.toMillis():sn.created_at?new Date(sn.created_at).getTime():0;return(Un.created_at?.toMillis?Un.created_at.toMillis():Un.created_at?new Date(Un.created_at).getTime():0)-bi}),s(lr),u(!1)});return()=>je()});return()=>ye()},[p]);const Ke=!!(r.rm||r.lead||r.admin),X=!!r.admin,oe=q.useMemo(()=>{const Y=f.trim().toLowerCase(),ae=n;return Y?ae.filter(ye=>["name","company","email","phone","notes"].some(me=>ye[me]?.toString().toLowerCase().includes(Y))):ae},[n,f]);function de(){P(null),Q(""),ie(""),se(""),fe(""),x("Nieuw"),R(""),D(!1)}async function ke(Y){if(Y.preventDefault(),!!F.trim()){if(!Ke){alert("Je hebt geen schrijfrechten.");return}C(!0);try{const ae=!!(r.lead||r.admin);let ye=Z.trim()?Z.trim():null,me=Re.trim()?Re.trim():null;ae&&V||(ye=null,me=null);const Ze=new Date;Ze.setMonth(Ze.getMonth()+24);const je={name:F.trim(),company:z.trim()||null,email:ye,phone:me,stage:Ce,notes:w.trim()||null,consent:!!V,created_by:rt?.uid||null,ttl_at:Ze};if(!b)await Zp(au(Xn,"leads"),{...je,created_at:eA()});else{const Ft={...je};delete Ft.created_at,await Wp(Yi(Xn,"leads",b),Ft)}A(!1),de()}catch(ae){alert(ae?.message||String(ae))}finally{C(!1)}}}async function N(Y){const ae=await xh(Yi(Xn,"leads",Y));if(!ae.exists()){alert("Lead niet gevonden");return}const ye=ae.data();P(Y),Q(ye.name||""),ie(ye.company||""),se(ye.email||""),fe(ye.phone||""),x(ye.stage||"Nieuw"),R(ye.notes||""),D(!!ye.consent),A(!0)}async function ne(Y){X&&confirm("Verwijderen? Dit kan niet ongedaan worden gemaakt.")&&await ZS(Yi(Xn,"leads",Y))}return M.jsxs("div",{className:"space-y-4",children:[M.jsxs("header",{className:"flex items-center justify-between",children:[M.jsx("h1",{className:"text-2xl font-semibold",children:"Pipeline"}),M.jsxs("div",{className:"flex gap-2 items-center",children:[M.jsx("input",{className:"border rounded-lg px-3 py-2 min-w-[260px]",placeholder:"Zoek (naam, email, bedrijf, notities)…",value:f,onChange:Y=>m(Y.target.value)}),M.jsxs("select",{className:"border rounded-lg px-3 py-2",value:p,onChange:Y=>y(Y.target.value),children:[M.jsx("option",{value:"",children:"Alle fases"}),M.jsx("option",{children:"Nieuw"}),M.jsx("option",{children:"Contact"}),M.jsx("option",{children:"Kwalificatie"}),M.jsx("option",{children:"Offerte"}),M.jsx("option",{children:"Winst"}),M.jsx("option",{children:"Verloren"})]}),Ke&&M.jsx("button",{onClick:()=>{de(),A(!0)},className:"rounded-lg bg-brand text-white px-4 py-2 font-semibold",children:"+ Nieuwe lead"})]})]}),E&&M.jsxs("div",{className:"bg-white border rounded-xl shadow p-4",children:[M.jsx("h2",{className:"text-lg font-medium mb-3",children:b?"Lead bewerken":"Nieuwe lead"}),M.jsxs("form",{onSubmit:ke,className:"grid md:grid-cols-2 gap-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Naam *"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:F,onChange:Y=>Q(Y.target.value),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Bedrijf"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:z,onChange:Y=>ie(Y.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Email"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",value:Z,onChange:Y=>se(Y.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Telefoon"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:Re,onChange:Y=>fe(Y.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Fase"}),M.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:Ce,onChange:Y=>x(Y.target.value),children:[M.jsx("option",{children:"Nieuw"}),M.jsx("option",{children:"Contact"}),M.jsx("option",{children:"Kwalificatie"}),M.jsx("option",{children:"Offerte"}),M.jsx("option",{children:"Winst"}),M.jsx("option",{children:"Verloren"})]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("input",{id:"consent",type:"checkbox",checked:V,onChange:Y=>D(Y.target.checked)}),M.jsx("label",{htmlFor:"consent",className:"text-sm",children:"Toestemming voor contact (AVG)"})]}),M.jsxs("div",{className:"md:col-span-2",children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Notities"}),M.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,value:w,onChange:Y=>R(Y.target.value)})]}),M.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 pt-2",children:[M.jsx("button",{type:"button",onClick:()=>{A(!1),de()},className:"px-4 py-2 rounded-lg border",children:"Annuleren"}),M.jsx("button",{disabled:L,className:"px-4 py-2 rounded-lg bg-brand text-white font-semibold",children:L?"Opslaan…":"Opslaan"})]})]}),M.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"PII (email/telefoon) wordt alleen opgeslagen als je toestemming hebt en je rol lead/admin is."})]}),M.jsx("div",{className:"bg-white border rounded-xl overflow-x-auto",children:M.jsxs("table",{className:"min-w-full",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"text-left px-4 py-2",children:"Aangemaakt"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Naam"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Bedrijf"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Email"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Telefoon"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Fase"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Notities"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Acties"})]})}),M.jsxs("tbody",{children:[o&&M.jsx("tr",{children:M.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:8,children:"Laden…"})}),!o&&oe.length===0&&M.jsx("tr",{children:M.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:8,children:"Geen resultaten"})}),oe.map(Y=>M.jsxs("tr",{className:"border-t",children:[M.jsx("td",{className:"px-4 py-2",children:ue(Y.created_at)}),M.jsx("td",{className:"px-4 py-2 font-medium",children:Y.name}),M.jsx("td",{className:"px-4 py-2",children:Y.company||"—"}),M.jsx("td",{className:"px-4 py-2",children:Y.email||"—"}),M.jsx("td",{className:"px-4 py-2",children:Y.phone||"—"}),M.jsx("td",{className:"px-4 py-2",children:Y.stage||"—"}),M.jsx("td",{className:"px-4 py-2",children:Y.notes||"—"}),M.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[Ke&&M.jsx("button",{onClick:()=>N(Y.id),className:"px-3 py-1 rounded border text-xs hover:bg-slate-50",children:"Bewerk"}),X&&M.jsx("button",{onClick:()=>ne(Y.id),className:"px-3 py-1 rounded border text-xs text-white bg-red-600",children:"Verwijder"})]})]},Y.id))]})]})})]});function ue(Y){if(!Y)return"";const ae=Y.toDate?Y.toDate():new Date(Y);return isNaN(ae.getTime())?"":ae.toLocaleDateString()+" "+ae.toLocaleTimeString()}}function Ax({head:r,rows:e}){return M.jsx("div",{className:"overflow-auto rounded-2xl border bg-white",children:M.jsxs("table",{className:"min-w-full text-sm",children:[M.jsx("thead",{className:"bg-slate-50 text-slate-600",children:r}),M.jsx("tbody",{children:e})]})})}function bx(r){const[e,n]=q.useState(null);return q.useEffect(()=>{if(!r){n(null);return}const s=Yi(Xn,"roles",r.uid),o=ou(s,u=>n(u.data()||{}),()=>n({}));return()=>o()},[r]),e}function wx(r){return!!(r?.admin||r?.lead||r?.rm)}function Rx(){const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(""),[f,m]=q.useState(()=>localStorage.getItem("pii")==="1"),[p,y]=q.useState(!1),[E,A]=q.useState(""),b=bx(Wn.currentUser);q.useEffect(()=>{try{const F=ro(au(Xn,"contacts"),Dh("created_at","desc")),Q=ou(F,z=>{e(z.docs.map(ie=>({id:ie.id,...ie.data()}))),s(!1)},z=>{console.error("CONTACTS SNAPSHOT ERROR",z),A(z?.message||"Leesrechten ontbreken"),s(!1)});return()=>Q()}catch(F){console.error("CONTACTS INIT ERROR",F),A(F?.message||"Er ging iets mis"),s(!1)}},[]),q.useEffect(()=>{localStorage.setItem("pii",f?"1":"0")},[f]);const P=q.useMemo(()=>r.filter(F=>`${F.name||""} ${F.org||""} ${F.email||""}`.toLowerCase().includes(o.toLowerCase())),[r,o]);return E?M.jsxs("div",{className:"space-y-4",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Contacts"}),M.jsxs("div",{className:"p-4 rounded-xl border bg-white text-sm",children:[M.jsx("div",{className:"font-semibold mb-1",children:"Kan contacts niet laden"}),M.jsx("div",{className:"text-red-600",children:E}),M.jsxs("div",{className:"text-slate-600 mt-2",children:["Tip: zorg dat je rol ",M.jsx("code",{children:"rm"}),", ",M.jsx("code",{children:"lead"})," of ",M.jsx("code",{children:"admin"})," ",M.jsx("b",{children:"true"})," is in ",M.jsx("code",{children:"roles/<UID>"}),"."]})]})]}):M.jsxs("div",{className:"space-y-4",children:[M.jsxs("header",{className:"flex items-center justify-between",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Contacts"}),wx(b)&&M.jsx("button",{onClick:()=>y(!0),className:"rounded-xl bg-brand text-white px-4 py-2 font-semibold",children:"+ Nieuw contact"})]}),M.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[M.jsx("input",{className:"border rounded-lg px-3 py-2 min-w-[260px]",placeholder:"Zoek naam / org / email",value:o,onChange:F=>u(F.target.value)}),M.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[M.jsx("input",{type:"checkbox",className:"rounded",checked:f,onChange:F=>m(F.target.checked)}),"Toon PII (email/phone)"]}),M.jsxs("span",{className:"text-sm text-slate-500",children:[P.length," items"]})]}),M.jsx(Ax,{head:M.jsxs("tr",{children:[M.jsx("th",{className:"text-left px-4 py-2",children:"Naam"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Organisatie"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Rol"}),f&&M.jsx("th",{className:"text-left px-4 py-2",children:"Email"}),f&&M.jsx("th",{className:"text-left px-4 py-2",children:"Phone"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Country"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Notes"}),M.jsx("th",{className:"text-left px-4 py-2",children:"Acties"})]}),rows:M.jsxs(M.Fragment,{children:[n&&M.jsx("tr",{children:M.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:8,children:"Laden…"})}),!n&&P.length===0&&M.jsx("tr",{children:M.jsx("td",{className:"px-4 py-6 text-center text-slate-500",colSpan:8,children:"Geen resultaten"})}),P.map(F=>M.jsx(Ix,{row:F,showPII:f},F.id))]})}),p&&M.jsx(Cx,{onClose:()=>y(!1)})]})}function Ix({row:r,showPII:e}){async function n(){const s=prompt("Notitie toevoegen:",r.notes||"");!r.id||s===null||await Wp(Yi(Xn,"contacts",r.id),{notes:s,updated_at:Date.now()})}return M.jsxs("tr",{className:"border-t",children:[M.jsx("td",{className:"px-4 py-2 font-medium",children:r.name}),M.jsx("td",{className:"px-4 py-2",children:r.org||"—"}),M.jsx("td",{className:"px-4 py-2",children:r.role||"—"}),e&&M.jsx("td",{className:"px-4 py-2",children:r.email||"—"}),e&&M.jsx("td",{className:"px-4 py-2",children:r.phone||"—"}),M.jsx("td",{className:"px-4 py-2",children:r.country||"—"}),M.jsx("td",{className:"px-4 py-2",children:r.notes?M.jsxs("span",{title:r.notes,children:[r.notes.slice(0,60),r.notes.length>60?"…":"",r.updated_at&&M.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",new Date(r.updated_at).toLocaleDateString(),")"]})]}):"—"}),M.jsx("td",{className:"px-4 py-2",children:M.jsx("button",{onClick:n,className:"px-3 py-1 rounded border text-xs hover:bg-slate-50",children:"Note"})})]})}function Cx({onClose:r}){const[e,n]=q.useState(""),[s,o]=q.useState(""),[u,f]=q.useState(""),[m,p]=q.useState(""),[y,E]=q.useState(""),[A,b]=q.useState(""),[P,F]=q.useState(""),[Q,z]=q.useState(!1);async function ie(Z){Z.preventDefault(),e&&(z(!0),await Zp(au(Xn,"contacts"),{name:e,org:s,role:y,country:A,email:u,phone:m||"",notes:P,ownerUid:Wn.currentUser?.uid||"unknown",created_at:Date.now(),updated_at:Date.now()}),z(!1),r())}return M.jsxs("div",{className:"fixed inset-0 z-50",children:[M.jsx("div",{className:"absolute inset-0 bg-black/20",onClick:r}),M.jsx("div",{className:"absolute inset-0 grid place-items-center p-4",children:M.jsxs("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl",children:[M.jsxs("div",{className:"px-5 py-4 border-b flex items-center justify-between",children:[M.jsx("h2",{className:"text-lg font-semibold",children:"Nieuw contact"}),M.jsx("button",{onClick:r,children:"✕"})]}),M.jsxs("form",{onSubmit:ie,className:"p-5 space-y-3",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Naam *"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:e,onChange:Z=>n(Z.target.value),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Organisatie"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:s,onChange:Z=>o(Z.target.value)})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Rol"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:y,onChange:Z=>E(Z.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Land"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:A,onChange:Z=>b(Z.target.value)})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Email"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",type:"email",value:u,onChange:Z=>f(Z.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Phone"}),M.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:m,onChange:Z=>p(Z.target.value)})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-slate-500 mb-1",children:"Notes"}),M.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,value:P,onChange:Z=>F(Z.target.value)})]}),M.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[M.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-lg border",children:"Annuleren"}),M.jsx("button",{disabled:Q,className:"px-4 py-2 rounded-lg bg-brand text-white font-semibold",children:Q?"Opslaan…":"Opslaan"})]})]})]})})]})}function Nx(){return M.jsxs(xw,{children:[M.jsx(Za,{path:"/",element:M.jsx(Nw,{to:"/pipeline",replace:!0})}),M.jsx(Za,{path:"/signin",element:M.jsx(_x,{})}),M.jsx(Za,{path:"/pipeline",element:M.jsx(Sx,{})}),M.jsx(Za,{path:"/contacts",element:M.jsx(Rx,{})}),M.jsx(Za,{path:"*",element:M.jsx("div",{style:{padding:16},children:"404"})})]})}zb.createRoot(document.getElementById("root")).render(M.jsx(Ob.StrictMode,{children:M.jsx(eR,{children:M.jsx(Nx,{})})}));
